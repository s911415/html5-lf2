"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.AudioContext=window.AudioContext||window.webkitAudioContext;function LoadScriptInSequence(a,b){const f=function(h){if(h>=a.length)return b?b():null;let i=document.createElement("script");i.src=a[h],i.addEventListener("load",()=>{f(h+1)}),document.head.appendChild(i)};let g="";return this instanceof HTMLScriptElement&&(g=this.src.slice(0,this.src.lastIndexOf("/")+1),a=a.map(h=>{return h.startsWith("/")?h:g+h})),f(0)}Array.prototype.toArray=a=>{return Array.prototype.slice.call(a)},String.prototype.getStringBetween=function(a,b,c){void 0===c&&(c=0);let d=this.indexOf(a,c),f=this.indexOf(b,d);return-1===d?"":-1===f?this.substr(d):(d+=a.length,this.substring(d,f))},String.prototype.getStringBetweenMulti=function(a,b,c){c===void 0&&(c=0);let d=this.indexOf(a,c),f=this.lastIndexOf(b);if(-1===d)return[""];if(-1===f)return[this.substr(d)];let g=[];for(;-1!==d&&d<f;){let h=this.indexOf(b,d),i=this.substring(d+a.length,h);g.push(i),d=this.indexOf(a,h+b.length)}return g},Number.prototype.inRange=function(a,b){return this>=a&&this<=b},String.prototype.lines=function(){return this.split(/\r?\n/)},String.prototype.padStart=String.prototype.padStart||function(a,b){b===void 0&&(b=" ");let c=this.toString();for(;c.length<a;)c=b+c;return c},Array.prototype.first=function(){return this[0]},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.binarySearch=function(a,b){b===void 0&&(b=(h,i)=>h-i);for(let f,g,c=0,d=this.length-1;c<=d;){f=0|(c+d)/2,g=this[f];let h=b(g,a);if(0===h)return f;0>h?c=f+1:0<h&&(d=f-1)}return-1};function intval(a){return parseInt(a,10)}function floatval(a){return parseFloat(a)}function loadImage(a){return new Promise((b,c)=>{let d=new Image;d.onload=function(){b(d)},d.onerror=function(f){c(f)},d.src=a})}Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)},Math.toRad=function(a){return a/180*Math.PI};
(function(o,r){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=o.document?r(o,!0):function(d){if(!d.document)throw new Error("jQuery requires a window with a document");return r(d)}:r(o)})("undefined"==typeof window?this:window,function(o,r){"use strict";function DOMEval(pt,ut){ut=ut||c;var ft=ut.createElement("script");ft.text=pt,ut.head.appendChild(ft).parentNode.removeChild(ft)}function isArrayLike(pt){var ut=!!pt&&"length"in pt&&pt.length,ft=E.type(pt);return"function"===ft||E.isWindow(pt)?!1:"array"===ft||0===ut||"number"==typeof ut&&0<ut&&ut-1 in pt}function nodeName(pt,ut){return pt.nodeName&&pt.nodeName.toLowerCase()===ut.toLowerCase()}function winnow(pt,ut,ft){return E.isFunction(ut)?E.grep(pt,function(ht,mt){return!!ut.call(ht,mt,ht)!==ft}):ut.nodeType?E.grep(pt,function(ht){return ht===ut!==ft}):"string"==typeof ut?W.test(ut)?E.filter(ut,pt,ft):(ut=E.filter(ut,pt),E.grep(pt,function(ht){return-1<y.call(ut,ht)!==ft&&1===ht.nodeType})):E.grep(pt,function(ht){return-1<y.call(ut,ht)!==ft})}function sibling(pt,ut){for(;(pt=pt[ut])&&1!==pt.nodeType;);return pt}function createOptions(pt){var ut={};return E.each(pt.match(z)||[],function(ft,ht){ut[ht]=!0}),ut}function Identity(pt){return pt}function Thrower(pt){throw pt}function adoptValue(pt,ut,ft,ht){var mt;try{pt&&E.isFunction(mt=pt.promise)?mt.call(pt).done(ut).fail(ft):pt&&E.isFunction(mt=pt.then)?mt.call(pt,ut,ft):ut.apply(void 0,[pt].slice(ht))}catch(gt){ft.apply(void 0,[gt])}}function completed(){c.removeEventListener("DOMContentLoaded",completed),o.removeEventListener("load",completed),E.ready()}function Data(){this.expando=E.expando+Data.uid++}function getData(pt){return"true"===pt||"false"!==pt&&("null"===pt?null:pt===+pt+""?+pt:Z.test(pt)?JSON.parse(pt):pt)}function dataAttr(pt,ut,ft){var ht;if(void 0===ft&&1===pt.nodeType)if(ht="data-"+ut.replace(ee,"-$&").toLowerCase(),ft=pt.getAttribute(ht),"string"==typeof ft){try{ft=getData(ft)}catch(mt){}J.set(pt,ut,ft)}else ft=void 0;return ft}function adjustCSS(pt,ut,ft,ht){var mt,gt=1,yt=20,xt=ht?function(){return ht.cur()}:function(){return E.css(pt,ut,"")},bt=xt(),vt=ft&&ft[3]||(E.cssNumber[ut]?"":"px"),Tt=(E.cssNumber[ut]||"px"!==vt&&+bt)&&ne.exec(E.css(pt,ut));if(Tt&&Tt[3]!==vt){vt=vt||Tt[3],ft=ft||[],Tt=+bt||1;do gt=gt||".5",Tt/=gt,E.style(pt,ut,Tt+vt);while(gt!=(gt=xt()/bt)&&1!=gt&&--yt)}return ft&&(Tt=+Tt||+bt||0,mt=ft[1]?Tt+(ft[1]+1)*ft[2]:+ft[2],ht&&(ht.unit=vt,ht.start=Tt,ht.end=mt)),mt}function getDefaultDisplay(pt){var ut,ft=pt.ownerDocument,ht=pt.nodeName,mt=re[ht];return mt?mt:(ut=ft.body.appendChild(ft.createElement(ht)),mt=E.css(ut,"display"),ut.parentNode.removeChild(ut),"none"===mt&&(mt="block"),re[ht]=mt,mt)}function showHide(pt,ut){for(var ft,ht,mt=[],gt=0,yt=pt.length;gt<yt;gt++)(ht=pt[gt],!!ht.style)&&(ft=ht.style.display,ut?("none"===ft&&(mt[gt]=K.get(ht,"display")||null,!mt[gt]&&(ht.style.display="")),""===ht.style.display&&oe(ht)&&(mt[gt]=getDefaultDisplay(ht))):"none"!==ft&&(mt[gt]="none",K.set(ht,"display",ft)));for(gt=0;gt<yt;gt++)null!=mt[gt]&&(pt[gt].style.display=mt[gt]);return pt}function getAll(pt,ut){var ft;return ft="undefined"==typeof pt.getElementsByTagName?"undefined"==typeof pt.querySelectorAll?[]:pt.querySelectorAll(ut||"*"):pt.getElementsByTagName(ut||"*"),void 0===ut||ut&&nodeName(pt,ut)?E.merge([pt],ft):ft}function setGlobalEval(pt,ut){for(var ft=0,ht=pt.length;ft<ht;ft++)K.set(pt[ft],"globalEval",!ut||K.get(ut[ft],"globalEval"))}function buildFragment(pt,ut,ft,ht,mt){for(var gt,yt,xt,bt,vt,Tt,wt=ut.createDocumentFragment(),Ct=[],Nt=0,kt=pt.length;Nt<kt;Nt++)if(gt=pt[Nt],gt||0===gt)if("object"===E.type(gt))E.merge(Ct,gt.nodeType?[gt]:gt);else if(!ce.test(gt))Ct.push(ut.createTextNode(gt));else{for(yt=yt||wt.appendChild(ut.createElement("div")),xt=(de.exec(gt)||["",""])[1].toLowerCase(),bt=pe[xt]||pe._default,yt.innerHTML=bt[1]+E.htmlPrefilter(gt)+bt[2],Tt=bt[0];Tt--;)yt=yt.lastChild;E.merge(Ct,yt.childNodes),yt=wt.firstChild,yt.textContent=""}for(wt.textContent="",Nt=0;gt=Ct[Nt++];){if(ht&&-1<E.inArray(gt,ht)){mt&&mt.push(gt);continue}if(vt=E.contains(gt.ownerDocument,gt),yt=getAll(wt.appendChild(gt),"script"),vt&&setGlobalEval(yt),ft)for(Tt=0;gt=yt[Tt++];)le.test(gt.type||"")&&ft.push(gt)}return wt}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return c.activeElement}catch(pt){}}function on(pt,ut,ft,ht,mt,gt){var yt,xt;if("object"==typeof ut){for(xt in"string"!=typeof ft&&(ht=ht||ft,ft=void 0),ut)on(pt,xt,ft,ht,ut[xt],gt);return pt}if(null==ht&&null==mt?(mt=ft,ht=ft=void 0):null==mt&&("string"==typeof ft?(mt=ht,ht=void 0):(mt=ht,ht=ft,ft=void 0)),!1===mt)mt=returnFalse;else if(!mt)return pt;return 1===gt&&(yt=mt,mt=function(bt){return E().off(bt),yt.apply(this,arguments)},mt.guid=yt.guid||(yt.guid=E.guid++)),pt.each(function(){E.event.add(this,ut,mt,ht,ft)})}function manipulationTarget(pt,ut){return nodeName(pt,"table")&&nodeName(11===ut.nodeType?ut.firstChild:ut,"tr")?E(">tbody",pt)[0]||pt:pt}function disableScript(pt){return pt.type=(null!==pt.getAttribute("type"))+"/"+pt.type,pt}function restoreScript(pt){var ut=be.exec(pt.type);return ut?pt.type=ut[1]:pt.removeAttribute("type"),pt}function cloneCopyEvent(pt,ut){var ft,ht,mt,gt,yt,xt,bt,vt;if(1===ut.nodeType){if(K.hasData(pt)&&(gt=K.access(pt),yt=K.set(ut,gt),vt=gt.events,vt))for(mt in delete yt.handle,yt.events={},vt)for(ft=0,ht=vt[mt].length;ft<ht;ft++)E.event.add(ut,mt,vt[mt][ft]);J.hasData(pt)&&(xt=J.access(pt),bt=E.extend({},xt),J.set(ut,bt))}}function fixInput(pt,ut){var ft=ut.nodeName.toLowerCase();"input"===ft&&ie.test(pt.type)?ut.checked=pt.checked:("input"===ft||"textarea"===ft)&&(ut.defaultValue=pt.defaultValue)}function domManip(pt,ut,ft,ht){ut=h.apply([],ut);var mt,gt,yt,xt,bt,vt,Tt=0,wt=pt.length,Nt=ut[0],kt=E.isFunction(Nt);if(kt||1<wt&&"string"==typeof Nt&&!S.checkClone&&xe.test(Nt))return pt.each(function(St){var jt=pt.eq(St);kt&&(ut[0]=Nt.call(this,St,jt.html())),domManip(jt,ut,ft,ht)});if(wt&&(mt=buildFragment(ut,pt[0].ownerDocument,!1,pt,ht),gt=mt.firstChild,1===mt.childNodes.length&&(mt=gt),gt||ht)){for(yt=E.map(getAll(mt,"script"),disableScript),xt=yt.length;Tt<wt;Tt++)bt=mt,Tt!=wt-1&&(bt=E.clone(bt,!0,!0),xt&&E.merge(yt,getAll(bt,"script"))),ft.call(pt[Tt],bt,Tt);if(xt)for(vt=yt[yt.length-1].ownerDocument,E.map(yt,restoreScript),Tt=0;Tt<xt;Tt++)bt=yt[Tt],le.test(bt.type||"")&&!K.access(bt,"globalEval")&&E.contains(vt,bt)&&(bt.src?E._evalUrl&&E._evalUrl(bt.src):DOMEval(bt.textContent.replace(ve,""),vt))}return pt}function remove(pt,ut,ft){for(var ht,mt=ut?E.filter(ut,pt):pt,gt=0;null!=(ht=mt[gt]);gt++)ft||1!==ht.nodeType||E.cleanData(getAll(ht)),ht.parentNode&&(ft&&E.contains(ht.ownerDocument,ht)&&setGlobalEval(getAll(ht,"script")),ht.parentNode.removeChild(ht));return pt}function curCSS(pt,ut,ft){var ht,mt,gt,yt,xt=pt.style;return ft=ft||Ce(pt),ft&&(yt=ft.getPropertyValue(ut)||ft[ut],""===yt&&!E.contains(pt.ownerDocument,pt)&&(yt=E.style(pt,ut)),!S.pixelMarginRight()&&we.test(yt)&&Te.test(ut)&&(ht=xt.width,mt=xt.minWidth,gt=xt.maxWidth,xt.minWidth=xt.maxWidth=xt.width=yt,yt=ft.width,xt.width=ht,xt.minWidth=mt,xt.maxWidth=gt)),void 0==yt?yt:yt+""}function addGetHookIf(pt,ut){return{get:function(){return pt()?void delete this.get:(this.get=ut).apply(this,arguments)}}}function vendorPropName(pt){if(pt in Ee)return pt;for(var ut=pt[0].toUpperCase()+pt.slice(1),ft=De.length;ft--;)if(pt=De[ft]+ut,pt in Ee)return pt}function finalPropName(pt){var ut=E.cssProps[pt];return ut||(ut=E.cssProps[pt]=vendorPropName(pt)||pt),ut}function setPositiveNumber(pt,ut,ft){var ht=ne.exec(ut);return ht?Math.max(0,ht[2]-(ft||0))+(ht[3]||"px"):ut}function augmentWidthOrHeight(pt,ut,ft,ht,mt){var gt,yt=0;for(gt=ft===(ht?"border":"content")?4:"width"===ut?1:0;4>gt;gt+=2)"margin"===ft&&(yt+=E.css(pt,ft+ae[gt],!0,mt)),ht?("content"===ft&&(yt-=E.css(pt,"padding"+ae[gt],!0,mt)),"margin"!==ft&&(yt-=E.css(pt,"border"+ae[gt]+"Width",!0,mt))):(yt+=E.css(pt,"padding"+ae[gt],!0,mt),"padding"!==ft&&(yt+=E.css(pt,"border"+ae[gt]+"Width",!0,mt)));return yt}function getWidthOrHeight(pt,ut,ft){var ht,mt=Ce(pt),gt=curCSS(pt,ut,mt),yt="border-box"===E.css(pt,"boxSizing",!1,mt);return we.test(gt)?gt:(ht=yt&&(S.boxSizingReliable()||gt===pt.style[ut]),"auto"===gt&&(gt=pt["offset"+ut[0].toUpperCase()+ut.slice(1)]),gt=parseFloat(gt)||0,gt+augmentWidthOrHeight(pt,ut,ft||(yt?"border":"content"),ht,mt)+"px")}function Tween(pt,ut,ft,ht,mt){return new Tween.prototype.init(pt,ut,ft,ht,mt)}function schedule(){Le&&(!1===c.hidden&&o.requestAnimationFrame?o.requestAnimationFrame(schedule):o.setTimeout(schedule,E.fx.interval),E.fx.tick())}function createFxNow(){return o.setTimeout(function(){Ae=void 0}),Ae=E.now()}function genFx(pt,ut){var ft,ht=0,mt={height:pt};for(ut=ut?1:0;4>ht;ht+=2-ut)ft=ae[ht],mt["margin"+ft]=mt["padding"+ft]=pt;return ut&&(mt.opacity=mt.width=pt),mt}function createTween(pt,ut,ft){for(var ht,mt=(Animation.tweeners[ut]||[]).concat(Animation.tweeners["*"]),gt=0,yt=mt.length;gt<yt;gt++)if(ht=mt[gt].call(ft,ut,pt))return ht}function propFilter(pt,ut){var ft,ht,mt,gt,yt;for(ft in pt)if(ht=E.camelCase(ft),mt=ut[ht],gt=pt[ft],Array.isArray(gt)&&(mt=gt[1],gt=pt[ft]=gt[0]),ft!=ht&&(pt[ht]=gt,delete pt[ft]),yt=E.cssHooks[ht],yt&&"expand"in yt)for(ft in gt=yt.expand(gt),delete pt[ht],gt)ft in pt||(pt[ft]=gt[ft],ut[ft]=mt);else ut[ht]=mt}function Animation(pt,ut,ft){var ht,mt,gt=0,yt=Animation.prefilters.length,xt=E.Deferred().always(function(){delete bt.elem}),bt=function(){if(mt)return!1;for(var wt=Ae||createFxNow(),Ct=Math.max(0,vt.startTime+vt.duration-wt),Nt=Ct/vt.duration||0,kt=1-Nt,St=0,jt=vt.tweens.length;St<jt;St++)vt.tweens[St].run(kt);return(xt.notifyWith(pt,[vt,kt,Ct]),1>kt&&jt)?Ct:(jt||xt.notifyWith(pt,[vt,1,0]),xt.resolveWith(pt,[vt]),!1)},vt=xt.promise({elem:pt,props:E.extend({},ut),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},ft),originalProperties:ut,originalOptions:ft,startTime:Ae||createFxNow(),duration:ft.duration,tweens:[],createTween:function(wt,Ct){var Nt=E.Tween(pt,vt.opts,wt,Ct,vt.opts.specialEasing[wt]||vt.opts.easing);return vt.tweens.push(Nt),Nt},stop:function(wt){var Ct=0,Nt=wt?vt.tweens.length:0;if(mt)return this;for(mt=!0;Ct<Nt;Ct++)vt.tweens[Ct].run(1);return wt?(xt.notifyWith(pt,[vt,1,0]),xt.resolveWith(pt,[vt,wt])):xt.rejectWith(pt,[vt,wt]),this}}),Tt=vt.props;for(propFilter(Tt,vt.opts.specialEasing);gt<yt;gt++)if(ht=Animation.prefilters[gt].call(vt,pt,Tt,vt.opts),ht)return E.isFunction(ht.stop)&&(E._queueHooks(vt.elem,vt.opts.queue).stop=E.proxy(ht.stop,ht)),ht;return E.map(Tt,createTween,vt),E.isFunction(vt.opts.start)&&vt.opts.start.call(pt,vt),vt.progress(vt.opts.progress).done(vt.opts.done,vt.opts.complete).fail(vt.opts.fail).always(vt.opts.always),E.fx.timer(E.extend(bt,{elem:pt,anim:vt,queue:vt.opts.queue})),vt}function stripAndCollapse(pt){var ut=pt.match(z)||[];return ut.join(" ")}function getClass(pt){return pt.getAttribute&&pt.getAttribute("class")||""}function buildParams(pt,ut,ft,ht){if(Array.isArray(ut))E.each(ut,function(gt,yt){ft||$e.test(pt)?ht(pt,yt):buildParams(pt+"["+("object"==typeof yt&&null!=yt?gt:"")+"]",yt,ft,ht)});else if(!ft&&"object"===E.type(ut))for(var mt in ut)buildParams(pt+"["+mt+"]",ut[mt],ft,ht);else ht(pt,ut)}function addToPrefiltersOrTransports(pt){return function(ut,ft){"string"!=typeof ut&&(ft=ut,ut="*");var ht,mt=0,gt=ut.toLowerCase().match(z)||[];if(E.isFunction(ft))for(;ht=gt[mt++];)"+"===ht[0]?(ht=ht.slice(1)||"*",(pt[ht]=pt[ht]||[]).unshift(ft)):(pt[ht]=pt[ht]||[]).push(ft)}}function inspectPrefiltersOrTransports(pt,ut,ft,ht){function inspect(yt){var xt;return mt[yt]=!0,E.each(pt[yt]||[],function(bt,vt){var Tt=vt(ut,ft,ht);return"string"!=typeof Tt||gt||mt[Tt]?gt?!(xt=Tt):void 0:(ut.dataTypes.unshift(Tt),inspect(Tt),!1)}),xt}var mt={},gt=pt===tt;return inspect(ut.dataTypes[0])||!mt["*"]&&inspect("*")}function ajaxExtend(pt,ut){var ft,ht,mt=E.ajaxSettings.flatOptions||{};for(ft in ut)void 0!==ut[ft]&&((mt[ft]?pt:ht||(ht={}))[ft]=ut[ft]);return ht&&E.extend(!0,pt,ht),pt}function ajaxHandleResponses(pt,ut,ft){for(var ht,mt,gt,yt,xt=pt.contents,bt=pt.dataTypes;"*"===bt[0];)bt.shift(),void 0==ht&&(ht=pt.mimeType||ut.getResponseHeader("Content-Type"));if(ht)for(mt in xt)if(xt[mt]&&xt[mt].test(ht)){bt.unshift(mt);break}if(bt[0]in ft)gt=bt[0];else{for(mt in ft){if(!bt[0]||pt.converters[mt+" "+bt[0]]){gt=mt;break}yt||(yt=mt)}gt=gt||yt}return gt?(gt!==bt[0]&&bt.unshift(gt),ft[gt]):void 0}function ajaxConvert(pt,ut,ft,ht){var mt,gt,yt,xt,bt,vt={},Tt=pt.dataTypes.slice();if(Tt[1])for(yt in pt.converters)vt[yt.toLowerCase()]=pt.converters[yt];for(gt=Tt.shift();gt;)if(pt.responseFields[gt]&&(ft[pt.responseFields[gt]]=ut),!bt&&ht&&pt.dataFilter&&(ut=pt.dataFilter(ut,pt.dataType)),bt=gt,gt=Tt.shift(),gt)if("*"===gt)gt=bt;else if("*"!==bt&&bt!=gt){if(yt=vt[bt+" "+gt]||vt["* "+gt],!yt)for(mt in vt)if(xt=mt.split(" "),xt[1]===gt&&(yt=vt[bt+" "+xt[0]]||vt["* "+xt[0]],yt)){!0===yt?yt=vt[mt]:!0!==vt[mt]&&(gt=xt[0],Tt.unshift(xt[1]));break}if(!0!==yt)if(yt&&pt.throws)ut=yt(ut);else try{ut=yt(ut)}catch(wt){return{state:"parsererror",error:yt?wt:"No conversion from "+bt+" to "+gt}}}return{state:"success",data:ut}}var d=[],c=o.document,u=Object.getPrototypeOf,f=d.slice,h=d.concat,g=d.push,y=d.indexOf,x={},T=x.toString,C=x.hasOwnProperty,N=C.toString,k=N.call(Object),S={},D="3.2.1",E=function(pt,ut){return new E.fn.init(pt,ut)},A=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,L=/^-ms-/,q=/-([a-z])/g,H=function(pt,ut){return ut.toUpperCase()};E.fn=E.prototype={jquery:D,constructor:E,length:0,toArray:function(){return f.call(this)},get:function(pt){return null==pt?f.call(this):0>pt?this[pt+this.length]:this[pt]},pushStack:function(pt){var ut=E.merge(this.constructor(),pt);return ut.prevObject=this,ut},each:function(pt){return E.each(this,pt)},map:function(pt){return this.pushStack(E.map(this,function(ut,ft){return pt.call(ut,ft,ut)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(pt){var ut=this.length,ft=+pt+(0>pt?ut:0);return this.pushStack(0<=ft&&ft<ut?[this[ft]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:d.sort,splice:d.splice},E.extend=E.fn.extend=function(){var pt,ut,ft,ht,mt,gt,yt=arguments[0]||{},xt=1,bt=arguments.length,vt=!1;for("boolean"==typeof yt&&(vt=yt,yt=arguments[xt]||{},xt++),"object"==typeof yt||E.isFunction(yt)||(yt={}),xt===bt&&(yt=this,xt--);xt<bt;xt++)if(null!=(pt=arguments[xt]))for(ut in pt)(ft=yt[ut],ht=pt[ut],yt!==ht)&&(vt&&ht&&(E.isPlainObject(ht)||(mt=Array.isArray(ht)))?(mt?(mt=!1,gt=ft&&Array.isArray(ft)?ft:[]):gt=ft&&E.isPlainObject(ft)?ft:{},yt[ut]=E.extend(vt,gt,ht)):void 0!=ht&&(yt[ut]=ht));return yt},E.extend({expando:"jQuery"+(D+Math.random()).replace(/\D/g,""),isReady:!0,error:function(pt){throw new Error(pt)},noop:function(){},isFunction:function(pt){return"function"===E.type(pt)},isWindow:function(pt){return null!=pt&&pt===pt.window},isNumeric:function(pt){var ut=E.type(pt);return("number"===ut||"string"===ut)&&!isNaN(pt-parseFloat(pt))},isPlainObject:function(pt){var ut,ft;return pt&&"[object Object]"===T.call(pt)&&((ut=u(pt),!!!ut)||(ft=C.call(ut,"constructor")&&ut.constructor,"function"==typeof ft&&N.call(ft)===k))},isEmptyObject:function(pt){for(var ut in pt)return!1;return!0},type:function(pt){return null==pt?pt+"":"object"==typeof pt||"function"==typeof pt?x[T.call(pt)]||"object":typeof pt},globalEval:function(pt){DOMEval(pt)},camelCase:function(pt){return pt.replace(L,"ms-").replace(q,H)},each:function(pt,ut){var ft,ht=0;if(isArrayLike(pt))for(ft=pt.length;ht<ft&&!1!==ut.call(pt[ht],ht,pt[ht]);ht++);else for(ht in pt)if(!1===ut.call(pt[ht],ht,pt[ht]))break;return pt},trim:function(pt){return null==pt?"":(pt+"").replace(A,"")},makeArray:function(pt,ut){var ft=ut||[];return null!=pt&&(isArrayLike(Object(pt))?E.merge(ft,"string"==typeof pt?[pt]:pt):g.call(ft,pt)),ft},inArray:function(pt,ut,ft){return null==ut?-1:y.call(ut,pt,ft)},merge:function(pt,ut){for(var ft=+ut.length,ht=0,mt=pt.length;ht<ft;ht++)pt[mt++]=ut[ht];return pt.length=mt,pt},grep:function(pt,ut,ft){for(var ht,mt=[],gt=0,yt=pt.length;gt<yt;gt++)ht=!ut(pt[gt],gt),ht!==!ft&&mt.push(pt[gt]);return mt},map:function(pt,ut,ft){var ht,mt,gt=0,yt=[];if(isArrayLike(pt))for(ht=pt.length;gt<ht;gt++)mt=ut(pt[gt],gt,ft),null!=mt&&yt.push(mt);else for(gt in pt)mt=ut(pt[gt],gt,ft),null!=mt&&yt.push(mt);return h.apply([],yt)},guid:1,proxy:function(pt,ut){var ft,ht,mt;if("string"==typeof ut&&(ft=pt[ut],ut=pt,pt=ft),!!E.isFunction(pt))return ht=f.call(arguments,2),mt=function(){return pt.apply(ut||this,ht.concat(f.call(arguments)))},mt.guid=pt.guid=pt.guid||E.guid++,mt},now:Date.now,support:S}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=d[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(pt,ut){x["[object "+ut+"]"]=ut.toLowerCase()});var O=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */function(pt){function Sizzle(bn,vn,Tn,wn){var Cn,Nn,kn,Sn,jn,Dn,En,An=vn&&vn.ownerDocument,Ln=vn?vn.nodeType:9;if(Tn=Tn||[],"string"!=typeof bn||!bn||1!==Ln&&9!==Ln&&11!==Ln)return Tn;if(!wn&&((vn?vn.ownerDocument||vn:qt)!==Nt&&Ct(vn),vn=vn||Nt,St)){if(11!==Ln&&(jn=pn.exec(bn)))if(!(Cn=jn[1])){if(jn[2])return $t.apply(Tn,vn.getElementsByTagName(bn)),Tn;if((Cn=jn[3])&&ft.getElementsByClassName&&vn.getElementsByClassName)return $t.apply(Tn,vn.getElementsByClassName(Cn)),Tn}else if(9===Ln){if(!(kn=vn.getElementById(Cn)))return Tn;if(kn.id===Cn)return Tn.push(kn),Tn}else if(An&&(kn=An.getElementById(Cn))&&At(vn,kn)&&kn.id===Cn)return Tn.push(kn),Tn;if(ft.qsa&&!Mt[bn+" "]&&(!jt||!jt.test(bn))){if(1!==Ln)An=vn,En=bn;else if("object"!==vn.nodeName.toLowerCase()){for((Sn=vn.getAttribute("id"))?Sn=Sn.replace(mn,gn):vn.setAttribute("id",Sn=Lt),Dn=yt(bn),Nn=Dn.length;Nn--;)Dn[Nn]="#"+Sn+" "+toSelector(Dn[Nn]);En=Dn.join(","),An=cn.test(bn)&&testContext(vn.parentNode)||vn}if(En)try{return $t.apply(Tn,An.querySelectorAll(En)),Tn}catch(qn){}finally{Sn===Lt&&vn.removeAttribute("id")}}}return bt(bn.replace(Jt,"$1"),vn,Tn,wn)}function createCache(){function cache(vn,Tn){return bn.push(vn+" ")>ht.cacheLength&&delete cache[bn.shift()],cache[vn+" "]=Tn}var bn=[];return cache}function markFunction(bn){return bn[Lt]=!0,bn}function assert(bn){var vn=Nt.createElement("fieldset");try{return!!bn(vn)}catch(Tn){return!1}finally{vn.parentNode&&vn.parentNode.removeChild(vn),vn=null}}function addHandle(bn,vn){for(var Tn=bn.split("|"),wn=Tn.length;wn--;)ht.attrHandle[Tn[wn]]=vn}function siblingCheck(bn,vn){var Tn=vn&&bn,wn=Tn&&1===bn.nodeType&&1===vn.nodeType&&bn.sourceIndex-vn.sourceIndex;if(wn)return wn;if(Tn)for(;Tn=Tn.nextSibling;)if(Tn===vn)return-1;return bn?1:-1}function createInputPseudo(bn){return function(vn){var Tn=vn.nodeName.toLowerCase();return"input"===Tn&&vn.type===bn}}function createButtonPseudo(bn){return function(vn){var Tn=vn.nodeName.toLowerCase();return("input"===Tn||"button"===Tn)&&vn.type===bn}}function createDisabledPseudo(bn){return function(vn){return"form"in vn?vn.parentNode&&!1===vn.disabled?"label"in vn?"label"in vn.parentNode?vn.parentNode.disabled===bn:vn.disabled===bn:vn.isDisabled===bn||vn.isDisabled!==!bn&&xn(vn)===bn:vn.disabled===bn:!!("label"in vn)&&vn.disabled===bn}}function createPositionalPseudo(bn){return markFunction(function(vn){return vn=+vn,markFunction(function(Tn,wn){for(var Cn,Nn=bn([],Tn.length,vn),kn=Nn.length;kn--;)Tn[Cn=Nn[kn]]&&(Tn[Cn]=!(wn[Cn]=Tn[Cn]))})})}function testContext(bn){return bn&&"undefined"!=typeof bn.getElementsByTagName&&bn}function setFilters(){}function toSelector(bn){for(var vn=0,Tn=bn.length,wn="";vn<Tn;vn++)wn+=bn[vn].value;return wn}function addCombinator(bn,vn,Tn){var wn=vn.dir,Cn=vn.next,Nn=Cn||wn,kn=Tn&&"parentNode"===Nn,Sn=Ot++;return vn.first?function(jn,Dn,En){for(;jn=jn[wn];)if(1===jn.nodeType||kn)return bn(jn,Dn,En);return!1}:function(jn,Dn,En){var An,Ln,qn,Hn=[Ht,Sn];if(En){for(;jn=jn[wn];)if((1===jn.nodeType||kn)&&bn(jn,Dn,En))return!0;}else for(;jn=jn[wn];)if(1===jn.nodeType||kn)if(qn=jn[Lt]||(jn[Lt]={}),Ln=qn[jn.uniqueID]||(qn[jn.uniqueID]={}),Cn&&Cn===jn.nodeName.toLowerCase())jn=jn[wn]||jn;else{if((An=Ln[Nn])&&An[0]===Ht&&An[1]===Sn)return Hn[2]=An[2];if(Ln[Nn]=Hn,Hn[2]=bn(jn,Dn,En))return!0}return!1}}function elementMatcher(bn){return 1<bn.length?function(vn,Tn,wn){for(var Cn=bn.length;Cn--;)if(!bn[Cn](vn,Tn,wn))return!1;return!0}:bn[0]}function multipleContexts(bn,vn,Tn){for(var wn=0,Cn=vn.length;wn<Cn;wn++)Sizzle(bn,vn[wn],Tn);return Tn}function condense(bn,vn,Tn,wn,Cn){for(var Nn,kn=[],Sn=0,jn=bn.length;Sn<jn;Sn++)(Nn=bn[Sn])&&(!Tn||Tn(Nn,wn,Cn))&&(kn.push(Nn),null!=vn&&vn.push(Sn));return kn}function setMatcher(bn,vn,Tn,wn,Cn,Nn){return wn&&!wn[Lt]&&(wn=setMatcher(wn)),Cn&&!Cn[Lt]&&(Cn=setMatcher(Cn,Nn)),markFunction(function(kn,Sn,jn,Dn){var En,An,Ln,qn=[],Hn=[],On=Sn.length,Pn=kn||multipleContexts(vn||"*",jn.nodeType?[jn]:jn,[]),Fn=bn&&(kn||!vn)?condense(Pn,qn,bn,jn,Dn):Pn,Mn=Tn?Cn||(kn?bn:On||wn)?[]:Sn:Fn;if(Tn&&Tn(Fn,Mn,jn,Dn),wn)for(En=condense(Mn,Hn),wn(En,[],jn,Dn),An=En.length;An--;)(Ln=En[An])&&(Mn[Hn[An]]=!(Fn[Hn[An]]=Ln));if(!kn)Mn=condense(Mn===Sn?Mn.splice(On,Mn.length):Mn),Cn?Cn(null,Sn,Mn,Dn):$t.apply(Sn,Mn);else if(Cn||bn){if(Cn){for(En=[],An=Mn.length;An--;)(Ln=Mn[An])&&En.push(Fn[An]=Ln);Cn(null,Mn=[],En,Dn)}for(An=Mn.length;An--;)(Ln=Mn[An])&&-1<(En=Cn?Ut(kn,Ln):qn[An])&&(kn[En]=!(Sn[En]=Ln))}})}function matcherFromTokens(bn){for(var vn,Tn,wn,Cn=bn.length,Nn=ht.relative[bn[0].type],kn=Nn||ht.relative[" "],Sn=Nn?1:0,jn=addCombinator(function(An){return An===vn},kn,!0),Dn=addCombinator(function(An){return-1<Ut(vn,An)},kn,!0),En=[function(An,Ln,qn){var Hn=!Nn&&(qn||Ln!==vt)||((vn=Ln).nodeType?jn(An,Ln,qn):Dn(An,Ln,qn));return vn=null,Hn}];Sn<Cn;Sn++)if(Tn=ht.relative[bn[Sn].type])En=[addCombinator(elementMatcher(En),Tn)];else{if(Tn=ht.filter[bn[Sn].type].apply(null,bn[Sn].matches),Tn[Lt]){for(wn=++Sn;wn<Cn&&!ht.relative[bn[wn].type];wn++);return setMatcher(1<Sn&&elementMatcher(En),1<Sn&&toSelector(bn.slice(0,Sn-1).concat({value:" "===bn[Sn-2].type?"*":""})).replace(Jt,"$1"),Tn,Sn<wn&&matcherFromTokens(bn.slice(Sn,wn)),wn<Cn&&matcherFromTokens(bn=bn.slice(wn)),wn<Cn&&toSelector(bn))}En.push(Tn)}return elementMatcher(En)}function matcherFromGroupMatchers(bn,vn){var Tn=0<vn.length,wn=0<bn.length,Cn=function(Nn,kn,Sn,jn,Dn){var En,An,Ln,qn=0,Hn="0",On=Nn&&[],Pn=[],Fn=vt,Mn=Nn||wn&&ht.find.TAG("*",Dn),In=Ht+=null==Fn?1:Math.random()||0.1,Wn=Mn.length;for(Dn&&(vt=kn===Nt||kn||Dn);Hn!==Wn&&null!=(En=Mn[Hn]);Hn++){if(wn&&En){for(An=0,kn||En.ownerDocument===Nt||(Ct(En),Sn=!St);Ln=bn[An++];)if(Ln(En,kn||Nt,Sn)){jn.push(En);break}Dn&&(Ht=In)}Tn&&((En=!Ln&&En)&&qn--,Nn&&On.push(En))}if(qn+=Hn,Tn&&Hn!==qn){for(An=0;Ln=vn[An++];)Ln(On,Pn,kn,Sn);if(Nn){if(0<qn)for(;Hn--;)On[Hn]||Pn[Hn]||(Pn[Hn]=Bt.call(jn));Pn=condense(Pn)}$t.apply(jn,Pn),Dn&&!Nn&&0<Pn.length&&1<qn+vn.length&&Sizzle.uniqueSort(jn)}return Dn&&(Ht=In,vt=Fn),On};return Tn?markFunction(Cn):Cn}var ut,ft,ht,mt,gt,yt,xt,bt,vt,Tt,wt,Ct,Nt,kt,St,jt,Dt,Et,At,Lt="sizzle"+1*new Date,qt=pt.document,Ht=0,Ot=0,Pt=createCache(),Ft=createCache(),Mt=createCache(),It=function(bn,vn){return bn===vn&&(wt=!0),0},Wt={}.hasOwnProperty,Rt=[],Bt=Rt.pop,_t=Rt.push,$t=Rt.push,Xt=Rt.slice,Ut=function(bn,vn){for(var Tn=0,wn=bn.length;Tn<wn;Tn++)if(bn[Tn]===vn)return Tn;return-1},zt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Vt="[\\x20\\t\\r\\n\\f]",Yt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",Kt=/[\x20\t\r\n\f]+/g,Jt=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Zt=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,en=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,tn=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,nn=/:((?:\\.|[\w-]|[^ -\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^ -\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^ -\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,an=/^(?:\\.|[\w-]|[^ -\xa0])+$/,sn={ID:/^#((?:\\.|[\w-]|[^ -\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^ -\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^ -\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^ -\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^ -\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^ -\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^ -\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^ -\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},rn=/^(?:input|select|textarea|button)$/i,dn=/^h\d$/i,ln=/^[^{]+\{\s*\[native \w/,pn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cn=/[+~]/,un=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,hn=function(bn,vn,Tn){var wn="0x"+vn-65536;return wn!=wn||Tn?vn:0>wn?String.fromCharCode(wn+65536):String.fromCharCode(55296|wn>>10,56320|1023&wn)},mn=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,gn=function(bn,vn){return vn?"\0"===bn?"\uFFFD":bn.slice(0,-1)+"\\"+bn.charCodeAt(bn.length-1).toString(16)+" ":"\\"+bn},yn=function(){Ct()},xn=addCombinator(function(bn){return!0===bn.disabled&&("form"in bn||"label"in bn)},{dir:"parentNode",next:"legend"});try{$t.apply(Rt=Xt.call(qt.childNodes),qt.childNodes),Rt[qt.childNodes.length].nodeType}catch(bn){$t={apply:Rt.length?function(vn,Tn){_t.apply(vn,Xt.call(Tn))}:function(vn,Tn){for(var wn=vn.length,Cn=0;vn[wn++]=Tn[Cn++];);vn.length=wn-1}}}for(ut in ft=Sizzle.support={},gt=Sizzle.isXML=function(bn){var vn=bn&&(bn.ownerDocument||bn).documentElement;return!!vn&&"HTML"!==vn.nodeName},Ct=Sizzle.setDocument=function(bn){var vn,Tn,wn=bn?bn.ownerDocument||bn:qt;return wn!==Nt&&9===wn.nodeType&&wn.documentElement?(Nt=wn,kt=Nt.documentElement,St=!gt(Nt),qt!==Nt&&(Tn=Nt.defaultView)&&Tn.top!==Tn&&(Tn.addEventListener?Tn.addEventListener("unload",yn,!1):Tn.attachEvent&&Tn.attachEvent("onunload",yn)),ft.attributes=assert(function(Cn){return Cn.className="i",!Cn.getAttribute("className")}),ft.getElementsByTagName=assert(function(Cn){return Cn.appendChild(Nt.createComment("")),!Cn.getElementsByTagName("*").length}),ft.getElementsByClassName=ln.test(Nt.getElementsByClassName),ft.getById=assert(function(Cn){return kt.appendChild(Cn).id=Lt,!Nt.getElementsByName||!Nt.getElementsByName(Lt).length}),ft.getById?(ht.filter.ID=function(Cn){var Nn=Cn.replace(un,hn);return function(kn){return kn.getAttribute("id")===Nn}},ht.find.ID=function(Cn,Nn){if("undefined"!=typeof Nn.getElementById&&St){var kn=Nn.getElementById(Cn);return kn?[kn]:[]}}):(ht.filter.ID=function(Cn){var Nn=Cn.replace(un,hn);return function(kn){var Sn="undefined"!=typeof kn.getAttributeNode&&kn.getAttributeNode("id");return Sn&&Sn.value===Nn}},ht.find.ID=function(Cn,Nn){if("undefined"!=typeof Nn.getElementById&&St){var kn,Sn,jn,Dn=Nn.getElementById(Cn);if(Dn){if(kn=Dn.getAttributeNode("id"),kn&&kn.value===Cn)return[Dn];for(jn=Nn.getElementsByName(Cn),Sn=0;Dn=jn[Sn++];)if(kn=Dn.getAttributeNode("id"),kn&&kn.value===Cn)return[Dn]}return[]}}),ht.find.TAG=ft.getElementsByTagName?function(Cn,Nn){return"undefined"==typeof Nn.getElementsByTagName?ft.qsa?Nn.querySelectorAll(Cn):void 0:Nn.getElementsByTagName(Cn)}:function(Cn,Nn){var kn,Sn=[],jn=0,Dn=Nn.getElementsByTagName(Cn);if("*"===Cn){for(;kn=Dn[jn++];)1===kn.nodeType&&Sn.push(kn);return Sn}return Dn},ht.find.CLASS=ft.getElementsByClassName&&function(Cn,Nn){if("undefined"!=typeof Nn.getElementsByClassName&&St)return Nn.getElementsByClassName(Cn)},Dt=[],jt=[],(ft.qsa=ln.test(Nt.querySelectorAll))&&(assert(function(Cn){kt.appendChild(Cn).innerHTML="<a id='"+Lt+"'></a><select id='"+Lt+"-\r\\' msallowcapture=''><option selected=''></option></select>",Cn.querySelectorAll("[msallowcapture^='']").length&&jt.push("[*^$]="+Vt+"*(?:''|\"\")"),Cn.querySelectorAll("[selected]").length||jt.push("\\["+Vt+"*(?:value|"+zt+")"),Cn.querySelectorAll("[id~="+Lt+"-]").length||jt.push("~="),Cn.querySelectorAll(":checked").length||jt.push(":checked"),Cn.querySelectorAll("a#"+Lt+"+*").length||jt.push(".#.+[+~]")}),assert(function(Cn){Cn.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Nn=Nt.createElement("input");Nn.setAttribute("type","hidden"),Cn.appendChild(Nn).setAttribute("name","D"),Cn.querySelectorAll("[name=d]").length&&jt.push("name"+Vt+"*[*^$|!~]?="),2!==Cn.querySelectorAll(":enabled").length&&jt.push(":enabled",":disabled"),kt.appendChild(Cn).disabled=!0,2!==Cn.querySelectorAll(":disabled").length&&jt.push(":enabled",":disabled"),Cn.querySelectorAll("*,:x"),jt.push(",.*:")})),(ft.matchesSelector=ln.test(Et=kt.matches||kt.webkitMatchesSelector||kt.mozMatchesSelector||kt.oMatchesSelector||kt.msMatchesSelector))&&assert(function(Cn){ft.disconnectedMatch=Et.call(Cn,"*"),Et.call(Cn,"[s!='']:x"),Dt.push("!=",":("+Yt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+("\\["+Vt+"*("+Yt+")(?:"+Vt+"*([*^$|!~]?=)"+Vt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Yt+"))|)"+Vt+"*\\]")+")*)|.*)\\)|)")}),jt=jt.length&&new RegExp(jt.join("|")),Dt=Dt.length&&new RegExp(Dt.join("|")),vn=ln.test(kt.compareDocumentPosition),At=vn||ln.test(kt.contains)?function(Cn,Nn){var kn=9===Cn.nodeType?Cn.documentElement:Cn,Sn=Nn&&Nn.parentNode;return Cn===Sn||!!(Sn&&1===Sn.nodeType&&(kn.contains?kn.contains(Sn):Cn.compareDocumentPosition&&16&Cn.compareDocumentPosition(Sn)))}:function(Cn,Nn){if(Nn)for(;Nn=Nn.parentNode;)if(Nn===Cn)return!0;return!1},It=vn?function(Cn,Nn){if(Cn===Nn)return wt=!0,0;var kn=!Cn.compareDocumentPosition-!Nn.compareDocumentPosition;return kn?kn:(kn=(Cn.ownerDocument||Cn)===(Nn.ownerDocument||Nn)?Cn.compareDocumentPosition(Nn):1,1&kn||!ft.sortDetached&&Nn.compareDocumentPosition(Cn)===kn?Cn===Nt||Cn.ownerDocument===qt&&At(qt,Cn)?-1:Nn===Nt||Nn.ownerDocument===qt&&At(qt,Nn)?1:Tt?Ut(Tt,Cn)-Ut(Tt,Nn):0:4&kn?-1:1)}:function(Cn,Nn){if(Cn===Nn)return wt=!0,0;var kn,Sn=0,jn=Cn.parentNode,Dn=Nn.parentNode,En=[Cn],An=[Nn];if(!jn||!Dn)return Cn===Nt?-1:Nn===Nt?1:jn?-1:Dn?1:Tt?Ut(Tt,Cn)-Ut(Tt,Nn):0;if(jn===Dn)return siblingCheck(Cn,Nn);for(kn=Cn;kn=kn.parentNode;)En.unshift(kn);for(kn=Nn;kn=kn.parentNode;)An.unshift(kn);for(;En[Sn]===An[Sn];)Sn++;return Sn?siblingCheck(En[Sn],An[Sn]):En[Sn]===qt?-1:An[Sn]===qt?1:0},Nt):Nt},Sizzle.matches=function(bn,vn){return Sizzle(bn,null,null,vn)},Sizzle.matchesSelector=function(bn,vn){if((bn.ownerDocument||bn)!==Nt&&Ct(bn),vn=vn.replace(tn,"='$1']"),ft.matchesSelector&&St&&!Mt[vn+" "]&&(!Dt||!Dt.test(vn))&&(!jt||!jt.test(vn)))try{var Tn=Et.call(bn,vn);if(Tn||ft.disconnectedMatch||bn.document&&11!==bn.document.nodeType)return Tn}catch(wn){}return 0<Sizzle(vn,Nt,null,[bn]).length},Sizzle.contains=function(bn,vn){return(bn.ownerDocument||bn)!==Nt&&Ct(bn),At(bn,vn)},Sizzle.attr=function(bn,vn){(bn.ownerDocument||bn)!==Nt&&Ct(bn);var Tn=ht.attrHandle[vn.toLowerCase()],wn=Tn&&Wt.call(ht.attrHandle,vn.toLowerCase())?Tn(bn,vn,!St):void 0;return void 0===wn?ft.attributes||!St?bn.getAttribute(vn):(wn=bn.getAttributeNode(vn))&&wn.specified?wn.value:null:wn},Sizzle.escape=function(bn){return(bn+"").replace(mn,gn)},Sizzle.error=function(bn){throw new Error("Syntax error, unrecognized expression: "+bn)},Sizzle.uniqueSort=function(bn){var vn,Tn=[],wn=0,Cn=0;if(wt=!ft.detectDuplicates,Tt=!ft.sortStable&&bn.slice(0),bn.sort(It),wt){for(;vn=bn[Cn++];)vn===bn[Cn]&&(wn=Tn.push(Cn));for(;wn--;)bn.splice(Tn[wn],1)}return Tt=null,bn},mt=Sizzle.getText=function(bn){var vn,Tn="",wn=0,Cn=bn.nodeType;if(!Cn)for(;vn=bn[wn++];)Tn+=mt(vn);else if(1===Cn||9===Cn||11===Cn){if("string"==typeof bn.textContent)return bn.textContent;for(bn=bn.firstChild;bn;bn=bn.nextSibling)Tn+=mt(bn)}else if(3===Cn||4===Cn)return bn.nodeValue;return Tn},ht=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:sn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(bn){return bn[1]=bn[1].replace(un,hn),bn[3]=(bn[3]||bn[4]||bn[5]||"").replace(un,hn),"~="===bn[2]&&(bn[3]=" "+bn[3]+" "),bn.slice(0,4)},CHILD:function(bn){return bn[1]=bn[1].toLowerCase(),"nth"===bn[1].slice(0,3)?(!bn[3]&&Sizzle.error(bn[0]),bn[4]=+(bn[4]?bn[5]+(bn[6]||1):2*("even"===bn[3]||"odd"===bn[3])),bn[5]=+(bn[7]+bn[8]||"odd"===bn[3])):bn[3]&&Sizzle.error(bn[0]),bn},PSEUDO:function(bn){var vn,Tn=!bn[6]&&bn[2];return sn.CHILD.test(bn[0])?null:(bn[3]?bn[2]=bn[4]||bn[5]||"":Tn&&nn.test(Tn)&&(vn=yt(Tn,!0))&&(vn=Tn.indexOf(")",Tn.length-vn)-Tn.length)&&(bn[0]=bn[0].slice(0,vn),bn[2]=Tn.slice(0,vn)),bn.slice(0,3))}},filter:{TAG:function(bn){var vn=bn.replace(un,hn).toLowerCase();return"*"===bn?function(){return!0}:function(Tn){return Tn.nodeName&&Tn.nodeName.toLowerCase()===vn}},CLASS:function(bn){var vn=Pt[bn+" "];return vn||(vn=new RegExp("(^|"+Vt+")"+bn+"("+Vt+"|$)"))&&Pt(bn,function(Tn){return vn.test("string"==typeof Tn.className&&Tn.className||"undefined"!=typeof Tn.getAttribute&&Tn.getAttribute("class")||"")})},ATTR:function(bn,vn,Tn){return function(wn){var Cn=Sizzle.attr(wn,bn);return null==Cn?"!="===vn:!vn||(Cn+="","="===vn?Cn===Tn:"!="===vn?Cn!==Tn:"^="===vn?Tn&&0===Cn.indexOf(Tn):"*="===vn?Tn&&-1<Cn.indexOf(Tn):"$="===vn?Tn&&Cn.slice(-Tn.length)===Tn:"~="===vn?-1<(" "+Cn.replace(Kt," ")+" ").indexOf(Tn):"|="==vn&&(Cn===Tn||Cn.slice(0,Tn.length+1)===Tn+"-"))}},CHILD:function(bn,vn,Tn,wn,Cn){var Nn="nth"!==bn.slice(0,3),kn="last"!==bn.slice(-4),Sn="of-type"===vn;return 1===wn&&0===Cn?function(jn){return!!jn.parentNode}:function(jn,Dn,En){var An,Ln,qn,Hn,On,Pn,Fn=Nn==kn?"previousSibling":"nextSibling",Mn=jn.parentNode,In=Sn&&jn.nodeName.toLowerCase(),Wn=!En&&!Sn,Rn=!1;if(Mn){if(Nn){for(;Fn;){for(Hn=jn;Hn=Hn[Fn];)if(Sn?Hn.nodeName.toLowerCase()===In:1===Hn.nodeType)return!1;Pn=Fn="only"===bn&&!Pn&&"nextSibling"}return!0}if(Pn=[kn?Mn.firstChild:Mn.lastChild],kn&&Wn){for(Hn=Mn,qn=Hn[Lt]||(Hn[Lt]={}),Ln=qn[Hn.uniqueID]||(qn[Hn.uniqueID]={}),An=Ln[bn]||[],On=An[0]===Ht&&An[1],Rn=On&&An[2],Hn=On&&Mn.childNodes[On];Hn=++On&&Hn&&Hn[Fn]||(Rn=On=0)||Pn.pop();)if(1===Hn.nodeType&&++Rn&&Hn===jn){Ln[bn]=[Ht,On,Rn];break}}else if(Wn&&(Hn=jn,qn=Hn[Lt]||(Hn[Lt]={}),Ln=qn[Hn.uniqueID]||(qn[Hn.uniqueID]={}),An=Ln[bn]||[],On=An[0]===Ht&&An[1],Rn=On),!1==Rn)for(;(Hn=++On&&Hn&&Hn[Fn]||(Rn=On=0)||Pn.pop())&&!((Sn?Hn.nodeName.toLowerCase()===In:1===Hn.nodeType)&&++Rn&&(Wn&&(qn=Hn[Lt]||(Hn[Lt]={}),Ln=qn[Hn.uniqueID]||(qn[Hn.uniqueID]={}),Ln[bn]=[Ht,Rn]),Hn===jn)););return Rn-=Cn,Rn===wn||0==Rn%wn&&0<=Rn/wn}}},PSEUDO:function(bn,vn){var Tn,wn=ht.pseudos[bn]||ht.setFilters[bn.toLowerCase()]||Sizzle.error("unsupported pseudo: "+bn);return wn[Lt]?wn(vn):1<wn.length?(Tn=[bn,bn,"",vn],ht.setFilters.hasOwnProperty(bn.toLowerCase())?markFunction(function(Cn,Nn){for(var kn,Sn=wn(Cn,vn),jn=Sn.length;jn--;)kn=Ut(Cn,Sn[jn]),Cn[kn]=!(Nn[kn]=Sn[jn])}):function(Cn){return wn(Cn,0,Tn)}):wn}},pseudos:{not:markFunction(function(bn){var vn=[],Tn=[],wn=xt(bn.replace(Jt,"$1"));return wn[Lt]?markFunction(function(Cn,Nn,kn,Sn){for(var jn,Dn=wn(Cn,null,Sn,[]),En=Cn.length;En--;)(jn=Dn[En])&&(Cn[En]=!(Nn[En]=jn))}):function(Cn,Nn,kn){return vn[0]=Cn,wn(vn,null,kn,Tn),vn[0]=null,!Tn.pop()}}),has:markFunction(function(bn){return function(vn){return 0<Sizzle(bn,vn).length}}),contains:markFunction(function(bn){return bn=bn.replace(un,hn),function(vn){return-1<(vn.textContent||vn.innerText||mt(vn)).indexOf(bn)}}),lang:markFunction(function(bn){return an.test(bn||"")||Sizzle.error("unsupported lang: "+bn),bn=bn.replace(un,hn).toLowerCase(),function(vn){var Tn;do if(Tn=St?vn.lang:vn.getAttribute("xml:lang")||vn.getAttribute("lang"))return Tn=Tn.toLowerCase(),Tn===bn||0===Tn.indexOf(bn+"-");while((vn=vn.parentNode)&&1===vn.nodeType);return!1}}),target:function(bn){var vn=pt.location&&pt.location.hash;return vn&&vn.slice(1)===bn.id},root:function(bn){return bn===kt},focus:function(bn){return bn===Nt.activeElement&&(!Nt.hasFocus||Nt.hasFocus())&&!!(bn.type||bn.href||~bn.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(bn){var vn=bn.nodeName.toLowerCase();return"input"===vn&&!!bn.checked||"option"===vn&&!!bn.selected},selected:function(bn){return bn.parentNode&&bn.parentNode.selectedIndex,!0===bn.selected},empty:function(bn){for(bn=bn.firstChild;bn;bn=bn.nextSibling)if(6>bn.nodeType)return!1;return!0},parent:function(bn){return!ht.pseudos.empty(bn)},header:function(bn){return dn.test(bn.nodeName)},input:function(bn){return rn.test(bn.nodeName)},button:function(bn){var vn=bn.nodeName.toLowerCase();return"input"===vn&&"button"===bn.type||"button"===vn},text:function(bn){var vn;return"input"===bn.nodeName.toLowerCase()&&"text"===bn.type&&(null==(vn=bn.getAttribute("type"))||"text"===vn.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(bn,vn){return[vn-1]}),eq:createPositionalPseudo(function(bn,vn,Tn){return[0>Tn?Tn+vn:Tn]}),even:createPositionalPseudo(function(bn,vn){for(var Tn=0;Tn<vn;Tn+=2)bn.push(Tn);return bn}),odd:createPositionalPseudo(function(bn,vn){for(var Tn=1;Tn<vn;Tn+=2)bn.push(Tn);return bn}),lt:createPositionalPseudo(function(bn,vn,Tn){for(var wn=0>Tn?Tn+vn:Tn;0<=--wn;)bn.push(wn);return bn}),gt:createPositionalPseudo(function(bn,vn,Tn){for(var wn=0>Tn?Tn+vn:Tn;++wn<vn;)bn.push(wn);return bn})}},ht.pseudos.nth=ht.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ht.pseudos[ut]=createInputPseudo(ut);for(ut in{submit:!0,reset:!0})ht.pseudos[ut]=createButtonPseudo(ut);return setFilters.prototype=ht.filters=ht.pseudos,ht.setFilters=new setFilters,yt=Sizzle.tokenize=function(bn,vn){var Tn,wn,Cn,Nn,kn,Sn,jn,Dn=Ft[bn+" "];if(Dn)return vn?0:Dn.slice(0);for(kn=bn,Sn=[],jn=ht.preFilter;kn;){for(Nn in(!Tn||(wn=Zt.exec(kn)))&&(wn&&(kn=kn.slice(wn[0].length)||kn),Sn.push(Cn=[])),Tn=!1,(wn=en.exec(kn))&&(Tn=wn.shift(),Cn.push({value:Tn,type:wn[0].replace(Jt," ")}),kn=kn.slice(Tn.length)),ht.filter)(wn=sn[Nn].exec(kn))&&(!jn[Nn]||(wn=jn[Nn](wn)))&&(Tn=wn.shift(),Cn.push({value:Tn,type:Nn,matches:wn}),kn=kn.slice(Tn.length));if(!Tn)break}return vn?kn.length:kn?Sizzle.error(bn):Ft(bn,Sn).slice(0)},xt=Sizzle.compile=function(bn,vn){var Tn,wn=[],Cn=[],Nn=Mt[bn+" "];if(!Nn){for(vn||(vn=yt(bn)),Tn=vn.length;Tn--;)Nn=matcherFromTokens(vn[Tn]),Nn[Lt]?wn.push(Nn):Cn.push(Nn);Nn=Mt(bn,matcherFromGroupMatchers(Cn,wn)),Nn.selector=bn}return Nn},bt=Sizzle.select=function(bn,vn,Tn,wn){var Cn,Nn,kn,Sn,jn,Dn="function"==typeof bn&&bn,En=!wn&&yt(bn=Dn.selector||bn);if(Tn=Tn||[],1===En.length){if(Nn=En[0]=En[0].slice(0),2<Nn.length&&"ID"===(kn=Nn[0]).type&&9===vn.nodeType&&St&&ht.relative[Nn[1].type]){if(vn=(ht.find.ID(kn.matches[0].replace(un,hn),vn)||[])[0],!vn)return Tn;Dn&&(vn=vn.parentNode),bn=bn.slice(Nn.shift().value.length)}for(Cn=sn.needsContext.test(bn)?0:Nn.length;Cn--&&(kn=Nn[Cn],!ht.relative[Sn=kn.type]);)if((jn=ht.find[Sn])&&(wn=jn(kn.matches[0].replace(un,hn),cn.test(Nn[0].type)&&testContext(vn.parentNode)||vn))){if(Nn.splice(Cn,1),bn=wn.length&&toSelector(Nn),!bn)return $t.apply(Tn,wn),Tn;break}}return(Dn||xt(bn,En))(wn,vn,!St,Tn,!vn||cn.test(bn)&&testContext(vn.parentNode)||vn),Tn},ft.sortStable=Lt.split("").sort(It).join("")===Lt,ft.detectDuplicates=!!wt,Ct(),ft.sortDetached=assert(function(bn){return 1&bn.compareDocumentPosition(Nt.createElement("fieldset"))}),assert(function(bn){return bn.innerHTML="<a href='#'></a>","#"===bn.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(bn,vn,Tn){if(!Tn)return bn.getAttribute(vn,"type"===vn.toLowerCase()?1:2)}),ft.attributes&&assert(function(bn){return bn.innerHTML="<input/>",bn.firstChild.setAttribute("value",""),""===bn.firstChild.getAttribute("value")})||addHandle("value",function(bn,vn,Tn){if(!Tn&&"input"===bn.nodeName.toLowerCase())return bn.defaultValue}),assert(function(bn){return null==bn.getAttribute("disabled")})||addHandle(zt,function(bn,vn,Tn){var wn;if(!Tn)return!0===bn[vn]?vn.toLowerCase():(wn=bn.getAttributeNode(vn))&&wn.specified?wn.value:null}),Sizzle}(o);E.find=O,E.expr=O.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=O.uniqueSort,E.text=O.getText,E.isXMLDoc=O.isXML,E.contains=O.contains,E.escapeSelector=O.escape;var P=function(pt,ut,ft){for(var ht=[];(pt=pt[ut])&&9!==pt.nodeType;)if(1===pt.nodeType){if(void 0!==ft&&E(pt).is(ft))break;ht.push(pt)}return ht},F=function(pt,ut){for(var ft=[];pt;pt=pt.nextSibling)1===pt.nodeType&&pt!==ut&&ft.push(pt);return ft},M=E.expr.match.needsContext,I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,W=/^.[^:#\[\.,]*$/;E.filter=function(pt,ut,ft){var ht=ut[0];return ft&&(pt=":not("+pt+")"),1===ut.length&&1===ht.nodeType?E.find.matchesSelector(ht,pt)?[ht]:[]:E.find.matches(pt,E.grep(ut,function(mt){return 1===mt.nodeType}))},E.fn.extend({find:function(pt){var ut,ft,ht=this.length,mt=this;if("string"!=typeof pt)return this.pushStack(E(pt).filter(function(){for(ut=0;ut<ht;ut++)if(E.contains(mt[ut],this))return!0}));for(ft=this.pushStack([]),ut=0;ut<ht;ut++)E.find(pt,mt[ut],ft);return 1<ht?E.uniqueSort(ft):ft},filter:function(pt){return this.pushStack(winnow(this,pt||[],!1))},not:function(pt){return this.pushStack(winnow(this,pt||[],!0))},is:function(pt){return!!winnow(this,"string"==typeof pt&&M.test(pt)?E(pt):pt||[],!1).length}});var R,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,$=E.fn.init=function(pt,ut,ft){var ht,mt;if(!pt)return this;if(ft=ft||R,"string"==typeof pt){if(ht="<"===pt[0]&&">"===pt[pt.length-1]&&3<=pt.length?[null,pt,null]:B.exec(pt),ht&&(ht[1]||!ut)){if(ht[1]){if(ut=ut instanceof E?ut[0]:ut,E.merge(this,E.parseHTML(ht[1],ut&&ut.nodeType?ut.ownerDocument||ut:c,!0)),I.test(ht[1])&&E.isPlainObject(ut))for(ht in ut)E.isFunction(this[ht])?this[ht](ut[ht]):this.attr(ht,ut[ht]);return this}return mt=c.getElementById(ht[2]),mt&&(this[0]=mt,this.length=1),this}return!ut||ut.jquery?(ut||ft).find(pt):this.constructor(ut).find(pt)}return pt.nodeType?(this[0]=pt,this.length=1,this):E.isFunction(pt)?void 0===ft.ready?pt(E):ft.ready(pt):E.makeArray(pt,this)};$.prototype=E.fn,R=E(c);var X=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};E.fn.extend({has:function(pt){var ut=E(pt,this),ft=ut.length;return this.filter(function(){for(var ht=0;ht<ft;ht++)if(E.contains(this,ut[ht]))return!0})},closest:function(pt,ut){var ft,ht=0,mt=this.length,gt=[],yt="string"!=typeof pt&&E(pt);if(!M.test(pt))for(;ht<mt;ht++)for(ft=this[ht];ft&&ft!==ut;ft=ft.parentNode)if(11>ft.nodeType&&(yt?-1<yt.index(ft):1===ft.nodeType&&E.find.matchesSelector(ft,pt))){gt.push(ft);break}return this.pushStack(1<gt.length?E.uniqueSort(gt):gt)},index:function(pt){return pt?"string"==typeof pt?y.call(E(pt),this[0]):y.call(this,pt.jquery?pt[0]:pt):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(pt,ut){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(pt,ut))))},addBack:function(pt){return this.add(null==pt?this.prevObject:this.prevObject.filter(pt))}}),E.each({parent:function(pt){var ut=pt.parentNode;return ut&&11!==ut.nodeType?ut:null},parents:function(pt){return P(pt,"parentNode")},parentsUntil:function(pt,ut,ft){return P(pt,"parentNode",ft)},next:function(pt){return sibling(pt,"nextSibling")},prev:function(pt){return sibling(pt,"previousSibling")},nextAll:function(pt){return P(pt,"nextSibling")},prevAll:function(pt){return P(pt,"previousSibling")},nextUntil:function(pt,ut,ft){return P(pt,"nextSibling",ft)},prevUntil:function(pt,ut,ft){return P(pt,"previousSibling",ft)},siblings:function(pt){return F((pt.parentNode||{}).firstChild,pt)},children:function(pt){return F(pt.firstChild)},contents:function(pt){return nodeName(pt,"iframe")?pt.contentDocument:(nodeName(pt,"template")&&(pt=pt.content||pt),E.merge([],pt.childNodes))}},function(pt,ut){E.fn[pt]=function(ft,ht){var mt=E.map(this,ut,ft);return"Until"!==pt.slice(-5)&&(ht=ft),ht&&"string"==typeof ht&&(mt=E.filter(ht,mt)),1<this.length&&(!U[pt]&&E.uniqueSort(mt),X.test(pt)&&mt.reverse()),this.pushStack(mt)}});var z=/[^\x20\t\r\n\f]+/g;E.Callbacks=function(pt){pt="string"==typeof pt?createOptions(pt):E.extend({},pt);var ut,ft,ht,mt,gt=[],yt=[],xt=-1,bt=function(){for(mt=mt||pt.once,ht=ut=!0;yt.length;xt=-1)for(ft=yt.shift();++xt<gt.length;)!1===gt[xt].apply(ft[0],ft[1])&&pt.stopOnFalse&&(xt=gt.length,ft=!1);pt.memory||(ft=!1),ut=!1,mt&&(ft?gt=[]:gt="")},vt={add:function(){return gt&&(ft&&!ut&&(xt=gt.length-1,yt.push(ft)),function add(Tt){E.each(Tt,function(wt,Ct){E.isFunction(Ct)?(!pt.unique||!vt.has(Ct))&&gt.push(Ct):Ct&&Ct.length&&"string"!==E.type(Ct)&&add(Ct)})}(arguments),ft&&!ut&&bt()),this},remove:function(){return E.each(arguments,function(Tt,wt){for(var Ct;-1<(Ct=E.inArray(wt,gt,Ct));)gt.splice(Ct,1),Ct<=xt&&xt--}),this},has:function(Tt){return Tt?-1<E.inArray(Tt,gt):0<gt.length},empty:function(){return gt&&(gt=[]),this},disable:function(){return mt=yt=[],gt=ft="",this},disabled:function(){return!gt},lock:function(){return mt=yt=[],ft||ut||(gt=ft=""),this},locked:function(){return!!mt},fireWith:function(Tt,wt){return mt||(wt=wt||[],wt=[Tt,wt.slice?wt.slice():wt],yt.push(wt),!ut&&bt()),this},fire:function(){return vt.fireWith(this,arguments),this},fired:function(){return!!ht}};return vt},E.extend({Deferred:function(pt){var ut=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],ft="pending",ht={state:function(){return ft},always:function(){return mt.done(arguments).fail(arguments),this},"catch":function(gt){return ht.then(null,gt)},pipe:function(){var gt=arguments;return E.Deferred(function(yt){E.each(ut,function(xt,bt){var vt=E.isFunction(gt[bt[4]])&&gt[bt[4]];mt[bt[1]](function(){var Tt=vt&&vt.apply(this,arguments);Tt&&E.isFunction(Tt.promise)?Tt.promise().progress(yt.notify).done(yt.resolve).fail(yt.reject):yt[bt[0]+"With"](this,vt?[Tt]:arguments)})}),gt=null}).promise()},then:function(gt,yt,xt){function resolve(vt,Tt,wt,Ct){return function(){var Nt=this,kt=arguments,St=function(){var Dt,Et;if(!(vt<bt)){if(Dt=wt.apply(Nt,kt),Dt===Tt.promise())throw new TypeError("Thenable self-resolution");Et=Dt&&("object"==typeof Dt||"function"==typeof Dt)&&Dt.then,E.isFunction(Et)?Ct?Et.call(Dt,resolve(bt,Tt,Identity,Ct),resolve(bt,Tt,Thrower,Ct)):(bt++,Et.call(Dt,resolve(bt,Tt,Identity,Ct),resolve(bt,Tt,Thrower,Ct),resolve(bt,Tt,Identity,Tt.notifyWith))):(wt!==Identity&&(Nt=void 0,kt=[Dt]),(Ct||Tt.resolveWith)(Nt,kt))}},jt=Ct?St:function(){try{St()}catch(Dt){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Dt,jt.stackTrace),vt+1>=bt&&(wt!==Thrower&&(Nt=void 0,kt=[Dt]),Tt.rejectWith(Nt,kt))}};vt?jt():(E.Deferred.getStackHook&&(jt.stackTrace=E.Deferred.getStackHook()),o.setTimeout(jt))}}var bt=0;return E.Deferred(function(vt){ut[0][3].add(resolve(0,vt,E.isFunction(xt)?xt:Identity,vt.notifyWith)),ut[1][3].add(resolve(0,vt,E.isFunction(gt)?gt:Identity)),ut[2][3].add(resolve(0,vt,E.isFunction(yt)?yt:Thrower))}).promise()},promise:function(gt){return null==gt?ht:E.extend(gt,ht)}},mt={};return E.each(ut,function(gt,yt){var xt=yt[2],bt=yt[5];ht[yt[1]]=xt.add,bt&&xt.add(function(){ft=bt},ut[3-gt][2].disable,ut[0][2].lock),xt.add(yt[3].fire),mt[yt[0]]=function(){return mt[yt[0]+"With"](this===mt?void 0:this,arguments),this},mt[yt[0]+"With"]=xt.fireWith}),ht.promise(mt),pt&&pt.call(mt,mt),mt},when:function(pt){var ut=arguments.length,ft=ut,ht=Array(ft),mt=f.call(arguments),gt=E.Deferred(),yt=function(xt){return function(bt){ht[xt]=this,mt[xt]=1<arguments.length?f.call(arguments):bt,--ut||gt.resolveWith(ht,mt)}};if(1>=ut&&(adoptValue(pt,gt.done(yt(ft)).resolve,gt.reject,!ut),"pending"===gt.state()||E.isFunction(mt[ft]&&mt[ft].then)))return gt.then();for(;ft--;)adoptValue(mt[ft],yt(ft),gt.reject);return gt.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(pt,ut){o.console&&o.console.warn&&pt&&V.test(pt.name)&&o.console.warn("jQuery.Deferred exception: "+pt.message,pt.stack,ut)},E.readyException=function(pt){o.setTimeout(function(){throw pt})};var Y=E.Deferred();E.fn.ready=function(pt){return Y.then(pt).catch(function(ut){E.readyException(ut)}),this},E.extend({isReady:!1,readyWait:1,ready:function(pt){(!0===pt?! --E.readyWait:!E.isReady)&&(E.isReady=!0,!0!==pt&&0<--E.readyWait||Y.resolveWith(c,[E]))}}),E.ready.then=Y.then,"complete"!==c.readyState&&("loading"===c.readyState||c.documentElement.doScroll)?(c.addEventListener("DOMContentLoaded",completed),o.addEventListener("load",completed)):o.setTimeout(E.ready);var G=function(pt,ut,ft,ht,mt,gt,yt){var xt=0,bt=pt.length,vt=null==ft;if("object"===E.type(ft))for(xt in mt=!0,ft)G(pt,ut,xt,ft[xt],!0,gt,yt);else if(void 0!==ht&&(mt=!0,E.isFunction(ht)||(yt=!0),vt&&(yt?(ut.call(pt,ht),ut=null):(vt=ut,ut=function(Tt,wt,Ct){return vt.call(E(Tt),Ct)})),ut))for(;xt<bt;xt++)ut(pt[xt],ft,yt?ht:ht.call(pt[xt],xt,ut(pt[xt],ft)));return mt?pt:vt?ut.call(pt):bt?ut(pt[0],ft):gt},Q=function(pt){return 1===pt.nodeType||9===pt.nodeType||!+pt.nodeType};Data.uid=1,Data.prototype={cache:function(pt){var ut=pt[this.expando];return ut||(ut={},Q(pt)&&(pt.nodeType?pt[this.expando]=ut:Object.defineProperty(pt,this.expando,{value:ut,configurable:!0}))),ut},set:function(pt,ut,ft){var ht,mt=this.cache(pt);if("string"==typeof ut)mt[E.camelCase(ut)]=ft;else for(ht in ut)mt[E.camelCase(ht)]=ut[ht];return mt},get:function(pt,ut){return void 0===ut?this.cache(pt):pt[this.expando]&&pt[this.expando][E.camelCase(ut)]},access:function(pt,ut,ft){return void 0===ut||ut&&"string"==typeof ut&&void 0===ft?this.get(pt,ut):(this.set(pt,ut,ft),void 0===ft?ut:ft)},remove:function(pt,ut){var ft,ht=pt[this.expando];if(void 0!==ht){if(void 0!==ut)for(Array.isArray(ut)?ut=ut.map(E.camelCase):(ut=E.camelCase(ut),ut=(ut in ht)?[ut]:ut.match(z)||[]),ft=ut.length;ft--;)delete ht[ut[ft]];(void 0===ut||E.isEmptyObject(ht))&&(pt.nodeType?pt[this.expando]=void 0:delete pt[this.expando])}},hasData:function(pt){var ut=pt[this.expando];return void 0!==ut&&!E.isEmptyObject(ut)}};var K=new Data,J=new Data,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;E.extend({hasData:function(pt){return J.hasData(pt)||K.hasData(pt)},data:function(pt,ut,ft){return J.access(pt,ut,ft)},removeData:function(pt,ut){J.remove(pt,ut)},_data:function(pt,ut,ft){return K.access(pt,ut,ft)},_removeData:function(pt,ut){K.remove(pt,ut)}}),E.fn.extend({data:function(pt,ut){var ft,ht,mt,gt=this[0],yt=gt&&gt.attributes;if(void 0===pt){if(this.length&&(mt=J.get(gt),1===gt.nodeType&&!K.get(gt,"hasDataAttrs"))){for(ft=yt.length;ft--;)yt[ft]&&(ht=yt[ft].name,0===ht.indexOf("data-")&&(ht=E.camelCase(ht.slice(5)),dataAttr(gt,ht,mt[ht])));K.set(gt,"hasDataAttrs",!0)}return mt}return"object"==typeof pt?this.each(function(){J.set(this,pt)}):G(this,function(xt){var bt;return gt&&void 0===xt?(bt=J.get(gt,pt),void 0!=bt)?bt:(bt=dataAttr(gt,pt),void 0==bt?void 0:bt):void this.each(function(){J.set(this,pt,xt)})},null,ut,1<arguments.length,null,!0)},removeData:function(pt){return this.each(function(){J.remove(this,pt)})}}),E.extend({queue:function(pt,ut,ft){var ht;if(pt)return ut=(ut||"fx")+"queue",ht=K.get(pt,ut),ft&&(!ht||Array.isArray(ft)?ht=K.access(pt,ut,E.makeArray(ft)):ht.push(ft)),ht||[]},dequeue:function(pt,ut){ut=ut||"fx";var ft=E.queue(pt,ut),ht=ft.length,mt=ft.shift(),gt=E._queueHooks(pt,ut);"inprogress"===mt&&(mt=ft.shift(),ht--),mt&&("fx"===ut&&ft.unshift("inprogress"),delete gt.stop,mt.call(pt,function(){E.dequeue(pt,ut)},gt)),!ht&&gt&&gt.empty.fire()},_queueHooks:function(pt,ut){var ft=ut+"queueHooks";return K.get(pt,ft)||K.access(pt,ft,{empty:E.Callbacks("once memory").add(function(){K.remove(pt,[ut+"queue",ft])})})}}),E.fn.extend({queue:function(pt,ut){var ft=2;return"string"!=typeof pt&&(ut=pt,pt="fx",ft--),arguments.length<ft?E.queue(this[0],pt):void 0===ut?this:this.each(function(){var ht=E.queue(this,pt,ut);E._queueHooks(this,pt),"fx"===pt&&"inprogress"!==ht[0]&&E.dequeue(this,pt)})},dequeue:function(pt){return this.each(function(){E.dequeue(this,pt)})},clearQueue:function(pt){return this.queue(pt||"fx",[])},promise:function(pt,ut){var ft,ht=1,mt=E.Deferred(),gt=this,yt=this.length,xt=function(){--ht||mt.resolveWith(gt,[gt])};for("string"!=typeof pt&&(ut=pt,pt=void 0),pt=pt||"fx";yt--;)ft=K.get(gt[yt],pt+"queueHooks"),ft&&ft.empty&&(ht++,ft.empty.add(xt));return xt(),mt.promise(ut)}});var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ne=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],oe=function(pt,ut){return pt=ut||pt,"none"===pt.style.display||""===pt.style.display&&E.contains(pt.ownerDocument,pt)&&"none"===E.css(pt,"display")},se=function(pt,ut,ft,ht){var mt,gt,yt={};for(gt in ut)yt[gt]=pt.style[gt],pt.style[gt]=ut[gt];for(gt in mt=ft.apply(pt,ht||[]),ut)pt.style[gt]=yt[gt];return mt},re={};E.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(pt){return"boolean"==typeof pt?pt?this.show():this.hide():this.each(function(){oe(this)?E(this).show():E(this).hide()})}});var ie=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,le=/^$|\/(?:java|ecma)script/i,pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};pe.optgroup=pe.option,pe.tbody=pe.tfoot=pe.colgroup=pe.caption=pe.thead,pe.th=pe.td;var ce=/<|&#?\w+;/;(function(){var pt=c.createDocumentFragment(),ut=pt.appendChild(c.createElement("div")),ft=c.createElement("input");ft.setAttribute("type","radio"),ft.setAttribute("checked","checked"),ft.setAttribute("name","t"),ut.appendChild(ft),S.checkClone=ut.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!ut.cloneNode(!0).lastChild.defaultValue})();var ue=c.documentElement,fe=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,me=/^([^.]*)(?:\.(.+)|)/;E.event={global:{},add:function(pt,ut,ft,ht,mt){var gt,yt,xt,bt,vt,Tt,wt,Ct,Nt,kt,St,jt=K.get(pt);if(jt)for(ft.handler&&(gt=ft,ft=gt.handler,mt=gt.selector),mt&&E.find.matchesSelector(ue,mt),ft.guid||(ft.guid=E.guid++),(bt=jt.events)||(bt=jt.events={}),(yt=jt.handle)||(yt=jt.handle=function(Dt){return"undefined"!=typeof E&&E.event.triggered!==Dt.type?E.event.dispatch.apply(pt,arguments):void 0}),ut=(ut||"").match(z)||[""],vt=ut.length;vt--;)(xt=me.exec(ut[vt])||[],Nt=St=xt[1],kt=(xt[2]||"").split(".").sort(),!!Nt)&&(wt=E.event.special[Nt]||{},Nt=(mt?wt.delegateType:wt.bindType)||Nt,wt=E.event.special[Nt]||{},Tt=E.extend({type:Nt,origType:St,data:ht,handler:ft,guid:ft.guid,selector:mt,needsContext:mt&&E.expr.match.needsContext.test(mt),namespace:kt.join(".")},gt),(Ct=bt[Nt])||(Ct=bt[Nt]=[],Ct.delegateCount=0,(!wt.setup||!1===wt.setup.call(pt,ht,kt,yt))&&pt.addEventListener&&pt.addEventListener(Nt,yt)),wt.add&&(wt.add.call(pt,Tt),!Tt.handler.guid&&(Tt.handler.guid=ft.guid)),mt?Ct.splice(Ct.delegateCount++,0,Tt):Ct.push(Tt),E.event.global[Nt]=!0)},remove:function(pt,ut,ft,ht,mt){var gt,yt,xt,bt,vt,Tt,wt,Ct,Nt,kt,St,jt=K.hasData(pt)&&K.get(pt);if(jt&&(bt=jt.events)){for(ut=(ut||"").match(z)||[""],vt=ut.length;vt--;){if(xt=me.exec(ut[vt])||[],Nt=St=xt[1],kt=(xt[2]||"").split(".").sort(),!Nt){for(Nt in bt)E.event.remove(pt,Nt+ut[vt],ft,ht,!0);continue}for(wt=E.event.special[Nt]||{},Nt=(ht?wt.delegateType:wt.bindType)||Nt,Ct=bt[Nt]||[],xt=xt[2]&&new RegExp("(^|\\.)"+kt.join("\\.(?:.*\\.|)")+"(\\.|$)"),yt=gt=Ct.length;gt--;)Tt=Ct[gt],(mt||St===Tt.origType)&&(!ft||ft.guid===Tt.guid)&&(!xt||xt.test(Tt.namespace))&&(!ht||ht===Tt.selector||"**"===ht&&Tt.selector)&&(Ct.splice(gt,1),Tt.selector&&Ct.delegateCount--,wt.remove&&wt.remove.call(pt,Tt));yt&&!Ct.length&&((!wt.teardown||!1===wt.teardown.call(pt,kt,jt.handle))&&E.removeEvent(pt,Nt,jt.handle),delete bt[Nt])}E.isEmptyObject(bt)&&K.remove(pt,"handle events")}},dispatch:function(pt){var ft,ht,mt,gt,yt,xt,ut=E.event.fix(pt),bt=Array(arguments.length),vt=(K.get(this,"events")||{})[ut.type]||[],Tt=E.event.special[ut.type]||{};for(bt[0]=ut,ft=1;ft<arguments.length;ft++)bt[ft]=arguments[ft];if(ut.delegateTarget=this,!(Tt.preDispatch&&!1===Tt.preDispatch.call(this,ut))){for(xt=E.event.handlers.call(this,ut,vt),ft=0;(gt=xt[ft++])&&!ut.isPropagationStopped();)for(ut.currentTarget=gt.elem,ht=0;(yt=gt.handlers[ht++])&&!ut.isImmediatePropagationStopped();)(!ut.rnamespace||ut.rnamespace.test(yt.namespace))&&(ut.handleObj=yt,ut.data=yt.data,mt=((E.event.special[yt.origType]||{}).handle||yt.handler).apply(gt.elem,bt),void 0!=mt&&!1===(ut.result=mt)&&(ut.preventDefault(),ut.stopPropagation()));return Tt.postDispatch&&Tt.postDispatch.call(this,ut),ut.result}},handlers:function(pt,ut){var ft,ht,mt,gt,yt,xt=[],bt=ut.delegateCount,vt=pt.target;if(bt&&vt.nodeType&&!("click"===pt.type&&1<=pt.button))for(;vt!==this;vt=vt.parentNode||this)if(1===vt.nodeType&&("click"!==pt.type||!0!==vt.disabled)){for(gt=[],yt={},ft=0;ft<bt;ft++)ht=ut[ft],mt=ht.selector+" ",void 0===yt[mt]&&(yt[mt]=ht.needsContext?-1<E(mt,this).index(vt):E.find(mt,this,null,[vt]).length),yt[mt]&&gt.push(ht);gt.length&&xt.push({elem:vt,handlers:gt})}return vt=this,bt<ut.length&&xt.push({elem:vt,handlers:ut.slice(bt)}),xt},addProp:function(pt,ut){Object.defineProperty(E.Event.prototype,pt,{enumerable:!0,configurable:!0,get:E.isFunction(ut)?function(){if(this.originalEvent)return ut(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[pt]},set:function(ft){Object.defineProperty(this,pt,{enumerable:!0,configurable:!0,writable:!0,value:ft})}})},fix:function(pt){return pt[E.expando]?pt:new E.Event(pt)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&nodeName(this,"input"))return this.click(),!1},_default:function(pt){return nodeName(pt.target,"a")}},beforeunload:{postDispatch:function(pt){void 0!==pt.result&&pt.originalEvent&&(pt.originalEvent.returnValue=pt.result)}}}},E.removeEvent=function(pt,ut,ft){pt.removeEventListener&&pt.removeEventListener(ut,ft)},E.Event=function(pt,ut){return this instanceof E.Event?void(pt&&pt.type?(this.originalEvent=pt,this.type=pt.type,this.isDefaultPrevented=pt.defaultPrevented||void 0===pt.defaultPrevented&&!1===pt.returnValue?returnTrue:returnFalse,this.target=pt.target&&3===pt.target.nodeType?pt.target.parentNode:pt.target,this.currentTarget=pt.currentTarget,this.relatedTarget=pt.relatedTarget):this.type=pt,ut&&E.extend(this,ut),this.timeStamp=pt&&pt.timeStamp||E.now(),this[E.expando]=!0):new E.Event(pt,ut)},E.Event.prototype={constructor:E.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var pt=this.originalEvent;this.isDefaultPrevented=returnTrue,pt&&!this.isSimulated&&pt.preventDefault()},stopPropagation:function(){var pt=this.originalEvent;this.isPropagationStopped=returnTrue,pt&&!this.isSimulated&&pt.stopPropagation()},stopImmediatePropagation:function(){var pt=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,pt&&!this.isSimulated&&pt.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(pt){var ut=pt.button;return null==pt.which&&fe.test(pt.type)?null==pt.charCode?pt.keyCode:pt.charCode:!pt.which&&void 0!==ut&&he.test(pt.type)?1&ut?1:2&ut?3:4&ut?2:0:pt.which}},E.event.addProp),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(pt,ut){E.event.special[pt]={delegateType:ut,bindType:ut,handle:function(ft){var ht,mt=this,gt=ft.relatedTarget,yt=ft.handleObj;return gt&&(gt===mt||E.contains(mt,gt))||(ft.type=yt.origType,ht=yt.handler.apply(this,arguments),ft.type=ut),ht}}}),E.fn.extend({on:function(pt,ut,ft,ht){return on(this,pt,ut,ft,ht)},one:function(pt,ut,ft,ht){return on(this,pt,ut,ft,ht,1)},off:function(pt,ut,ft){var ht,mt;if(pt&&pt.preventDefault&&pt.handleObj)return ht=pt.handleObj,E(pt.delegateTarget).off(ht.namespace?ht.origType+"."+ht.namespace:ht.origType,ht.selector,ht.handler),this;if("object"==typeof pt){for(mt in pt)this.off(mt,ut,pt[mt]);return this}return(!1===ut||"function"==typeof ut)&&(ft=ut,ut=void 0),!1===ft&&(ft=returnFalse),this.each(function(){E.event.remove(this,pt,ft,ut)})}});var ge=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ye=/<script|<style|<link/i,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/^true\/(.*)/,ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;E.extend({htmlPrefilter:function(pt){return pt.replace(ge,"<$1></$2>")},clone:function(pt,ut,ft){var ht,mt,gt,yt,xt=pt.cloneNode(!0),bt=E.contains(pt.ownerDocument,pt);if(!S.noCloneChecked&&(1===pt.nodeType||11===pt.nodeType)&&!E.isXMLDoc(pt))for(yt=getAll(xt),gt=getAll(pt),(ht=0,mt=gt.length);ht<mt;ht++)fixInput(gt[ht],yt[ht]);if(ut)if(ft)for(gt=gt||getAll(pt),yt=yt||getAll(xt),(ht=0,mt=gt.length);ht<mt;ht++)cloneCopyEvent(gt[ht],yt[ht]);else cloneCopyEvent(pt,xt);return yt=getAll(xt,"script"),0<yt.length&&setGlobalEval(yt,!bt&&getAll(pt,"script")),xt},cleanData:function(pt){for(var ut,ft,ht,mt=E.event.special,gt=0;void 0!==(ft=pt[gt]);gt++)if(Q(ft)){if(ut=ft[K.expando]){if(ut.events)for(ht in ut.events)mt[ht]?E.event.remove(ft,ht):E.removeEvent(ft,ht,ut.handle);ft[K.expando]=void 0}ft[J.expando]&&(ft[J.expando]=void 0)}}}),E.fn.extend({detach:function(pt){return remove(this,pt,!0)},remove:function(pt){return remove(this,pt)},text:function(pt){return G(this,function(ut){return void 0===ut?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=ut)})},null,pt,arguments.length)},append:function(){return domManip(this,arguments,function(pt){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var ut=manipulationTarget(this,pt);ut.appendChild(pt)}})},prepend:function(){return domManip(this,arguments,function(pt){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var ut=manipulationTarget(this,pt);ut.insertBefore(pt,ut.firstChild)}})},before:function(){return domManip(this,arguments,function(pt){this.parentNode&&this.parentNode.insertBefore(pt,this)})},after:function(){return domManip(this,arguments,function(pt){this.parentNode&&this.parentNode.insertBefore(pt,this.nextSibling)})},empty:function(){for(var pt,ut=0;null!=(pt=this[ut]);ut++)1===pt.nodeType&&(E.cleanData(getAll(pt,!1)),pt.textContent="");return this},clone:function(pt,ut){return pt=null!=pt&&pt,ut=null==ut?pt:ut,this.map(function(){return E.clone(this,pt,ut)})},html:function(pt){return G(this,function(ut){var ft=this[0]||{},ht=0,mt=this.length;if(void 0===ut&&1===ft.nodeType)return ft.innerHTML;if("string"==typeof ut&&!ye.test(ut)&&!pe[(de.exec(ut)||["",""])[1].toLowerCase()]){ut=E.htmlPrefilter(ut);try{for(;ht<mt;ht++)ft=this[ht]||{},1===ft.nodeType&&(E.cleanData(getAll(ft,!1)),ft.innerHTML=ut);ft=0}catch(gt){}}ft&&this.empty().append(ut)},null,pt,arguments.length)},replaceWith:function(){var pt=[];return domManip(this,arguments,function(ut){var ft=this.parentNode;0>E.inArray(this,pt)&&(E.cleanData(getAll(this)),ft&&ft.replaceChild(ut,this))},pt)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(pt,ut){E.fn[pt]=function(ft){for(var ht,mt=[],gt=E(ft),yt=gt.length-1,xt=0;xt<=yt;xt++)ht=xt===yt?this:this.clone(!0),E(gt[xt])[ut](ht),g.apply(mt,ht.get());return this.pushStack(mt)}});var Te=/^margin/,we=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Ce=function(pt){var ut=pt.ownerDocument.defaultView;return ut&&ut.opener||(ut=o),ut.getComputedStyle(pt)};(function(){function computeStyleTests(){if(gt){gt.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",gt.innerHTML="",ue.appendChild(mt);var yt=o.getComputedStyle(gt);pt="1%"!==yt.top,ht="2px"===yt.marginLeft,ut="4px"===yt.width,gt.style.marginRight="50%",ft="4px"===yt.marginRight,ue.removeChild(mt),gt=null}}var pt,ut,ft,ht,mt=c.createElement("div"),gt=c.createElement("div");gt.style&&(gt.style.backgroundClip="content-box",gt.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle="content-box"===gt.style.backgroundClip,mt.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",mt.appendChild(gt),E.extend(S,{pixelPosition:function(){return computeStyleTests(),pt},boxSizingReliable:function(){return computeStyleTests(),ut},pixelMarginRight:function(){return computeStyleTests(),ft},reliableMarginLeft:function(){return computeStyleTests(),ht}}))})();var Ne=/^(none|table(?!-c[ea]).+)/,ke=/^--/,Se={position:"absolute",visibility:"hidden",display:"block"},je={letterSpacing:"0",fontWeight:"400"},De=["Webkit","Moz","ms"],Ee=c.createElement("div").style;E.extend({cssHooks:{opacity:{get:function(pt,ut){if(ut){var ft=curCSS(pt,"opacity");return""===ft?"1":ft}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(pt,ut,ft,ht){if(pt&&3!==pt.nodeType&&8!==pt.nodeType&&pt.style){var mt,gt,yt,xt=E.camelCase(ut),bt=ke.test(ut),vt=pt.style;if(bt||(ut=finalPropName(xt)),yt=E.cssHooks[ut]||E.cssHooks[xt],void 0!==ft){if(gt=typeof ft,"string"===gt&&(mt=ne.exec(ft))&&mt[1]&&(ft=adjustCSS(pt,ut,mt),gt="number"),null==ft||ft!==ft)return;"number"===gt&&(ft+=mt&&mt[3]||(E.cssNumber[xt]?"":"px")),S.clearCloneStyle||""!==ft||0!==ut.indexOf("background")||(vt[ut]="inherit"),yt&&"set"in yt&&void 0===(ft=yt.set(pt,ft,ht))||(bt?vt.setProperty(ut,ft):vt[ut]=ft)}else return yt&&"get"in yt&&void 0!==(mt=yt.get(pt,!1,ht))?mt:vt[ut]}},css:function(pt,ut,ft,ht){var mt,gt,yt,xt=E.camelCase(ut),bt=ke.test(ut);return bt||(ut=finalPropName(xt)),yt=E.cssHooks[ut]||E.cssHooks[xt],yt&&"get"in yt&&(mt=yt.get(pt,!0,ft)),void 0==mt&&(mt=curCSS(pt,ut,ht)),"normal"===mt&&ut in je&&(mt=je[ut]),""===ft||ft?(gt=parseFloat(mt),!0===ft||isFinite(gt)?gt||0:mt):mt}}),E.each(["height","width"],function(pt,ut){E.cssHooks[ut]={get:function(ft,ht,mt){if(ht)return!Ne.test(E.css(ft,"display"))||ft.getClientRects().length&&ft.getBoundingClientRect().width?getWidthOrHeight(ft,ut,mt):se(ft,Se,function(){return getWidthOrHeight(ft,ut,mt)})},set:function(ft,ht,mt){var gt,yt=mt&&Ce(ft),xt=mt&&augmentWidthOrHeight(ft,ut,mt,"border-box"===E.css(ft,"boxSizing",!1,yt),yt);return xt&&(gt=ne.exec(ht))&&"px"!==(gt[3]||"px")&&(ft.style[ut]=ht,ht=E.css(ft,ut)),setPositiveNumber(ft,ht,xt)}}}),E.cssHooks.marginLeft=addGetHookIf(S.reliableMarginLeft,function(pt,ut){if(ut)return(parseFloat(curCSS(pt,"marginLeft"))||pt.getBoundingClientRect().left-se(pt,{marginLeft:0},function(){return pt.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(pt,ut){E.cssHooks[pt+ut]={expand:function(ft){for(var ht=0,mt={},gt="string"==typeof ft?ft.split(" "):[ft];4>ht;ht++)mt[pt+ae[ht]+ut]=gt[ht]||gt[ht-2]||gt[0];return mt}},Te.test(pt)||(E.cssHooks[pt+ut].set=setPositiveNumber)}),E.fn.extend({css:function(pt,ut){return G(this,function(ft,ht,mt){var gt,yt,xt={},bt=0;if(Array.isArray(ht)){for(gt=Ce(ft),yt=ht.length;bt<yt;bt++)xt[ht[bt]]=E.css(ft,ht[bt],!1,gt);return xt}return void 0===mt?E.css(ft,ht):E.style(ft,ht,mt)},pt,ut,1<arguments.length)}}),E.Tween=Tween,Tween.prototype={constructor:Tween,init:function(pt,ut,ft,ht,mt,gt){this.elem=pt,this.prop=ft,this.easing=mt||E.easing._default,this.options=ut,this.start=this.now=this.cur(),this.end=ht,this.unit=gt||(E.cssNumber[ft]?"":"px")},cur:function(){var pt=Tween.propHooks[this.prop];return pt&&pt.get?pt.get(this):Tween.propHooks._default.get(this)},run:function(pt){var ut,ft=Tween.propHooks[this.prop];return this.pos=this.options.duration?ut=E.easing[this.easing](pt,this.options.duration*pt,0,1,this.options.duration):ut=pt,this.now=(this.end-this.start)*ut+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ft&&ft.set?ft.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(pt){var ut;return 1!==pt.elem.nodeType||null!=pt.elem[pt.prop]&&null==pt.elem.style[pt.prop]?pt.elem[pt.prop]:(ut=E.css(pt.elem,pt.prop,""),ut&&"auto"!==ut?ut:0)},set:function(pt){E.fx.step[pt.prop]?E.fx.step[pt.prop](pt):1===pt.elem.nodeType&&(null!=pt.elem.style[E.cssProps[pt.prop]]||E.cssHooks[pt.prop])?E.style(pt.elem,pt.prop,pt.now+pt.unit):pt.elem[pt.prop]=pt.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(pt){pt.elem.nodeType&&pt.elem.parentNode&&(pt.elem[pt.prop]=pt.now)}},E.easing={linear:function(pt){return pt},swing:function(pt){return 0.5-Math.cos(pt*Math.PI)/2},_default:"swing"},E.fx=Tween.prototype.init,E.fx.step={};var Ae,Le,qe=/^(?:toggle|show|hide)$/,He=/queueHooks$/;E.Animation=E.extend(Animation,{tweeners:{"*":[function(pt,ut){var ft=this.createTween(pt,ut);return adjustCSS(ft.elem,pt,ne.exec(ut),ft),ft}]},tweener:function(pt,ut){E.isFunction(pt)?(ut=pt,pt=["*"]):pt=pt.match(z);for(var ft,ht=0,mt=pt.length;ht<mt;ht++)ft=pt[ht],Animation.tweeners[ft]=Animation.tweeners[ft]||[],Animation.tweeners[ft].unshift(ut)},prefilters:[function(pt,ut,ft){var ht,mt,gt,yt,xt,bt,vt,Tt,Ct=this,Nt={},kt=pt.style,St=pt.nodeType&&oe(pt),jt=K.get(pt,"fxshow");for(ht in ft.queue||(yt=E._queueHooks(pt,"fx"),null==yt.unqueued&&(yt.unqueued=0,xt=yt.empty.fire,yt.empty.fire=function(){yt.unqueued||xt()}),yt.unqueued++,Ct.always(function(){Ct.always(function(){yt.unqueued--,E.queue(pt,"fx").length||yt.empty.fire()})})),ut)if(mt=ut[ht],qe.test(mt)){if(delete ut[ht],gt=gt||"toggle"===mt,mt===(St?"hide":"show"))if("show"===mt&&jt&&void 0!==jt[ht])St=!0;else continue;Nt[ht]=jt&&jt[ht]||E.style(pt,ht)}if(bt=!E.isEmptyObject(ut),bt||!E.isEmptyObject(Nt))for(ht in("width"in ut||"height"in ut)&&1===pt.nodeType&&(ft.overflow=[kt.overflow,kt.overflowX,kt.overflowY],vt=jt&&jt.display,null==vt&&(vt=K.get(pt,"display")),Tt=E.css(pt,"display"),"none"===Tt&&(vt?Tt=vt:(showHide([pt],!0),vt=pt.style.display||vt,Tt=E.css(pt,"display"),showHide([pt]))),("inline"===Tt||"inline-block"===Tt&&null!=vt)&&"none"===E.css(pt,"float")&&(!bt&&(Ct.done(function(){kt.display=vt}),null==vt&&(Tt=kt.display,vt="none"===Tt?"":Tt)),kt.display="inline-block")),ft.overflow&&(kt.overflow="hidden",Ct.always(function(){kt.overflow=ft.overflow[0],kt.overflowX=ft.overflow[1],kt.overflowY=ft.overflow[2]})),bt=!1,Nt)bt||(jt?"hidden"in jt&&(St=jt.hidden):jt=K.access(pt,"fxshow",{display:vt}),gt&&(jt.hidden=!St),St&&showHide([pt],!0),Ct.done(function(){for(ht in St||showHide([pt]),K.remove(pt,"fxshow"),Nt)E.style(pt,ht,Nt[ht])})),bt=createTween(St?jt[ht]:0,ht,Ct),ht in jt||(jt[ht]=bt.start,St&&(bt.end=bt.start,bt.start=0))}],prefilter:function(pt,ut){ut?Animation.prefilters.unshift(pt):Animation.prefilters.push(pt)}}),E.speed=function(pt,ut,ft){var ht=pt&&"object"==typeof pt?E.extend({},pt):{complete:ft||!ft&&ut||E.isFunction(pt)&&pt,duration:pt,easing:ft&&ut||ut&&!E.isFunction(ut)&&ut};return E.fx.off?ht.duration=0:"number"!=typeof ht.duration&&(ht.duration in E.fx.speeds?ht.duration=E.fx.speeds[ht.duration]:ht.duration=E.fx.speeds._default),(null==ht.queue||!0===ht.queue)&&(ht.queue="fx"),ht.old=ht.complete,ht.complete=function(){E.isFunction(ht.old)&&ht.old.call(this),ht.queue&&E.dequeue(this,ht.queue)},ht},E.fn.extend({fadeTo:function(pt,ut,ft,ht){return this.filter(oe).css("opacity",0).show().end().animate({opacity:ut},pt,ft,ht)},animate:function(pt,ut,ft,ht){var mt=E.isEmptyObject(pt),gt=E.speed(ut,ft,ht),yt=function(){var xt=Animation(this,E.extend({},pt),gt);(mt||K.get(this,"finish"))&&xt.stop(!0)};return yt.finish=yt,mt||!1===gt.queue?this.each(yt):this.queue(gt.queue,yt)},stop:function(pt,ut,ft){var ht=function(mt){var gt=mt.stop;delete mt.stop,gt(ft)};return"string"!=typeof pt&&(ft=ut,ut=pt,pt=void 0),ut&&!1!==pt&&this.queue(pt||"fx",[]),this.each(function(){var mt=!0,gt=null!=pt&&pt+"queueHooks",yt=E.timers,xt=K.get(this);if(gt)xt[gt]&&xt[gt].stop&&ht(xt[gt]);else for(gt in xt)xt[gt]&&xt[gt].stop&&He.test(gt)&&ht(xt[gt]);for(gt=yt.length;gt--;)yt[gt].elem===this&&(null==pt||yt[gt].queue===pt)&&(yt[gt].anim.stop(ft),mt=!1,yt.splice(gt,1));(mt||!ft)&&E.dequeue(this,pt)})},finish:function(pt){return!1!==pt&&(pt=pt||"fx"),this.each(function(){var ut,ft=K.get(this),ht=ft[pt+"queue"],mt=ft[pt+"queueHooks"],gt=E.timers,yt=ht?ht.length:0;for(ft.finish=!0,E.queue(this,pt,[]),mt&&mt.stop&&mt.stop.call(this,!0),ut=gt.length;ut--;)gt[ut].elem===this&&gt[ut].queue===pt&&(gt[ut].anim.stop(!0),gt.splice(ut,1));for(ut=0;ut<yt;ut++)ht[ut]&&ht[ut].finish&&ht[ut].finish.call(this);delete ft.finish})}}),E.each(["toggle","show","hide"],function(pt,ut){var ft=E.fn[ut];E.fn[ut]=function(ht,mt,gt){return null==ht||"boolean"==typeof ht?ft.apply(this,arguments):this.animate(genFx(ut,!0),ht,mt,gt)}}),E.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(pt,ut){E.fn[pt]=function(ft,ht,mt){return this.animate(ut,ft,ht,mt)}}),E.timers=[],E.fx.tick=function(){var pt,ut=0,ft=E.timers;for(Ae=E.now();ut<ft.length;ut++)pt=ft[ut],pt()||ft[ut]!==pt||ft.splice(ut--,1);ft.length||E.fx.stop(),Ae=void 0},E.fx.timer=function(pt){E.timers.push(pt),E.fx.start()},E.fx.interval=13,E.fx.start=function(){Le||(Le=!0,schedule())},E.fx.stop=function(){Le=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(pt,ut){return pt=E.fx?E.fx.speeds[pt]||pt:pt,ut=ut||"fx",this.queue(ut,function(ft,ht){var mt=o.setTimeout(ft,pt);ht.stop=function(){o.clearTimeout(mt)}})},function(){var pt=c.createElement("input"),ut=c.createElement("select"),ft=ut.appendChild(c.createElement("option"));pt.type="checkbox",S.checkOn=""!==pt.value,S.optSelected=ft.selected,pt=c.createElement("input"),pt.value="t",pt.type="radio",S.radioValue="t"===pt.value}();var Oe,Pe=E.expr.attrHandle;E.fn.extend({attr:function(pt,ut){return G(this,E.attr,pt,ut,1<arguments.length)},removeAttr:function(pt){return this.each(function(){E.removeAttr(this,pt)})}}),E.extend({attr:function(pt,ut,ft){var ht,mt,gt=pt.nodeType;if(3!==gt&&8!==gt&&2!==gt)return"undefined"==typeof pt.getAttribute?E.prop(pt,ut,ft):(1===gt&&E.isXMLDoc(pt)||(mt=E.attrHooks[ut.toLowerCase()]||(E.expr.match.bool.test(ut)?Oe:void 0)),void 0!==ft)?null===ft?void E.removeAttr(pt,ut):mt&&"set"in mt&&void 0!==(ht=mt.set(pt,ft,ut))?ht:(pt.setAttribute(ut,ft+""),ft):mt&&"get"in mt&&null!==(ht=mt.get(pt,ut))?ht:(ht=E.find.attr(pt,ut),null==ht?void 0:ht)},attrHooks:{type:{set:function(pt,ut){if(!S.radioValue&&"radio"===ut&&nodeName(pt,"input")){var ft=pt.value;return pt.setAttribute("type",ut),ft&&(pt.value=ft),ut}}}},removeAttr:function(pt,ut){var ft,ht=0,mt=ut&&ut.match(z);if(mt&&1===pt.nodeType)for(;ft=mt[ht++];)pt.removeAttribute(ft)}}),Oe={set:function(pt,ut,ft){return!1===ut?E.removeAttr(pt,ft):pt.setAttribute(ft,ft),ft}},E.each(E.expr.match.bool.source.match(/\w+/g),function(pt,ut){var ft=Pe[ut]||E.find.attr;Pe[ut]=function(ht,mt,gt){var yt,xt,bt=mt.toLowerCase();return gt||(xt=Pe[bt],Pe[bt]=yt,yt=null==ft(ht,mt,gt)?null:bt,Pe[bt]=xt),yt}});var Fe=/^(?:input|select|textarea|button)$/i,Me=/^(?:a|area)$/i;E.fn.extend({prop:function(pt,ut){return G(this,E.prop,pt,ut,1<arguments.length)},removeProp:function(pt){return this.each(function(){delete this[E.propFix[pt]||pt]})}}),E.extend({prop:function(pt,ut,ft){var ht,mt,gt=pt.nodeType;if(3!==gt&&8!==gt&&2!==gt)return 1===gt&&E.isXMLDoc(pt)||(ut=E.propFix[ut]||ut,mt=E.propHooks[ut]),void 0===ft?mt&&"get"in mt&&null!==(ht=mt.get(pt,ut))?ht:pt[ut]:mt&&"set"in mt&&void 0!==(ht=mt.set(pt,ft,ut))?ht:pt[ut]=ft},propHooks:{tabIndex:{get:function(pt){var ut=E.find.attr(pt,"tabindex");return ut?parseInt(ut,10):Fe.test(pt.nodeName)||Me.test(pt.nodeName)&&pt.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),S.optSelected||(E.propHooks.selected={get:function(pt){var ut=pt.parentNode;return ut&&ut.parentNode&&ut.parentNode.selectedIndex,null},set:function(pt){var ut=pt.parentNode;ut&&(ut.selectedIndex,ut.parentNode&&ut.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(pt){var ut,ft,ht,mt,gt,yt,xt,bt=0;if(E.isFunction(pt))return this.each(function(vt){E(this).addClass(pt.call(this,vt,getClass(this)))});if("string"==typeof pt&&pt)for(ut=pt.match(z)||[];ft=this[bt++];)if(mt=getClass(ft),ht=1===ft.nodeType&&" "+stripAndCollapse(mt)+" ",ht){for(yt=0;gt=ut[yt++];)0>ht.indexOf(" "+gt+" ")&&(ht+=gt+" ");xt=stripAndCollapse(ht),mt!=xt&&ft.setAttribute("class",xt)}return this},removeClass:function(pt){var ut,ft,ht,mt,gt,yt,xt,bt=0;if(E.isFunction(pt))return this.each(function(vt){E(this).removeClass(pt.call(this,vt,getClass(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof pt&&pt)for(ut=pt.match(z)||[];ft=this[bt++];)if(mt=getClass(ft),ht=1===ft.nodeType&&" "+stripAndCollapse(mt)+" ",ht){for(yt=0;gt=ut[yt++];)for(;-1<ht.indexOf(" "+gt+" ");)ht=ht.replace(" "+gt+" "," ");xt=stripAndCollapse(ht),mt!=xt&&ft.setAttribute("class",xt)}return this},toggleClass:function(pt,ut){var ft=typeof pt;return"boolean"==typeof ut&&"string"==ft?ut?this.addClass(pt):this.removeClass(pt):E.isFunction(pt)?this.each(function(ht){E(this).toggleClass(pt.call(this,ht,getClass(this),ut),ut)}):this.each(function(){var ht,mt,gt,yt;if("string"==ft)for(mt=0,gt=E(this),yt=pt.match(z)||[];ht=yt[mt++];)gt.hasClass(ht)?gt.removeClass(ht):gt.addClass(ht);else(void 0===pt||"boolean"==ft)&&(ht=getClass(this),ht&&K.set(this,"__className__",ht),this.setAttribute&&this.setAttribute("class",ht||!1===pt?"":K.get(this,"__className__")||""))})},hasClass:function(pt){var ut,ft,ht=0;for(ut=" "+pt+" ";ft=this[ht++];)if(1===ft.nodeType&&-1<(" "+stripAndCollapse(getClass(ft))+" ").indexOf(ut))return!0;return!1}});var Ie=/\r/g;E.fn.extend({val:function(pt){var ut,ft,ht,mt=this[0];return arguments.length?(ht=E.isFunction(pt),this.each(function(gt){var yt;1!==this.nodeType||(yt=ht?pt.call(this,gt,E(this).val()):pt,null==yt?yt="":"number"==typeof yt?yt+="":Array.isArray(yt)&&(yt=E.map(yt,function(xt){return null==xt?"":xt+""})),ut=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()],(!ut||!("set"in ut)||void 0===ut.set(this,yt,"value"))&&(this.value=yt))})):mt?(ut=E.valHooks[mt.type]||E.valHooks[mt.nodeName.toLowerCase()],ut&&"get"in ut&&void 0!==(ft=ut.get(mt,"value")))?ft:(ft=mt.value,"string"==typeof ft?ft.replace(Ie,""):null==ft?"":ft):void 0}}),E.extend({valHooks:{option:{get:function(pt){var ut=E.find.attr(pt,"value");return null==ut?stripAndCollapse(E.text(pt)):ut}},select:{get:function(pt){var ut,ft,ht,mt=pt.options,gt=pt.selectedIndex,yt="select-one"===pt.type,xt=yt?null:[],bt=yt?gt+1:mt.length;for(ht=0>gt?bt:yt?gt:0;ht<bt;ht++)if(ft=mt[ht],(ft.selected||ht===gt)&&!ft.disabled&&(!ft.parentNode.disabled||!nodeName(ft.parentNode,"optgroup"))){if(ut=E(ft).val(),yt)return ut;xt.push(ut)}return xt},set:function(pt,ut){for(var ft,ht,mt=pt.options,gt=E.makeArray(ut),yt=mt.length;yt--;)ht=mt[yt],(ht.selected=-1<E.inArray(E.valHooks.option.get(ht),gt))&&(ft=!0);return ft||(pt.selectedIndex=-1),gt}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(pt,ut){if(Array.isArray(ut))return pt.checked=-1<E.inArray(E(pt).val(),ut)}},S.checkOn||(E.valHooks[this].get=function(pt){return null===pt.getAttribute("value")?"on":pt.value})});var We=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(pt,ut,ft,ht){var mt,gt,yt,xt,bt,vt,Tt,wt=[ft||c],Ct=C.call(pt,"type")?pt.type:pt,Nt=C.call(pt,"namespace")?pt.namespace.split("."):[];if((gt=yt=ft=ft||c,3!==ft.nodeType&&8!==ft.nodeType)&&!We.test(Ct+E.event.triggered)&&(-1<Ct.indexOf(".")&&(Nt=Ct.split("."),Ct=Nt.shift(),Nt.sort()),bt=0>Ct.indexOf(":")&&"on"+Ct,pt=pt[E.expando]?pt:new E.Event(Ct,"object"==typeof pt&&pt),pt.isTrigger=ht?2:3,pt.namespace=Nt.join("."),pt.rnamespace=pt.namespace?new RegExp("(^|\\.)"+Nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,pt.result=void 0,pt.target||(pt.target=ft),ut=null==ut?[pt]:E.makeArray(ut,[pt]),Tt=E.event.special[Ct]||{},ht||!Tt.trigger||!1!==Tt.trigger.apply(ft,ut))){if(!ht&&!Tt.noBubble&&!E.isWindow(ft)){for(xt=Tt.delegateType||Ct,We.test(xt+Ct)||(gt=gt.parentNode);gt;gt=gt.parentNode)wt.push(gt),yt=gt;yt===(ft.ownerDocument||c)&&wt.push(yt.defaultView||yt.parentWindow||o)}for(mt=0;(gt=wt[mt++])&&!pt.isPropagationStopped();)pt.type=1<mt?xt:Tt.bindType||Ct,vt=(K.get(gt,"events")||{})[pt.type]&&K.get(gt,"handle"),vt&&vt.apply(gt,ut),vt=bt&&gt[bt],vt&&vt.apply&&Q(gt)&&(pt.result=vt.apply(gt,ut),!1===pt.result&&pt.preventDefault());return pt.type=Ct,ht||pt.isDefaultPrevented()||Tt._default&&!1!==Tt._default.apply(wt.pop(),ut)||!Q(ft)||!bt||!E.isFunction(ft[Ct])||E.isWindow(ft)||(yt=ft[bt],yt&&(ft[bt]=null),E.event.triggered=Ct,ft[Ct](),E.event.triggered=void 0,yt&&(ft[bt]=yt)),pt.result}},simulate:function(pt,ut,ft){var ht=E.extend(new E.Event,ft,{type:pt,isSimulated:!0});E.event.trigger(ht,null,ut)}}),E.fn.extend({trigger:function(pt,ut){return this.each(function(){E.event.trigger(pt,ut,this)})},triggerHandler:function(pt,ut){var ft=this[0];if(ft)return E.event.trigger(pt,ut,ft,!0)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(pt,ut){E.fn[ut]=function(ft,ht){return 0<arguments.length?this.on(ut,null,ft,ht):this.trigger(ut)}}),E.fn.extend({hover:function(pt,ut){return this.mouseenter(pt).mouseleave(ut||pt)}}),S.focusin="onfocusin"in o,S.focusin||E.each({focus:"focusin",blur:"focusout"},function(pt,ut){var ft=function(ht){E.event.simulate(ut,ht.target,E.event.fix(ht))};E.event.special[ut]={setup:function(){var ht=this.ownerDocument||this,mt=K.access(ht,ut);mt||ht.addEventListener(pt,ft,!0),K.access(ht,ut,(mt||0)+1)},teardown:function(){var ht=this.ownerDocument||this,mt=K.access(ht,ut)-1;mt?K.access(ht,ut,mt):(ht.removeEventListener(pt,ft,!0),K.remove(ht,ut))}}});var Re=o.location,Be=E.now(),_e=/\?/;E.parseXML=function(pt){var ut;if(!pt||"string"!=typeof pt)return null;try{ut=new o.DOMParser().parseFromString(pt,"text/xml")}catch(ft){ut=void 0}return(!ut||ut.getElementsByTagName("parsererror").length)&&E.error("Invalid XML: "+pt),ut};var $e=/\[\]$/,Xe=/\r?\n/g,Ue=/^(?:submit|button|image|reset|file)$/i,ze=/^(?:input|select|textarea|keygen)/i;E.param=function(pt,ut){var ft,ht=[],mt=function(gt,yt){var xt=E.isFunction(yt)?yt():yt;ht[ht.length]=encodeURIComponent(gt)+"="+encodeURIComponent(null==xt?"":xt)};if(Array.isArray(pt)||pt.jquery&&!E.isPlainObject(pt))E.each(pt,function(){mt(this.name,this.value)});else for(ft in pt)buildParams(ft,pt[ft],ut,mt);return ht.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var pt=E.prop(this,"elements");return pt?E.makeArray(pt):this}).filter(function(){var pt=this.type;return this.name&&!E(this).is(":disabled")&&ze.test(this.nodeName)&&!Ue.test(pt)&&(this.checked||!ie.test(pt))}).map(function(pt,ut){var ft=E(this).val();return null==ft?null:Array.isArray(ft)?E.map(ft,function(ht){return{name:ut.name,value:ht.replace(Xe,"\r\n")}}):{name:ut.name,value:ft.replace(Xe,"\r\n")}}).get()}});var Ve=/%20/g,Ye=/#.*$/,Ge=/([?&])_=[^&]*/,Qe=/^(.*?):[ \t]*([^\r\n]*)$/mg,Ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Je=/^(?:GET|HEAD)$/,Ze=/^\/\//,et={},tt={},nt="*/".concat("*"),at=c.createElement("a");at.href=Re.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re.href,type:"GET",isLocal:Ke.test(Re.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(pt,ut){return ut?ajaxExtend(ajaxExtend(pt,E.ajaxSettings),ut):ajaxExtend(E.ajaxSettings,pt)},ajaxPrefilter:addToPrefiltersOrTransports(et),ajaxTransport:addToPrefiltersOrTransports(tt),ajax:function(pt,ut){function done(Ht,Ot,Pt,Ft){var Mt,It,Wt,Rt,Bt,_t=Ot;bt||(bt=!0,yt&&o.clearTimeout(yt),ft=void 0,mt=Ft||"",qt.readyState=0<Ht?4:0,Mt=200<=Ht&&300>Ht||304===Ht,Pt&&(Rt=ajaxHandleResponses(Ct,qt,Pt)),Rt=ajaxConvert(Ct,Rt,qt,Mt),Mt?(Ct.ifModified&&(Bt=qt.getResponseHeader("Last-Modified"),Bt&&(E.lastModified[ht]=Bt),Bt=qt.getResponseHeader("etag"),Bt&&(E.etag[ht]=Bt)),204===Ht||"HEAD"===Ct.type?_t="nocontent":304===Ht?_t="notmodified":(_t=Rt.state,It=Rt.data,Wt=Rt.error,Mt=!Wt)):(Wt=_t,(Ht||!_t)&&(_t="error",0>Ht&&(Ht=0))),qt.status=Ht,qt.statusText=(Ot||_t)+"",Mt?St.resolveWith(Nt,[It,_t,qt]):St.rejectWith(Nt,[qt,_t,Wt]),qt.statusCode(Dt),Dt=void 0,vt&&kt.trigger(Mt?"ajaxSuccess":"ajaxError",[qt,Ct,Mt?It:Wt]),jt.fireWith(Nt,[qt,_t]),vt&&(kt.trigger("ajaxComplete",[qt,Ct]),! --E.active&&E.event.trigger("ajaxStop")))}"object"==typeof pt&&(ut=pt,pt=void 0),ut=ut||{};var ft,ht,mt,gt,yt,xt,bt,vt,Tt,wt,Ct=E.ajaxSetup({},ut),Nt=Ct.context||Ct,kt=Ct.context&&(Nt.nodeType||Nt.jquery)?E(Nt):E.event,St=E.Deferred(),jt=E.Callbacks("once memory"),Dt=Ct.statusCode||{},Et={},At={},Lt="canceled",qt={readyState:0,getResponseHeader:function(Ht){var Ot;if(bt){if(!gt)for(gt={};Ot=Qe.exec(mt);)gt[Ot[1].toLowerCase()]=Ot[2];Ot=gt[Ht.toLowerCase()]}return null==Ot?null:Ot},getAllResponseHeaders:function(){return bt?mt:null},setRequestHeader:function(Ht,Ot){return null==bt&&(Ht=At[Ht.toLowerCase()]=At[Ht.toLowerCase()]||Ht,Et[Ht]=Ot),this},overrideMimeType:function(Ht){return null==bt&&(Ct.mimeType=Ht),this},statusCode:function(Ht){if(Ht)if(bt)qt.always(Ht[qt.status]);else// Lazy-add the new callbacks in a way that preserves old ones
for(var Ot in Ht)Dt[Ot]=[Dt[Ot],Ht[Ot]];return this},abort:function(Ht){var Ot=Ht||Lt;return ft&&ft.abort(Ot),done(0,Ot),this}};if(St.promise(qt),Ct.url=((pt||Ct.url||Re.href)+"").replace(Ze,Re.protocol+"//"),Ct.type=ut.method||ut.type||Ct.method||Ct.type,Ct.dataTypes=(Ct.dataType||"*").toLowerCase().match(z)||[""],null==Ct.crossDomain){xt=c.createElement("a");try{xt.href=Ct.url,xt.href=xt.href,Ct.crossDomain=at.protocol+"//"+at.host!=xt.protocol+"//"+xt.host}catch(Ht){Ct.crossDomain=!0}}if(Ct.data&&Ct.processData&&"string"!=typeof Ct.data&&(Ct.data=E.param(Ct.data,Ct.traditional)),inspectPrefiltersOrTransports(et,Ct,ut,qt),bt)return qt;for(Tt in vt=E.event&&Ct.global,vt&&0==E.active++&&E.event.trigger("ajaxStart"),Ct.type=Ct.type.toUpperCase(),Ct.hasContent=!Je.test(Ct.type),ht=Ct.url.replace(Ye,""),Ct.hasContent?Ct.data&&Ct.processData&&0===(Ct.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Ct.data=Ct.data.replace(Ve,"+")):(wt=Ct.url.slice(ht.length),Ct.data&&(ht+=(_e.test(ht)?"&":"?")+Ct.data,delete Ct.data),!1===Ct.cache&&(ht=ht.replace(Ge,"$1"),wt=(_e.test(ht)?"&":"?")+"_="+Be++ +wt),Ct.url=ht+wt),Ct.ifModified&&(E.lastModified[ht]&&qt.setRequestHeader("If-Modified-Since",E.lastModified[ht]),E.etag[ht]&&qt.setRequestHeader("If-None-Match",E.etag[ht])),(Ct.data&&Ct.hasContent&&!1!==Ct.contentType||ut.contentType)&&qt.setRequestHeader("Content-Type",Ct.contentType),qt.setRequestHeader("Accept",Ct.dataTypes[0]&&Ct.accepts[Ct.dataTypes[0]]?Ct.accepts[Ct.dataTypes[0]]+("*"===Ct.dataTypes[0]?"":", "+nt+"; q=0.01"):Ct.accepts["*"]),Ct.headers)qt.setRequestHeader(Tt,Ct.headers[Tt]);if(Ct.beforeSend&&(!1===Ct.beforeSend.call(Nt,qt,Ct)||bt))return qt.abort();if(Lt="abort",jt.add(Ct.complete),qt.done(Ct.success),qt.fail(Ct.error),ft=inspectPrefiltersOrTransports(tt,Ct,ut,qt),!ft)done(-1,"No Transport");else{if(qt.readyState=1,vt&&kt.trigger("ajaxSend",[qt,Ct]),bt)return qt;Ct.async&&0<Ct.timeout&&(yt=o.setTimeout(function(){qt.abort("timeout")},Ct.timeout));try{bt=!1,ft.send(Et,done)}catch(Ht){if(bt)throw Ht;done(-1,Ht)}}return qt},getJSON:function(pt,ut,ft){return E.get(pt,ut,ft,"json")},getScript:function(pt,ut){return E.get(pt,void 0,ut,"script")}}),E.each(["get","post"],function(pt,ut){E[ut]=function(ft,ht,mt,gt){return E.isFunction(ht)&&(gt=gt||mt,mt=ht,ht=void 0),E.ajax(E.extend({url:ft,type:ut,dataType:gt,data:ht,success:mt},E.isPlainObject(ft)&&ft))}}),E._evalUrl=function(pt){return E.ajax({url:pt,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(pt){var ut;return this[0]&&(E.isFunction(pt)&&(pt=pt.call(this[0])),ut=E(pt,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&ut.insertBefore(this[0]),ut.map(function(){for(var ft=this;ft.firstElementChild;)ft=ft.firstElementChild;return ft}).append(this)),this},wrapInner:function(pt){return E.isFunction(pt)?this.each(function(ut){E(this).wrapInner(pt.call(this,ut))}):this.each(function(){var ut=E(this),ft=ut.contents();ft.length?ft.wrapAll(pt):ut.append(pt)})},wrap:function(pt){var ut=E.isFunction(pt);return this.each(function(ft){E(this).wrapAll(ut?pt.call(this,ft):pt)})},unwrap:function(pt){return this.parent(pt).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(pt){return!E.expr.pseudos.visible(pt)},E.expr.pseudos.visible=function(pt){return!!(pt.offsetWidth||pt.offsetHeight||pt.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new o.XMLHttpRequest}catch(pt){}};var ot={0:200,1223:204},st=E.ajaxSettings.xhr();S.cors=!!st&&"withCredentials"in st,S.ajax=st=!!st,E.ajaxTransport(function(pt){var ut,ft;if(S.cors||st&&!pt.crossDomain)return{send:function(ht,mt){var gt,yt=pt.xhr();if(yt.open(pt.type,pt.url,pt.async,pt.username,pt.password),pt.xhrFields)for(gt in pt.xhrFields)yt[gt]=pt.xhrFields[gt];for(gt in pt.mimeType&&yt.overrideMimeType&&yt.overrideMimeType(pt.mimeType),pt.crossDomain||ht["X-Requested-With"]||(ht["X-Requested-With"]="XMLHttpRequest"),ht)yt.setRequestHeader(gt,ht[gt]);ut=function(xt){return function(){ut&&(ut=ft=yt.onload=yt.onerror=yt.onabort=yt.onreadystatechange=null,"abort"===xt?yt.abort():"error"===xt?"number"==typeof yt.status?mt(yt.status,yt.statusText):mt(0,"error"):mt(ot[yt.status]||yt.status,yt.statusText,"text"!==(yt.responseType||"text")||"string"!=typeof yt.responseText?{binary:yt.response}:{text:yt.responseText},yt.getAllResponseHeaders()))}},yt.onload=ut(),ft=yt.onerror=ut("error"),void 0===yt.onabort?yt.onreadystatechange=function(){4===yt.readyState&&o.setTimeout(function(){ut&&ft()})}:yt.onabort=ft,ut=ut("abort");try{yt.send(pt.hasContent&&pt.data||null)}catch(xt){if(ut)throw xt}},abort:function(){ut&&ut()}}}),E.ajaxPrefilter(function(pt){pt.crossDomain&&(pt.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(pt){return E.globalEval(pt),pt}}}),E.ajaxPrefilter("script",function(pt){void 0===pt.cache&&(pt.cache=!1),pt.crossDomain&&(pt.type="GET")}),E.ajaxTransport("script",function(pt){if(pt.crossDomain){var ut,ft;return{send:function(ht,mt){ut=E("<script>").prop({charset:pt.scriptCharset,src:pt.url}).on("load error",ft=function(gt){ut.remove(),ft=null,gt&&mt("error"===gt.type?404:200,gt.type)}),c.head.appendChild(ut[0])},abort:function(){ft&&ft()}}}});var rt=[],it=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var pt=rt.pop()||E.expando+"_"+Be++;return this[pt]=!0,pt}}),E.ajaxPrefilter("json jsonp",function(pt,ut,ft){var ht,mt,gt,yt=!1!==pt.jsonp&&(it.test(pt.url)?"url":"string"==typeof pt.data&&0===(pt.contentType||"").indexOf("application/x-www-form-urlencoded")&&it.test(pt.data)&&"data");if(yt||"jsonp"===pt.dataTypes[0])return ht=pt.jsonpCallback=E.isFunction(pt.jsonpCallback)?pt.jsonpCallback():pt.jsonpCallback,yt?pt[yt]=pt[yt].replace(it,"$1"+ht):!1!==pt.jsonp&&(pt.url+=(_e.test(pt.url)?"&":"?")+pt.jsonp+"="+ht),pt.converters["script json"]=function(){return gt||E.error(ht+" was not called"),gt[0]},pt.dataTypes[0]="json",mt=o[ht],o[ht]=function(){gt=arguments},ft.always(function(){void 0==mt?E(o).removeProp(ht):o[ht]=mt,pt[ht]&&(pt.jsonpCallback=ut.jsonpCallback,rt.push(ht)),gt&&E.isFunction(mt)&&mt(gt[0]),gt=mt=void 0}),"script"}),S.createHTMLDocument=function(){var pt=c.implementation.createHTMLDocument("").body;return pt.innerHTML="<form></form><form></form>",2===pt.childNodes.length}(),E.parseHTML=function(pt,ut,ft){if("string"!=typeof pt)return[];"boolean"==typeof ut&&(ft=ut,ut=!1);var ht,mt,gt;return(ut||(S.createHTMLDocument?(ut=c.implementation.createHTMLDocument(""),ht=ut.createElement("base"),ht.href=c.location.href,ut.head.appendChild(ht)):ut=c),mt=I.exec(pt),gt=!ft&&[],mt)?[ut.createElement(mt[1])]:(mt=buildFragment([pt],ut,gt),gt&&gt.length&&E(gt).remove(),E.merge([],mt.childNodes))},E.fn.load=function(pt,ut,ft){var ht,mt,gt,yt=this,xt=pt.indexOf(" ");return-1<xt&&(ht=stripAndCollapse(pt.slice(xt)),pt=pt.slice(0,xt)),E.isFunction(ut)?(ft=ut,ut=void 0):ut&&"object"==typeof ut&&(mt="POST"),0<yt.length&&E.ajax({url:pt,type:mt||"GET",dataType:"html",data:ut}).done(function(bt){gt=arguments,yt.html(ht?E("<div>").append(E.parseHTML(bt)).find(ht):bt)}).always(ft&&function(bt,vt){yt.each(function(){ft.apply(this,gt||[bt.responseText,vt,bt])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(pt,ut){E.fn[ut]=function(ft){return this.on(ut,ft)}}),E.expr.pseudos.animated=function(pt){return E.grep(E.timers,function(ut){return pt===ut.elem}).length},E.offset={setOffset:function(pt,ut,ft){var ht,mt,gt,yt,xt,bt,vt,Tt=E.css(pt,"position"),wt=E(pt),Ct={};"static"===Tt&&(pt.style.position="relative"),xt=wt.offset(),gt=E.css(pt,"top"),bt=E.css(pt,"left"),vt=("absolute"===Tt||"fixed"===Tt)&&-1<(gt+bt).indexOf("auto"),vt?(ht=wt.position(),yt=ht.top,mt=ht.left):(yt=parseFloat(gt)||0,mt=parseFloat(bt)||0),E.isFunction(ut)&&(ut=ut.call(pt,ft,E.extend({},xt))),null!=ut.top&&(Ct.top=ut.top-xt.top+yt),null!=ut.left&&(Ct.left=ut.left-xt.left+mt),"using"in ut?ut.using.call(pt,Ct):wt.css(Ct)}},E.fn.extend({offset:function(pt){if(arguments.length)return void 0===pt?this:this.each(function(yt){E.offset.setOffset(this,pt,yt)});var ut,ft,ht,mt,gt=this[0];if(gt)return gt.getClientRects().length?(ht=gt.getBoundingClientRect(),ut=gt.ownerDocument,ft=ut.documentElement,mt=ut.defaultView,{top:ht.top+mt.pageYOffset-ft.clientTop,left:ht.left+mt.pageXOffset-ft.clientLeft}):{top:0,left:0}},position:function(){if(this[0]){var pt,ut,ft=this[0],ht={top:0,left:0};return"fixed"===E.css(ft,"position")?ut=ft.getBoundingClientRect():(pt=this.offsetParent(),ut=this.offset(),!nodeName(pt[0],"html")&&(ht=pt.offset()),ht={top:ht.top+E.css(pt[0],"borderTopWidth",!0),left:ht.left+E.css(pt[0],"borderLeftWidth",!0)}),{top:ut.top-ht.top-E.css(ft,"marginTop",!0),left:ut.left-ht.left-E.css(ft,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var pt=this.offsetParent;pt&&"static"===E.css(pt,"position");)pt=pt.offsetParent;return pt||ue})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(pt,ut){var ft="pageYOffset"===ut;E.fn[pt]=function(ht){return G(this,function(mt,gt,yt){var xt;return E.isWindow(mt)?xt=mt:9===mt.nodeType&&(xt=mt.defaultView),void 0===yt?xt?xt[ut]:mt[gt]:void(xt?xt.scrollTo(ft?xt.pageXOffset:yt,ft?yt:xt.pageYOffset):mt[gt]=yt)},pt,ht,arguments.length)}}),E.each(["top","left"],function(pt,ut){E.cssHooks[ut]=addGetHookIf(S.pixelPosition,function(ft,ht){if(ht)return ht=curCSS(ft,ut),we.test(ht)?E(ft).position()[ut]+"px":ht})}),E.each({Height:"height",Width:"width"},function(pt,ut){E.each({padding:"inner"+pt,content:ut,"":"outer"+pt},function(ft,ht){E.fn[ht]=function(mt,gt){var yt=arguments.length&&(ft||"boolean"!=typeof mt),xt=ft||(!0===mt||!0===gt?"margin":"border");return G(this,function(bt,vt,Tt){var wt;return E.isWindow(bt)?0===ht.indexOf("outer")?bt["inner"+pt]:bt.document.documentElement["client"+pt]:9===bt.nodeType?(wt=bt.documentElement,Math.max(bt.body["scroll"+pt],wt["scroll"+pt],bt.body["offset"+pt],wt["offset"+pt],wt["client"+pt])):void 0===Tt?E.css(bt,vt,xt):E.style(bt,vt,Tt,xt)},ut,yt?mt:void 0,yt)}})}),E.fn.extend({bind:function(pt,ut,ft){return this.on(pt,null,ut,ft)},unbind:function(pt,ut){return this.off(pt,null,ut)},delegate:function(pt,ut,ft,ht){return this.on(ut,pt,ft,ht)},undelegate:function(pt,ut,ft){return 1===arguments.length?this.off(pt,"**"):this.off(ut,pt||"**",ft)}}),E.holdReady=function(pt){pt?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=nodeName,"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var dt=o.jQuery,lt=o.$;return E.noConflict=function(pt){return o.$===E&&(o.$=lt),pt&&o.jQuery===E&&(o.jQuery=dt),E},r||(o.jQuery=o.$=E),E});
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function visible(p){for(var q=p.css("visibility");"inherit"===q;)p=p.parent(),q=p.css("visibility");return"hidden"!==q}a.ui=a.ui||{};var b=a.ui.version="1.12.1",c=0,d=Array.prototype.slice;/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */a.cleanData=function(p){return function(q){var r,s,t;for(t=0;null!=(s=q[t]);t++)try{r=a._data(s,"events"),r&&r.remove&&a(s).triggerHandler("remove")}catch(u){}p(q)}}(a.cleanData),a.widget=function(p,q,r){var s,t,u,v={},w=p.split(".")[0];p=p.split(".")[1];var x=w+"-"+p;return r||(r=q,q=a.Widget),a.isArray(r)&&(r=a.extend.apply(null,[{}].concat(r))),a.expr[":"][x.toLowerCase()]=function(y){return!!a.data(y,x)},a[w]=a[w]||{},s=a[w][p],t=a[w][p]=function(y,z){return this._createWidget?void(arguments.length&&this._createWidget(y,z)):new t(y,z)},a.extend(t,s,{version:r.version,_proto:a.extend({},r),_childConstructors:[]}),u=new q,u.options=a.widget.extend({},u.options),a.each(r,function(y,z){return a.isFunction(z)?void(v[y]=function(){function _super(){return q.prototype[y].apply(this,arguments)}function _superApply(A){return q.prototype[y].apply(this,A)}return function(){var C,A=this._super,B=this._superApply;return this._super=_super,this._superApply=_superApply,C=z.apply(this,arguments),this._super=A,this._superApply=B,C}}()):void(v[y]=z)}),t.prototype=a.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||p:p},v,{constructor:t,namespace:w,widgetName:p,widgetFullName:x}),s?(a.each(s._childConstructors,function(y,z){var A=z.prototype;a.widget(A.namespace+"."+A.widgetName,t,z._proto)}),delete s._childConstructors):q._childConstructors.push(t),a.widget.bridge(p,t),t},a.widget.extend=function(p){for(var t,u,q=d.call(arguments,1),r=0,s=q.length;r<s;r++)for(t in q[r])u=q[r][t],q[r].hasOwnProperty(t)&&void 0!=u&&(a.isPlainObject(u)?p[t]=a.isPlainObject(p[t])?a.widget.extend({},p[t],u):a.widget.extend({},u):p[t]=u);return p},a.widget.bridge=function(p,q){var r=q.prototype.widgetFullName||p;a.fn[p]=function(s){var t="string"==typeof s,u=d.call(arguments,1),v=this;return t?this.length||"instance"!==s?this.each(function(){var w,x=a.data(this,r);return"instance"===s?(v=x,!1):x?a.isFunction(x[s])&&"_"!==s.charAt(0)?(w=x[s].apply(x,u),w!==x&&void 0!=w)?(v=w&&w.jquery?v.pushStack(w.get()):w,!1):void 0:a.error("no such method '"+s+"' for "+p+" widget instance"):a.error("cannot call methods on "+p+" prior to initialization; attempted to call method '"+s+"'")}):v=void 0:(u.length&&(s=a.widget.extend.apply(null,[s].concat(u))),this.each(function(){var w=a.data(this,r);w?(w.option(s||{}),w._init&&w._init()):a.data(this,r,new q(s,this))})),v}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(p,q){q=a(q||this.defaultElement||this)[0],this.element=a(q),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=a(),this.hoverable=a(),this.focusable=a(),this.classesElementLookup={},q!==this&&(a.data(q,this.widgetFullName,this),this._on(!0,this.element,{remove:function(r){r.target===q&&this.destroy()}}),this.document=a(q.style?q.ownerDocument:q.document||q),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this.options=a.widget.extend({},this.options,this._getCreateOptions(),p),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var p=this;this._destroy(),a.each(this.classesElementLookup,function(q,r){p._removeClass(r,q)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(p,q){var s,t,u,r=p;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof p)if(r={},s=p.split("."),p=s.shift(),s.length){for(t=r[p]=a.widget.extend({},this.options[p]),u=0;u<s.length-1;u++)t[s[u]]=t[s[u]]||{},t=t[s[u]];if(p=s.pop(),1===arguments.length)return void 0===t[p]?null:t[p];t[p]=q}else{if(1===arguments.length)return void 0===this.options[p]?null:this.options[p];r[p]=q}return this._setOptions(r),this},_setOptions:function(p){for(var q in p)this._setOption(q,p[q]);return this},_setOption:function(p,q){return"classes"===p&&this._setOptionClasses(q),this.options[p]=q,"disabled"===p&&this._setOptionDisabled(q),this},_setOptionClasses:function(p){var q,r,s;for(q in p)(s=this.classesElementLookup[q],p[q]!==this.options.classes[q]&&s&&s.length)&&(r=a(s.get()),this._removeClass(s,q),r.addClass(this._classes({element:r,keys:q,classes:p,add:!0})))},_setOptionDisabled:function(p){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!p),p&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(p){function processClassString(s,t){var u,v;for(v=0;v<s.length;v++)u=r.classesElementLookup[s[v]]||a(),u=p.add?a(a.unique(u.get().concat(p.element.get()))):a(u.not(p.element).get()),r.classesElementLookup[s[v]]=u,q.push(s[v]),t&&p.classes[s[v]]&&q.push(p.classes[s[v]])}var q=[],r=this;return p=a.extend({element:this.element,classes:this.options.classes||{}},p),this._on(p.element,{remove:"_untrackClassesElement"}),p.keys&&processClassString(p.keys.match(/\S+/g)||[],!0),p.extra&&processClassString(p.extra.match(/\S+/g)||[]),q.join(" ")},_untrackClassesElement:function(p){var q=this;a.each(q.classesElementLookup,function(r,s){-1!==a.inArray(p.target,s)&&(q.classesElementLookup[r]=a(s.not(p.target).get()))})},_removeClass:function(p,q,r){return this._toggleClass(p,q,r,!1)},_addClass:function(p,q,r){return this._toggleClass(p,q,r,!0)},_toggleClass:function(p,q,r,s){s="boolean"==typeof s?s:r;var t="string"==typeof p||null===p,u={extra:t?q:r,keys:t?p:q,element:t?this.element:p,add:s};return u.element.toggleClass(this._classes(u),s),this},_on:function(p,q,r){var s,t=this;"boolean"!=typeof p&&(r=q,q=p,p=!1),r?(q=s=a(q),this.bindings=this.bindings.add(q)):(r=q,q=this.element,s=this.widget()),a.each(r,function(u,v){function handlerProxy(){return!p&&(!0===t.options.disabled||a(this).hasClass("ui-state-disabled"))?void 0:("string"==typeof v?t[v]:v).apply(t,arguments)}"string"!=typeof v&&(handlerProxy.guid=v.guid=v.guid||handlerProxy.guid||a.guid++);var w=u.match(/^([\w:-]*)\s*(.*)$/),x=w[1]+t.eventNamespace,y=w[2];y?s.on(x,y,handlerProxy):q.on(x,handlerProxy)})},_off:function(p,q){q=(q||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,p.off(q).off(q),this.bindings=a(this.bindings.not(p).get()),this.focusable=a(this.focusable.not(p).get()),this.hoverable=a(this.hoverable.not(p).get())},_delay:function(p,q){var r=this;return setTimeout(function(){return("string"==typeof p?r[p]:p).apply(r,arguments)},q||0)},_hoverable:function(p){this.hoverable=this.hoverable.add(p),this._on(p,{mouseenter:function(q){this._addClass(a(q.currentTarget),null,"ui-state-hover")},mouseleave:function(q){this._removeClass(a(q.currentTarget),null,"ui-state-hover")}})},_focusable:function(p){this.focusable=this.focusable.add(p),this._on(p,{focusin:function(q){this._addClass(a(q.currentTarget),null,"ui-state-focus")},focusout:function(q){this._removeClass(a(q.currentTarget),null,"ui-state-focus")}})},_trigger:function(p,q,r){var s,t,u=this.options[p];if(r=r||{},q=a.Event(q),q.type=(p===this.widgetEventPrefix?p:this.widgetEventPrefix+p).toLowerCase(),q.target=this.element[0],t=q.originalEvent,t)for(s in t)s in q||(q[s]=t[s]);return this.element.trigger(q,r),!(a.isFunction(u)&&!1===u.apply(this.element[0],[q].concat(r))||q.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(p,q){a.Widget.prototype["_"+p]=function(r,s,t){"string"==typeof s&&(s={effect:s});var u,v=s?!0===s||"number"==typeof s?q:s.effect||q:p;s=s||{},"number"==typeof s&&(s={duration:s}),u=!a.isEmptyObject(s),s.complete=t,s.delay&&r.delay(s.delay),u&&a.effects&&a.effects.effect[v]?r[p](s):v!==p&&r[v]?r[v](s.duration,s.easing,t):r.queue(function(w){a(this)[p](),t&&t.call(r[0]),w()})}});var f=a.widget,g=a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(p){return function(q){return!!a.data(q,p)}}):function(p,q,r){return!!a.data(p,r[3])}}),h=a.fn.extend({disableSelection:function(){var p="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(p+".ui-disableSelection",function(q){q.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});/*!
 * jQuery UI :data 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Disable Selection 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */a.ui.focusable=function(p,q){var r,s,t,u,v,w=p.nodeName.toLowerCase();return"area"===w?(r=p.parentNode,s=r.name,p.href&&s&&"map"===r.nodeName.toLowerCase())&&(t=a("img[usemap='#"+s+"']"),0<t.length&&t.is(":visible")):(/^(input|select|textarea|button|object)$/.test(w)?(u=!p.disabled,u&&(v=a(p).closest("fieldset")[0],v&&(u=!v.disabled))):"a"===w?u=p.href||q:u=q,u&&a(p).is(":visible")&&visible(a(p)))},a.extend(a.expr[":"],{focusable:function(p){return a.ui.focusable(p,null!=a.attr(p,"tabindex"))}});var j=a.ui.focusable,k=a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},l=a.fn.extend({uniqueId:function(){var p=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++p)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}}),m=a.ui.escapeSelector=function(){var p=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(q){return q.replace(p,"\\$1")}}(),n=a.ui.safeActiveElement=function(p){var q;try{q=p.activeElement}catch(r){q=p.body}return q||(q=p.body),q.nodeName||(q=p.body),q};/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Unique ID 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *//*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var p=/#.*$/;return function(q){var r,s;r=q.href.replace(p,""),s=location.href.replace(p,"");try{r=decodeURIComponent(r)}catch(t){}try{s=decodeURIComponent(s)}catch(t){}return 1<q.hash.length&&r===s}}(),_create:function(){var p=this,q=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,q.collapsible),this._processTabs(),q.active=this._initialActive(),a.isArray(q.disabled)&&(q.disabled=a.unique(q.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(r){return p.tabs.index(r)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(q.active):a(),this._refresh(),this.active.length&&this.load(q.active)},_initialActive:function(){var p=this.options.active,q=this.options.collapsible,r=location.hash.substring(1);return null===p&&(r&&this.tabs.each(function(s,t){if(a(t).attr("aria-controls")===r)return p=s,!1}),null===p&&(p=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===p||-1===p)&&(p=!!this.tabs.length&&0)),!1!==p&&(p=this.tabs.index(this.tabs.eq(p)),-1===p&&(p=!q&&0)),!q&&!1===p&&this.anchors.length&&(p=0),p},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(p){var q=a(a.ui.safeActiveElement(this.document[0])).closest("li"),r=this.tabs.index(q),s=!0;if(!this._handlePageNav(p)){switch(p.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:r++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:s=!1,r--;break;case a.ui.keyCode.END:r=this.anchors.length-1;break;case a.ui.keyCode.HOME:r=0;break;case a.ui.keyCode.SPACE:return p.preventDefault(),clearTimeout(this.activating),void this._activate(r);case a.ui.keyCode.ENTER:return p.preventDefault(),clearTimeout(this.activating),void this._activate(r!==this.options.active&&r);default:return;}p.preventDefault(),clearTimeout(this.activating),r=this._focusNextTab(r,s),p.ctrlKey||p.metaKey||(q.attr("aria-selected","false"),this.tabs.eq(r).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",r)},this.delay))}},_panelKeydown:function(p){this._handlePageNav(p)||p.ctrlKey&&p.keyCode===a.ui.keyCode.UP&&(p.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(p){return p.altKey&&p.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):p.altKey&&p.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(p,q){function constrain(){return p>r&&(p=0),0>p&&(p=r),p}for(var r=this.tabs.length-1;-1!==a.inArray(constrain(),this.options.disabled);)p=q?p+1:p-1;return p},_focusNextTab:function(p,q){return p=this._findNextTab(p,q),this.tabs.eq(p).trigger("focus"),p},_setOption:function(p,q){return"active"===p?void this._activate(q):void(this._super(p,q),"collapsible"==p&&(this._toggleClass("ui-tabs-collapsible",null,q),!q&&!1===this.options.active&&this._activate(0)),"event"==p&&this._setupEvents(q),"heightStyle"==p&&this._setupHeightStyle(q))},_sanitizeSelector:function(p){return p?p.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var p=this.options,q=this.tablist.children(":has(a[href])");p.disabled=a.map(q.filter(".ui-state-disabled"),function(r){return q.index(r)}),this._processTabs(),!1!==p.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===p.disabled.length?(p.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,p.active-1),!1)):p.active=this.tabs.index(this.active):(p.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var p=this,q=this.tabs,r=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){a(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each(function(t,u){var v,w,x,y=a(u).uniqueId().attr("id"),z=a(u).closest("li"),A=z.attr("aria-controls");p._isLocal(u)?(v=u.hash,x=v.substring(1),w=p.element.find(p._sanitizeSelector(v))):(x=z.attr("aria-controls")||a({}).uniqueId()[0].id,v="#"+x,w=p.element.find(v),!w.length&&(w=p._createPanel(x),w.insertAfter(p.panels[t-1]||p.tablist)),w.attr("aria-live","polite")),w.length&&(p.panels=p.panels.add(w)),A&&z.data("ui-tabs-aria-controls",A),z.attr({"aria-controls":x,"aria-labelledby":y}),w.attr("aria-labelledby",y)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),q&&(this._off(q.not(this.tabs)),this._off(r.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(p){return a("<div>").attr("id",p).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(p){var q,r,s;for(a.isArray(p)&&(p.length?p.length===this.anchors.length&&(p=!0):p=!1),s=0;r=this.tabs[s];s++)q=a(r),!0===p||-1!==a.inArray(s,p)?(q.attr("aria-disabled","true"),this._addClass(q,null,"ui-state-disabled")):(q.removeAttr("aria-disabled"),this._removeClass(q,null,"ui-state-disabled"));this.options.disabled=p,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===p)},_setupEvents:function(p){var q={};p&&a.each(p.split(" "),function(r,s){q[s]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(r){r.preventDefault()}}),this._on(this.anchors,q),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(p){var q,r=this.element.parent();"fill"===p?(q=r.height(),q-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var s=a(this),t=s.css("position");"absolute"===t||"fixed"===t||(q-=s.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){q-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,q-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"==p&&(q=0,this.panels.each(function(){q=Math.max(q,a(this).height("").height())}).height(q))},_eventHandler:function(p){var q=this.options,r=this.active,s=a(p.currentTarget),t=s.closest("li"),u=t[0]===r[0],v=u&&q.collapsible,w=v?a():this._getPanelForTab(t),x=r.length?this._getPanelForTab(r):a(),y={oldTab:r,oldPanel:x,newTab:v?a():t,newPanel:w};p.preventDefault();t.hasClass("ui-state-disabled")||t.hasClass("ui-tabs-loading")||this.running||u&&!q.collapsible||!1===this._trigger("beforeActivate",p,y)||(q.active=!v&&this.tabs.index(t),this.active=u?a():t,this.xhr&&this.xhr.abort(),!x.length&&!w.length&&a.error("jQuery UI Tabs: Mismatching fragment identifier."),w.length&&this.load(this.tabs.index(t),p),this._toggle(p,y))},_toggle:function(p,q){function complete(){r.running=!1,r._trigger("activate",p,q)}function show(){r._addClass(q.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&r.options.show?r._show(s,r.options.show,complete):(s.show(),complete())}var r=this,s=q.newPanel,t=q.oldPanel;this.running=!0,t.length&&this.options.hide?this._hide(t,this.options.hide,function(){r._removeClass(q.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),show()}):(this._removeClass(q.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),t.hide(),show()),t.attr("aria-hidden","true"),q.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&t.length?q.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),q.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(p){var q,r=this._findActive(p);r[0]===this.active[0]||(!r.length&&(r=this.active),q=r.find(".ui-tabs-anchor")[0],this._eventHandler({target:q,currentTarget:q,preventDefault:a.noop}))},_findActive:function(p){return!1===p?a():this.tabs.eq(p)},_getIndex:function(p){return"string"==typeof p&&(p=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(p)+"']"))),p},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var p=a(this),q=p.data("ui-tabs-aria-controls");q?p.attr("aria-controls",q).removeData("ui-tabs-aria-controls"):p.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(p){var q=this.options.disabled;!1===q||(p===void 0?q=!1:(p=this._getIndex(p),q=a.isArray(q)?a.map(q,function(r){return r===p?null:r}):a.map(this.tabs,function(r,s){return s===p?null:s})),this._setOptionDisabled(q))},disable:function(p){var q=this.options.disabled;if(!0!==q){if(void 0===p)q=!0;else{if(p=this._getIndex(p),-1!==a.inArray(p,q))return;q=a.isArray(q)?a.merge([p],q).sort():[p]}this._setOptionDisabled(q)}},load:function(p,q){p=this._getIndex(p);var r=this,s=this.tabs.eq(p),t=s.find(".ui-tabs-anchor"),u=this._getPanelForTab(s),v={tab:s,panel:u},w=function(x,y){"abort"===y&&r.panels.stop(!1,!0),r._removeClass(s,"ui-tabs-loading"),u.removeAttr("aria-busy"),x===r.xhr&&delete r.xhr};this._isLocal(t[0])||(this.xhr=a.ajax(this._ajaxSettings(t,q,v)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(s,"ui-tabs-loading"),u.attr("aria-busy","true"),this.xhr.done(function(x,y,z){setTimeout(function(){u.html(x),r._trigger("load",q,v),w(z,y)},1)}).fail(function(x,y){setTimeout(function(){w(x,y)},1)})))},_ajaxSettings:function(p,q,r){var s=this;return{url:p.attr("href").replace(/#.*$/,""),beforeSend:function(t,u){return s._trigger("beforeLoad",q,a.extend({jqXHR:t,ajaxSettings:u},r))}}},_getPanelForTab:function(p){var q=a(p).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+q))}}),!1!==a.uiBackCompat&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});a.ui.tabs});
!function(ee){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=ee();else if("function"==typeof define&&define.amd)define([],ee);else{var te;te="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?this:self:global:window,te.JSZip=ee()}}(function(){return function a(ee,te,re){function e(se,ie){if(!te[se]){if(!ee[se]){var oe="function"==typeof require&&require;if(!ie&&oe)return oe(se,!0);if(ae)return ae(se,!0);var de=new Error("Cannot find module '"+se+"'");throw de.code="MODULE_NOT_FOUND",de}var le=te[se]={exports:{}};ee[se][0].call(le.exports,function(ce){var pe=ee[se][1][ce];return e(pe?pe:ce)},le,le.exports,a,ee,te,re)}return te[se].exports}for(var ae="function"==typeof require&&require,ne=0;ne<re.length;ne++)e(re[ne]);return e}({1:[function(ee,te,re){"use strict";var ae=ee("./utils"),ne=ee("./support"),se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";re.encode=function(ie){for(var oe,de,le,ce,pe,ue,he,me=[],_e=0,fe=ie.length,ge=fe,be="string"!==ae.getTypeOf(ie);_e<ie.length;)ge=fe-_e,be?(oe=ie[_e++],de=_e<fe?ie[_e++]:0,le=_e<fe?ie[_e++]:0):(oe=ie.charCodeAt(_e++),de=_e<fe?ie.charCodeAt(_e++):0,le=_e<fe?ie.charCodeAt(_e++):0),ce=oe>>2,pe=(3&oe)<<4|de>>4,ue=1<ge?(15&de)<<2|le>>6:64,he=2<ge?63&le:64,me.push(se.charAt(ce)+se.charAt(pe)+se.charAt(ue)+se.charAt(he));return me.join("")},re.decode=function(ie){var oe,de,le,ce,pe,ue,he,me=0,_e=0,fe="data:";if(ie.substr(0,fe.length)===fe)throw new Error("Invalid base64 input, it looks like a data url.");ie=ie.replace(/[^A-Za-z0-9\+\/\=]/g,"");var ge=3*ie.length/4;if(ie.charAt(ie.length-1)===se.charAt(64)&&ge--,ie.charAt(ie.length-2)===se.charAt(64)&&ge--,0!=ge%1)throw new Error("Invalid base64 input, bad content length.");var be;for(be=ne.uint8array?new Uint8Array(0|ge):Array(0|ge);me<ie.length;)ce=se.indexOf(ie.charAt(me++)),pe=se.indexOf(ie.charAt(me++)),ue=se.indexOf(ie.charAt(me++)),he=se.indexOf(ie.charAt(me++)),oe=ce<<2|pe>>4,de=(15&pe)<<4|ue>>2,le=(3&ue)<<6|he,be[_e++]=oe,64!==ue&&(be[_e++]=de),64!==he&&(be[_e++]=le);return be}},{"./support":30,"./utils":32}],2:[function(ee,te){"use strict";function d(oe,de,le,ce,pe){this.compressedSize=oe,this.uncompressedSize=de,this.crc32=le,this.compression=ce,this.compressedContent=pe}var ae=ee("./external"),ne=ee("./stream/DataWorker"),se=ee("./stream/DataLengthProbe"),ie=ee("./stream/Crc32Probe"),se=ee("./stream/DataLengthProbe");d.prototype={getContentWorker:function(){var oe=new ne(ae.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new se("data_length")),de=this;return oe.on("end",function(){if(this.streamInfo.data_length!==de.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),oe},getCompressedWorker:function(){return new ne(ae.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(oe,de,le){return oe.pipe(new ie).pipe(new se("uncompressedSize")).pipe(de.compressWorker(le)).pipe(new se("compressedSize")).withStreamInfo("compression",de)},te.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ee,te,re){"use strict";var ae=ee("./stream/GenericWorker");re.STORE={magic:"\0\0",compressWorker:function(){return new ae("STORE compression")},uncompressWorker:function(){return new ae("STORE decompression")}},re.DEFLATE=ee("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ee,te){"use strict";function e(se,ie,oe,de){se^=-1;for(var pe=de;pe<de+oe;pe++)se=se>>>8^ne[255&(se^ie[pe])];return-1^se}function f(se,ie,oe,de){se^=-1;for(var pe=de;pe<de+oe;pe++)se=se>>>8^ne[255&(se^ie.charCodeAt(pe))];return-1^se}var ae=ee("./utils"),ne=function(){for(var se,ie=[],oe=0;256>oe;oe++){se=oe;for(var de=0;8>de;de++)se=1&se?3988292384^se>>>1:se>>>1;ie[oe]=se}return ie}();te.exports=function(se,ie){if("undefined"==typeof se||!se.length)return 0;var oe="string"!==ae.getTypeOf(se);return oe?e(0|ie,se,se.length,0):f(0|ie,se,se.length,0)}},{"./utils":32}],5:[function(ee,te,re){"use strict";re.base64=!1,re.binary=!1,re.dir=!1,re.createFolders=!0,re.date=null,re.compression=null,re.compressionOptions=null,re.comment=null,re.unixPermissions=null,re.dosPermissions=null},{}],6:[function(ee,te){"use strict";var ae=null;ae="undefined"==typeof Promise?ee("lie"):Promise,te.exports={Promise:ae}},{lie:58}],7:[function(ee,te,re){"use strict";function d(de,le){ie.call(this,"FlateWorker/"+de),this._pako=new ne[de]({raw:!0,level:le.level||-1}),this.meta={};var ce=this;this._pako.onData=function(pe){ce.push({data:pe,meta:ce.meta})}}var ae="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,ne=ee("pako"),se=ee("./utils"),ie=ee("./stream/GenericWorker"),oe=ae?"uint8array":"array";re.magic="\b\0",se.inherits(d,ie),d.prototype.processChunk=function(de){this.meta=de.meta,this._pako.push(se.transformTo(oe,de.data),!1)},d.prototype.flush=function(){ie.prototype.flush.call(this),this._pako.push([],!0)},d.prototype.cleanUp=function(){ie.prototype.cleanUp.call(this),this._pako=null},re.compressWorker=function(de){return new d("Deflate",de)},re.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(ee,te){"use strict";function d(me,_e,fe,ge){ne.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_e,this.zipPlatform=fe,this.encodeFileName=ge,this.streamFiles=me,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var ae=ee("../utils"),ne=ee("../stream/GenericWorker"),se=ee("../utf8"),ie=ee("../crc32"),oe=ee("../signature"),de=function(me,_e){var fe,ge="";for(fe=0;fe<_e;fe++)ge+=String.fromCharCode(255&me),me>>>=8;return ge},le=function(me,_e){var fe=me;return me||(fe=_e?16893:33204),(65535&fe)<<16},ce=function(me){return 63&(me||0)},pe=function(me,_e,fe,ge,be,ye){var ke,xe,ve=me.file,we=me.compression,ze=ye!==se.utf8encode,Se=ae.transformTo("string",ye(ve.name)),Ce=ae.transformTo("string",se.utf8encode(ve.name)),Ee=ve.comment,Ie=ae.transformTo("string",ye(Ee)),Oe=ae.transformTo("string",se.utf8encode(Ee)),Ae=Ce.length!==ve.name.length,Be=Oe.length!==Ee.length,Re="",De="",Te="",Fe=ve.dir,Ne=ve.date,Pe={crc32:0,compressedSize:0,uncompressedSize:0};_e&&!fe||(Pe.crc32=me.crc32,Pe.compressedSize=me.compressedSize,Pe.uncompressedSize=me.uncompressedSize);var je=0;_e&&(je|=8),!ze&&(Ae||Be)&&(je|=2048);var Le=0,Ue=0;Fe&&(Le|=16),"UNIX"===be?(Ue=798,Le|=le(ve.unixPermissions,Fe)):(Ue=20,Le|=ce(ve.dosPermissions,Fe)),ke=Ne.getUTCHours(),ke<<=6,ke|=Ne.getUTCMinutes(),ke<<=5,ke|=Ne.getUTCSeconds()/2,xe=Ne.getUTCFullYear()-1980,xe<<=4,xe|=Ne.getUTCMonth()+1,xe<<=5,xe|=Ne.getUTCDate(),Ae&&(De=de(1,1)+de(ie(Se),4)+Ce,Re+="up"+de(De.length,2)+De),Be&&(Te=de(1,1)+de(ie(Ie),4)+Oe,Re+="uc"+de(Te.length,2)+Te);var We="";We+="\n\0",We+=de(je,2),We+=we.magic,We+=de(ke,2),We+=de(xe,2),We+=de(Pe.crc32,4),We+=de(Pe.compressedSize,4),We+=de(Pe.uncompressedSize,4),We+=de(Se.length,2),We+=de(Re.length,2);var Ze=oe.LOCAL_FILE_HEADER+We+Se+Re,Me=oe.CENTRAL_FILE_HEADER+de(Ue,2)+We+de(Ie.length,2)+"\0\0\0\0"+de(Le,4)+de(ge,4)+Se+Re+Ie;return{fileRecord:Ze,dirRecord:Me}},ue=function(me,_e,fe,ge,be){var ye="",ke=ae.transformTo("string",be(ge));return ye=oe.CENTRAL_DIRECTORY_END+"\0\0\0\0"+de(me,2)+de(me,2)+de(_e,4)+de(fe,4)+de(ke.length,2)+ke},he=function(me){var _e="";return _e=oe.DATA_DESCRIPTOR+de(me.crc32,4)+de(me.compressedSize,4)+de(me.uncompressedSize,4)};ae.inherits(d,ne),d.prototype.push=function(me){var _e=me.meta.percent||0,fe=this.entriesCount,ge=this._sources.length;this.accumulate?this.contentBuffer.push(me):(this.bytesWritten+=me.data.length,ne.prototype.push.call(this,{data:me.data,meta:{currentFile:this.currentFile,percent:fe?(_e+100*(fe-ge-1))/fe:100}}))},d.prototype.openedSource=function(me){this.currentSourceOffset=this.bytesWritten,this.currentFile=me.file.name;var _e=this.streamFiles&&!me.file.dir;if(_e){var fe=pe(me,_e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:fe.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(me){this.accumulate=!1;var _e=this.streamFiles&&!me.file.dir,fe=pe(me,_e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(fe.dirRecord),_e)this.push({data:he(me),meta:{percent:100}});else for(this.push({data:fe.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var me=this.bytesWritten,_e=0;_e<this.dirRecords.length;_e++)this.push({data:this.dirRecords[_e],meta:{percent:100}});var fe=this.bytesWritten-me,ge=ue(this.dirRecords.length,fe,me,this.zipComment,this.encodeFileName);this.push({data:ge,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(me){this._sources.push(me);var _e=this;return me.on("data",function(fe){_e.processChunk(fe)}),me.on("end",function(){_e.closedSource(_e.previous.streamInfo),_e._sources.length?_e.prepareNextSource():_e.end()}),me.on("error",function(fe){_e.error(fe)}),this},d.prototype.resume=function(){return!!ne.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(me){var _e=this._sources;if(!ne.prototype.error.call(this,me))return!1;for(var fe=0;fe<_e.length;fe++)try{_e[fe].error(me)}catch(ge){}return!0},d.prototype.lock=function(){ne.prototype.lock.call(this);for(var me=this._sources,_e=0;_e<me.length;_e++)me[_e].lock()},te.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ee,te,re){"use strict";var ae=ee("../compressions"),ne=ee("./ZipFileWorker"),se=function(ie,oe){var de=ie||oe,le=ae[de];if(!le)throw new Error(de+" is not a valid compression method !");return le};re.generateWorker=function(ie,oe,de){var le=new ne(oe.streamFiles,de,oe.platform,oe.encodeFileName),ce=0;try{ie.forEach(function(pe,ue){ce++;var he=se(ue.options.compression,oe.compression),me=ue.options.compressionOptions||oe.compressionOptions||{},_e=ue.dir,fe=ue.date;ue._compressWorker(he,me).withStreamInfo("file",{name:pe,dir:_e,date:fe,comment:ue.comment||"",unixPermissions:ue.unixPermissions,dosPermissions:ue.dosPermissions}).pipe(le)}),le.entriesCount=ce}catch(pe){le.error(pe)}return le}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ee,te){"use strict";function d(){if(!(this instanceof d))return new d;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var ae=new d;for(var ne in this)"function"!=typeof this[ne]&&(ae[ne]=this[ne]);return ae}}d.prototype=ee("./object"),d.prototype.loadAsync=ee("./load"),d.support=ee("./support"),d.defaults=ee("./defaults"),d.version="3.1.3",d.loadAsync=function(ae,ne){return new d().loadAsync(ae,ne)},d.external=ee("./external"),te.exports=d},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ee,te){"use strict";function d(le){return new ne.Promise(function(ce,pe){var ue=le.decompressed.getContentWorker().pipe(new oe);ue.on("error",function(he){pe(he)}).on("end",function(){ue.streamInfo.crc32===le.decompressed.crc32?ce():pe(new Error("Corrupted zip : CRC32 mismatch"))}).resume()})}var ae=ee("./utils"),ne=ee("./external"),se=ee("./utf8"),ae=ee("./utils"),ie=ee("./zipEntries"),oe=ee("./stream/Crc32Probe"),de=ee("./nodejsUtils");te.exports=function(le,ce){var pe=this;return ce=ae.extend(ce||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:se.utf8decode}),de.isNode&&de.isStream(le)?ne.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ae.prepareContent("the loaded zip file",le,!0,ce.optimizedBinaryString,ce.base64).then(function(ue){var he=new ie(ce);return he.load(ue),he}).then(function(ue){var he=[ne.Promise.resolve(ue)],me=ue.files;if(ce.checkCRC32)for(var _e=0;_e<me.length;_e++)he.push(d(me[_e]));return ne.Promise.all(he)}).then(function(ue){for(var fe,he=ue.shift(),me=he.files,_e=0;_e<me.length;_e++)fe=me[_e],pe.file(fe.fileNameStr,fe.decompressed,{binary:!0,optimizedBinaryString:!0,date:fe.date,dir:fe.dir,comment:fe.fileCommentStr.length?fe.fileCommentStr:null,unixPermissions:fe.unixPermissions,dosPermissions:fe.dosPermissions,createFolders:ce.createFolders});return he.zipComment.length&&(pe.comment=he.zipComment),pe})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ee,te){"use strict";function d(se,ie){ne.call(this,"Nodejs stream input adapter for "+se),this._upstreamEnded=!1,this._bindStream(ie)}var ae=ee("../utils"),ne=ee("../stream/GenericWorker");ae.inherits(d,ne),d.prototype._bindStream=function(se){var ie=this;this._stream=se,se.pause(),se.on("data",function(oe){ie.push({data:oe,meta:{percent:0}})}).on("error",function(oe){ie.isPaused?this.generatedError=oe:ie.error(oe)}).on("end",function(){ie.isPaused?ie._upstreamEnded=!0:ie.end()})},d.prototype.pause=function(){return!!ne.prototype.pause.call(this)&&(this._stream.pause(),!0)},d.prototype.resume=function(){return!!ne.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},te.exports=d},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ee,te){"use strict";function d(se,ie,oe){ae.call(this,ie),this._helper=se;var de=this;se.on("data",function(le,ce){de.push(le)||de._helper.pause(),oe&&oe(ce)}).on("error",function(le){de.emit("error",le)}).on("end",function(){de.push(null)})}var ae=ee("readable-stream").Readable,ne=ee("util");ne.inherits(d,ae),d.prototype._read=function(){this._helper.resume()},te.exports=d},{"readable-stream":16,util:void 0}],14:[function(ee,te){"use strict";te.exports={isNode:"undefined"!=typeof Buffer,newBuffer:function(ae,ne){return new Buffer(ae,ne)},isBuffer:function(ae){return Buffer.isBuffer(ae)},isStream:function(ae){return ae&&"function"==typeof ae.on&&"function"==typeof ae.pause&&"function"==typeof ae.resume}}},{}],15:[function(ee,te){"use strict";function d(be){return"[object RegExp]"===Object.prototype.toString.call(be)}var ae=ee("./utf8"),ne=ee("./utils"),se=ee("./stream/GenericWorker"),ie=ee("./stream/StreamHelper"),oe=ee("./defaults"),de=ee("./compressedObject"),le=ee("./zipObject"),ce=ee("./generate"),pe=ee("./nodejsUtils"),ue=ee("./nodejs/NodejsStreamInputAdapter"),he=function(be,ye,ke){var xe,ve=ne.getTypeOf(ye),we=ne.extend(ke||{},oe);we.date=we.date||new Date,null!==we.compression&&(we.compression=we.compression.toUpperCase()),"string"==typeof we.unixPermissions&&(we.unixPermissions=parseInt(we.unixPermissions,8)),we.unixPermissions&&16384&we.unixPermissions&&(we.dir=!0),we.dosPermissions&&16&we.dosPermissions&&(we.dir=!0),we.dir&&(be=_e(be)),we.createFolders&&(xe=me(be))&&fe.call(this,xe,!0);var ze="string"===ve&&!1===we.binary&&!1===we.base64;ke&&"undefined"!=typeof ke.binary||(we.binary=!ze);var Se=ye instanceof de&&0===ye.uncompressedSize;(Se||we.dir||!ye||0===ye.length)&&(we.base64=!1,we.binary=!0,ye="",we.compression="STORE",ve="string");var Ce=null;Ce=ye instanceof de||ye instanceof se?ye:pe.isNode&&pe.isStream(ye)?new ue(be,ye):ne.prepareContent(be,ye,we.binary,we.optimizedBinaryString,we.base64);var Ee=new le(be,Ce,we);this.files[be]=Ee},me=function(be){"/"===be.slice(-1)&&(be=be.substring(0,be.length-1));var ye=be.lastIndexOf("/");return 0<ye?be.substring(0,ye):""},_e=function(be){return"/"!==be.slice(-1)&&(be+="/"),be},fe=function(be,ye){return ye="undefined"==typeof ye?oe.createFolders:ye,be=_e(be),this.files[be]||he.call(this,be,null,{dir:!0,createFolders:ye}),this.files[be]};te.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(be){var ye,ke,xe;for(ye in this.files)this.files.hasOwnProperty(ye)&&(xe=this.files[ye],ke=ye.slice(this.root.length,ye.length),ke&&ye.slice(0,this.root.length)===this.root&&be(ke,xe))},filter:function(be){var ye=[];return this.forEach(function(ke,xe){be(ke,xe)&&ye.push(xe)}),ye},file:function(be,ye,ke){if(1===arguments.length){if(d(be)){var xe=be;return this.filter(function(we,ze){return!ze.dir&&xe.test(we)})}var ve=this.files[this.root+be];return ve&&!ve.dir?ve:null}return be=this.root+be,he.call(this,be,ye,ke),this},folder:function(be){if(!be)return this;if(d(be))return this.filter(function(ve,we){return we.dir&&be.test(ve)});var ye=this.root+be,ke=fe.call(this,ye),xe=this.clone();return xe.root=ke.name,xe},remove:function(be){be=this.root+be;var ye=this.files[be];if(ye||("/"!==be.slice(-1)&&(be+="/"),ye=this.files[be]),ye&&!ye.dir)delete this.files[be];else for(var ke=this.filter(function(ve,we){return we.name.slice(0,be.length)===be}),xe=0;xe<ke.length;xe++)delete this.files[ke[xe].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(be){var ye,ke={};try{if(ke=ne.extend(be||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:ae.utf8encode}),ke.type=ke.type.toLowerCase(),ke.compression=ke.compression.toUpperCase(),"binarystring"===ke.type&&(ke.type="string"),!ke.type)throw new Error("No output type specified.");ne.checkSupport(ke.type),"darwin"!==ke.platform&&"freebsd"!==ke.platform&&"linux"!==ke.platform&&"sunos"!==ke.platform||(ke.platform="UNIX"),"win32"===ke.platform&&(ke.platform="DOS");var xe=ke.comment||this.comment||"";ye=ce.generateWorker(this,ke,xe)}catch(ve){ye=new se("error"),ye.error(ve)}return new ie(ye,ke.type||"string",ke.mimeType)},generateAsync:function(be,ye){return this.generateInternalStream(be).accumulate(ye)},generateNodeStream:function(be,ye){return be=be||{},be.type||(be.type="nodebuffer"),this.generateInternalStream(be).toNodejsStream(ye)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ee,te){te.exports=ee("stream")},{stream:void 0}],17:[function(ee,te){"use strict";function d(se){ae.call(this,se);for(var ie=0;ie<this.data.length;ie++)se[ie]=255&se[ie]}var ae=ee("./DataReader"),ne=ee("../utils");ne.inherits(d,ae),d.prototype.byteAt=function(se){return this.data[this.zero+se]},d.prototype.lastIndexOfSignature=function(se){for(var ie=se.charCodeAt(0),oe=se.charCodeAt(1),de=se.charCodeAt(2),le=se.charCodeAt(3),ce=this.length-4;0<=ce;--ce)if(this.data[ce]===ie&&this.data[ce+1]===oe&&this.data[ce+2]===de&&this.data[ce+3]===le)return ce-this.zero;return-1},d.prototype.readAndCheckSignature=function(se){var ie=se.charCodeAt(0),oe=se.charCodeAt(1),de=se.charCodeAt(2),le=se.charCodeAt(3),ce=this.readData(4);return ie===ce[0]&&oe===ce[1]&&de===ce[2]&&le===ce[3]},d.prototype.readData=function(se){if(this.checkOffset(se),0===se)return[];var ie=this.data.slice(this.zero+this.index,this.zero+this.index+se);return this.index+=se,ie},te.exports=d},{"../utils":32,"./DataReader":18}],18:[function(ee,te){"use strict";function d(ne){this.data=ne,this.length=ne.length,this.index=0,this.zero=0}var ae=ee("../utils");d.prototype={checkOffset:function(ne){this.checkIndex(this.index+ne)},checkIndex:function(ne){if(this.length<this.zero+ne||0>ne)throw new Error("End of data reached (data length = "+this.length+", asked index = "+ne+"). Corrupted zip ?")},setIndex:function(ne){this.checkIndex(ne),this.index=ne},skip:function(ne){this.setIndex(this.index+ne)},byteAt:function(){},readInt:function(ne){var se,ie=0;for(this.checkOffset(ne),se=this.index+ne-1;se>=this.index;se--)ie=(ie<<8)+this.byteAt(se);return this.index+=ne,ie},readString:function(ne){return ae.transformTo("string",this.readData(ne))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var ne=this.readInt(4);return new Date(Date.UTC((127&ne>>25)+1980,(15&ne>>21)-1,31&ne>>16,31&ne>>11,63&ne>>5,(31&ne)<<1))}},te.exports=d},{"../utils":32}],19:[function(ee,te){"use strict";function d(se){ae.call(this,se)}var ae=ee("./Uint8ArrayReader"),ne=ee("../utils");ne.inherits(d,ae),d.prototype.readData=function(se){this.checkOffset(se);var ie=this.data.slice(this.zero+this.index,this.zero+this.index+se);return this.index+=se,ie},te.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ee,te){"use strict";function d(se){ae.call(this,se)}var ae=ee("./DataReader"),ne=ee("../utils");ne.inherits(d,ae),d.prototype.byteAt=function(se){return this.data.charCodeAt(this.zero+se)},d.prototype.lastIndexOfSignature=function(se){return this.data.lastIndexOf(se)-this.zero},d.prototype.readAndCheckSignature=function(se){var ie=this.readData(4);return se===ie},d.prototype.readData=function(se){this.checkOffset(se);var ie=this.data.slice(this.zero+this.index,this.zero+this.index+se);return this.index+=se,ie},te.exports=d},{"../utils":32,"./DataReader":18}],21:[function(ee,te){"use strict";function d(se){ae.call(this,se)}var ae=ee("./ArrayReader"),ne=ee("../utils");ne.inherits(d,ae),d.prototype.readData=function(se){if(this.checkOffset(se),0===se)return new Uint8Array(0);var ie=this.data.subarray(this.zero+this.index,this.zero+this.index+se);return this.index+=se,ie},te.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(ee,te){"use strict";var ae=ee("../utils"),ne=ee("../support"),se=ee("./ArrayReader"),ie=ee("./StringReader"),oe=ee("./NodeBufferReader"),de=ee("./Uint8ArrayReader");te.exports=function(le){var ce=ae.getTypeOf(le);return ae.checkSupport(ce),"string"!==ce||ne.uint8array?"nodebuffer"===ce?new oe(le):ne.uint8array?new de(ae.transformTo("uint8array",le)):new se(ae.transformTo("array",le)):new ie(le)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ee,te,re){"use strict";re.LOCAL_FILE_HEADER="PK\x03\x04",re.CENTRAL_FILE_HEADER="PK\x01\x02",re.CENTRAL_DIRECTORY_END="PK\x05\x06",re.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",re.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",re.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ee,te){"use strict";function d(se){ae.call(this,"ConvertWorker to "+se),this.destType=se}var ae=ee("./GenericWorker"),ne=ee("../utils");ne.inherits(d,ae),d.prototype.processChunk=function(se){this.push({data:ne.transformTo(this.destType,se.data),meta:se.meta})},te.exports=d},{"../utils":32,"./GenericWorker":28}],25:[function(ee,te){"use strict";function d(){ae.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var ae=ee("./GenericWorker"),ne=ee("../crc32"),se=ee("../utils");se.inherits(d,ae),d.prototype.processChunk=function(ie){this.streamInfo.crc32=ne(ie.data,this.streamInfo.crc32||0),this.push(ie)},te.exports=d},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ee,te){"use strict";function d(se){ne.call(this,"DataLengthProbe for "+se),this.propName=se,this.withStreamInfo(se,0)}var ae=ee("../utils"),ne=ee("./GenericWorker");ae.inherits(d,ne),d.prototype.processChunk=function(se){if(se){var ie=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ie+se.data.length}ne.prototype.processChunk.call(this,se)},te.exports=d},{"../utils":32,"./GenericWorker":28}],27:[function(ee,te){"use strict";function d(ie){ne.call(this,"DataWorker");var oe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,ie.then(function(de){oe.dataIsReady=!0,oe.data=de,oe.max=de&&de.length||0,oe.type=ae.getTypeOf(de),oe.isPaused||oe._tickAndRepeat()},function(de){oe.error(de)})}var ae=ee("../utils"),ne=ee("./GenericWorker");ae.inherits(d,ne),d.prototype.cleanUp=function(){ne.prototype.cleanUp.call(this),this.data=null},d.prototype.resume=function(){return!!ne.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ae.delay(this._tickAndRepeat,[],this)),!0)},d.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(ae.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},d.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var oe=null,de=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":oe=this.data.substring(this.index,de);break;case"uint8array":oe=this.data.subarray(this.index,de);break;case"array":case"nodebuffer":oe=this.data.slice(this.index,de);}return this.index=de,this.push({data:oe,meta:{percent:this.max?100*(this.index/this.max):0}})},te.exports=d},{"../utils":32,"./GenericWorker":28}],28:[function(ee,te){"use strict";function d(ae){this.name=ae||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}d.prototype={push:function(ae){this.emit("data",ae)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(ae){this.emit("error",ae)}return!0},error:function(ae){return!this.isFinished&&(this.isPaused?this.generatedError=ae:(this.isFinished=!0,this.emit("error",ae),this.previous&&this.previous.error(ae),this.cleanUp()),!0)},on:function(ae,ne){return this._listeners[ae].push(ne),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(ae,ne){if(this._listeners[ae])for(var se=0;se<this._listeners[ae].length;se++)this._listeners[ae][se].call(this,ne)},pipe:function(ae){return ae.registerPrevious(this)},registerPrevious:function(ae){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=ae.streamInfo,this.mergeStreamInfo(),this.previous=ae;var ne=this;return ae.on("data",function(se){ne.processChunk(se)}),ae.on("end",function(){ne.end()}),ae.on("error",function(se){ne.error(se)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var ae=!1;return this.generatedError&&(this.error(this.generatedError),ae=!0),this.previous&&this.previous.resume(),!ae},flush:function(){},processChunk:function(ae){this.push(ae)},withStreamInfo:function(ae,ne){return this.extraStreamInfo[ae]=ne,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var ae in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(ae)&&(this.streamInfo[ae]=this.extraStreamInfo[ae])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var ae="Worker "+this.name;return this.previous?this.previous+" -> "+ae:ae}},te.exports=d},{}],29:[function(ee,te){"use strict";function d(ce,pe,ue,he){var me=null;return"blob"===ce?ae.newBlob(ue,he):"base64"===ce?(me=e(pe,ue),ie.encode(me)):(me=e(pe,ue),ae.transformTo(ce,me))}function e(ce,pe){var ue,he=0,me=null,_e=0;for(ue=0;ue<pe.length;ue++)_e+=pe[ue].length;switch(ce){case"string":return pe.join("");case"array":return Array.prototype.concat.apply([],pe);case"uint8array":for(me=new Uint8Array(_e),ue=0;ue<pe.length;ue++)me.set(pe[ue],he),he+=pe[ue].length;return me;case"nodebuffer":return Buffer.concat(pe);default:throw new Error("concat : unsupported type '"+ce+"'");}}function f(ce,pe){return new de.Promise(function(ue,he){var me=[],_e=ce._internalType,fe=ce._outputType,ge=ce._mimeType;ce.on("data",function(be,ye){me.push(be),pe&&pe(ye)}).on("error",function(be){me=[],he(be)}).on("end",function(){try{var be=d(fe,_e,me,ge);ue(be)}catch(ye){he(ye)}me=[]}).resume()})}function g(ce,pe,ue){var he=pe;"blob"===pe?he="arraybuffer":"arraybuffer"===pe?he="uint8array":"base64"===pe?he="string":void 0;try{this._internalType=he,this._outputType=pe,this._mimeType=ue,ae.checkSupport(he),this._worker=ce.pipe(new ne(he)),ce.lock()}catch(me){this._worker=new se("error"),this._worker.error(me)}}var ae=ee("../utils"),ne=ee("./ConvertWorker"),se=ee("./GenericWorker"),ie=ee("../base64"),oe=ee("../support"),de=ee("../external"),le=null;if(oe.nodestream)try{le=ee("../nodejs/NodejsStreamOutputAdapter")}catch(ce){}g.prototype={accumulate:function(ce){return f(this,ce)},on:function(ce,pe){var ue=this;return"data"===ce?this._worker.on(ce,function(he){pe.call(ue,he.data,he.meta)}):this._worker.on(ce,function(){ae.delay(pe,arguments,ue)}),this},resume:function(){return ae.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ce){if(ae.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new le(this,{objectMode:"nodebuffer"!==this._outputType},ce)}},te.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ee,te,re){"use strict";if(re.base64=!0,re.array=!0,re.string=!0,re.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,re.nodebuffer="undefined"!=typeof Buffer,re.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)re.blob=!1;else{var ae=new ArrayBuffer(0);try{re.blob=0===new Blob([ae],{type:"application/zip"}).size}catch(ie){try{var ne=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,se=new ne;se.append(ae),re.blob=0===se.getBlob("application/zip").size}catch(oe){re.blob=!1}}}try{re.nodestream=!!ee("readable-stream").Readable}catch(ie){re.nodestream=!1}},{"readable-stream":16}],31:[function(ee,te,re){"use strict";function d(){ie.call(this,"utf-8 decode"),this.leftOver=null}function e(){ie.call(this,"utf-8 encode")}for(var ae=ee("./utils"),ne=ee("./support"),se=ee("./nodejsUtils"),ie=ee("./stream/GenericWorker"),oe=Array(256),de=0;256>de;de++)oe[de]=252<=de?6:248<=de?5:240<=de?4:224<=de?3:192<=de?2:1;oe[254]=oe[254]=1;var le=function(ue){var he,me,_e,fe,ge,be=ue.length,ye=0;for(fe=0;fe<be;fe++)me=ue.charCodeAt(fe),55296==(64512&me)&&fe+1<be&&(_e=ue.charCodeAt(fe+1),56320==(64512&_e)&&(me=65536+(me-55296<<10)+(_e-56320),fe++)),ye+=128>me?1:2048>me?2:65536>me?3:4;for(he=ne.uint8array?new Uint8Array(ye):Array(ye),ge=0,fe=0;ge<ye;fe++)me=ue.charCodeAt(fe),55296==(64512&me)&&fe+1<be&&(_e=ue.charCodeAt(fe+1),56320==(64512&_e)&&(me=65536+(me-55296<<10)+(_e-56320),fe++)),128>me?he[ge++]=me:2048>me?(he[ge++]=192|me>>>6,he[ge++]=128|63&me):65536>me?(he[ge++]=224|me>>>12,he[ge++]=128|63&me>>>6,he[ge++]=128|63&me):(he[ge++]=240|me>>>18,he[ge++]=128|63&me>>>12,he[ge++]=128|63&me>>>6,he[ge++]=128|63&me);return he},ce=function(ue,he){var me;for(he=he||ue.length,he>ue.length&&(he=ue.length),me=he-1;0<=me&&128==(192&ue[me]);)me--;return 0>me?he:0===me?he:me+oe[ue[me]]>he?me:he},pe=function(ue){var he,me,_e,fe,ge=ue.length,be=Array(2*ge);for(me=0,he=0;he<ge;)if(_e=ue[he++],128>_e)be[me++]=_e;else if(fe=oe[_e],4<fe)be[me++]=65533,he+=fe-1;else{for(_e&=2===fe?31:3===fe?15:7;1<fe&&he<ge;)_e=_e<<6|63&ue[he++],fe--;1<fe?be[me++]=65533:65536>_e?be[me++]=_e:(_e-=65536,be[me++]=55296|1023&_e>>10,be[me++]=56320|1023&_e)}return be.length!==me&&(be.subarray?be=be.subarray(0,me):be.length=me),ae.applyFromCharCode(be)};re.utf8encode=function(ue){return ne.nodebuffer?se.newBuffer(ue,"utf-8"):le(ue)},re.utf8decode=function(ue){return ne.nodebuffer?ae.transformTo("nodebuffer",ue).toString("utf-8"):(ue=ae.transformTo(ne.uint8array?"uint8array":"array",ue),pe(ue))},ae.inherits(d,ie),d.prototype.processChunk=function(ue){var he=ae.transformTo(ne.uint8array?"uint8array":"array",ue.data);if(this.leftOver&&this.leftOver.length){if(ne.uint8array){var me=he;he=new Uint8Array(me.length+this.leftOver.length),he.set(this.leftOver,0),he.set(me,this.leftOver.length)}else he=this.leftOver.concat(he);this.leftOver=null}var _e=ce(he),fe=he;_e!==he.length&&(ne.uint8array?(fe=he.subarray(0,_e),this.leftOver=he.subarray(_e,he.length)):(fe=he.slice(0,_e),this.leftOver=he.slice(_e,he.length))),this.push({data:re.utf8decode(fe),meta:ue.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:re.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},re.Utf8DecodeWorker=d,ae.inherits(e,ie),e.prototype.processChunk=function(ue){this.push({data:re.utf8encode(ue.data),meta:ue.meta})},re.Utf8EncodeWorker=e},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ee,te,re){"use strict";function d(ce){var pe=null;return pe=ae.uint8array?new Uint8Array(ce.length):Array(ce.length),f(ce,pe)}function e(ce){return ce}function f(ce,pe){for(var ue=0;ue<ce.length;++ue)pe[ue]=255&ce.charCodeAt(ue);return pe}function g(ce){var pe=65536,ue=re.getTypeOf(ce),he=!0;if("uint8array"===ue?he=de.applyCanBeUsed.uint8array:"nodebuffer"===ue&&(he=de.applyCanBeUsed.nodebuffer),he)for(;1<pe;)try{return de.stringifyByChunk(ce,ue,pe)}catch(me){pe=Math.floor(pe/2)}return de.stringifyByChar(ce)}function h(ce,pe){for(var ue=0;ue<ce.length;ue++)pe[ue]=ce[ue];return pe}var ae=ee("./support"),ne=ee("./base64"),se=ee("./nodejsUtils"),ie=ee("core-js/library/fn/set-immediate"),oe=ee("./external");re.newBlob=function(ce,pe){re.checkSupport("blob");try{return new Blob(ce,{type:pe})}catch(_e){try{for(var ue=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,he=new ue,me=0;me<ce.length;me++)he.append(ce[me]);return he.getBlob(pe)}catch(fe){throw new Error("Bug : can't construct the Blob.")}}};var de={stringifyByChunk:function(ce,pe,ue){var he=[],me=0,_e=ce.length;if(_e<=ue)return String.fromCharCode.apply(null,ce);for(;me<_e;)"array"===pe||"nodebuffer"===pe?he.push(String.fromCharCode.apply(null,ce.slice(me,Math.min(me+ue,_e)))):he.push(String.fromCharCode.apply(null,ce.subarray(me,Math.min(me+ue,_e)))),me+=ue;return he.join("")},stringifyByChar:function(ce){for(var pe="",ue=0;ue<ce.length;ue++)pe+=String.fromCharCode(ce[ue]);return pe},applyCanBeUsed:{uint8array:function(){try{return ae.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(ce){return!1}}(),nodebuffer:function(){try{return ae.nodebuffer&&1===String.fromCharCode.apply(null,se.newBuffer(1)).length}catch(ce){return!1}}()}};re.applyFromCharCode=g;var le={};le.string={string:e,array:function(ce){return f(ce,Array(ce.length))},arraybuffer:function(ce){return le.string.uint8array(ce).buffer},uint8array:function(ce){return f(ce,new Uint8Array(ce.length))},nodebuffer:function(ce){return f(ce,se.newBuffer(ce.length))}},le.array={string:g,array:e,arraybuffer:function(ce){return new Uint8Array(ce).buffer},uint8array:function(ce){return new Uint8Array(ce)},nodebuffer:function(ce){return se.newBuffer(ce)}},le.arraybuffer={string:function(ce){return g(new Uint8Array(ce))},array:function(ce){return h(new Uint8Array(ce),Array(ce.byteLength))},arraybuffer:e,uint8array:function(ce){return new Uint8Array(ce)},nodebuffer:function(ce){return se.newBuffer(new Uint8Array(ce))}},le.uint8array={string:g,array:function(ce){return h(ce,Array(ce.length))},arraybuffer:function(ce){var pe=new Uint8Array(ce.length);return ce.length&&pe.set(ce,0),pe.buffer},uint8array:e,nodebuffer:function(ce){return se.newBuffer(ce)}},le.nodebuffer={string:g,array:function(ce){return h(ce,Array(ce.length))},arraybuffer:function(ce){return le.nodebuffer.uint8array(ce).buffer},uint8array:function(ce){return h(ce,new Uint8Array(ce.length))},nodebuffer:e},re.transformTo=function(ce,pe){if(pe||(pe=""),!ce)return pe;re.checkSupport(ce);var ue=re.getTypeOf(pe),he=le[ue][ce](pe);return he},re.getTypeOf=function(ce){return"string"==typeof ce?"string":"[object Array]"===Object.prototype.toString.call(ce)?"array":ae.nodebuffer&&se.isBuffer(ce)?"nodebuffer":ae.uint8array&&ce instanceof Uint8Array?"uint8array":ae.arraybuffer&&ce instanceof ArrayBuffer?"arraybuffer":void 0},re.checkSupport=function(ce){var pe=ae[ce.toLowerCase()];if(!pe)throw new Error(ce+" is not supported by this platform")},re.MAX_VALUE_16BITS=65535,re.MAX_VALUE_32BITS=-1,re.pretty=function(ce){var pe,ue,he="";for(ue=0;ue<(ce||"").length;ue++)pe=ce.charCodeAt(ue),he+="\\x"+(16>pe?"0":"")+pe.toString(16).toUpperCase();return he},re.delay=function(ce,pe,ue){ie(function(){ce.apply(ue||null,pe||[])})},re.inherits=function(ce,pe){var ue=function(){};ue.prototype=pe.prototype,ce.prototype=new ue},re.extend=function(){var ce,pe,ue={};for(ce=0;ce<arguments.length;ce++)for(pe in arguments[ce])arguments[ce].hasOwnProperty(pe)&&"undefined"==typeof ue[pe]&&(ue[pe]=arguments[ce][pe]);return ue},re.prepareContent=function(ce,pe,ue,he,me){var _e=oe.Promise.resolve(pe).then(function(fe){var ge=ae.blob&&(fe instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(fe)));return ge&&"undefined"!=typeof FileReader?new oe.Promise(function(be,ye){var ke=new FileReader;ke.onload=function(xe){be(xe.target.result)},ke.onerror=function(xe){ye(xe.target.error)},ke.readAsArrayBuffer(fe)}):fe});return _e.then(function(fe){var ge=re.getTypeOf(fe);return ge?("arraybuffer"===ge?fe=re.transformTo("uint8array",fe):"string"===ge&&(me?fe=ne.decode(fe):ue&&!0!==he&&(fe=d(fe))),fe):oe.Promise.reject(new Error("The data of '"+ce+"' is in an unsupported format !"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(ee,te){"use strict";function d(de){this.files=[],this.loadOptions=de}var ae=ee("./reader/readerFor"),ne=ee("./utils"),se=ee("./signature"),ie=ee("./zipEntry"),oe=(ee("./utf8"),ee("./support"));d.prototype={checkSignature:function(de){if(!this.reader.readAndCheckSignature(de)){this.reader.index-=4;var le=this.reader.readString(4);throw new Error("Corrupted zip or bug : unexpected signature ("+ne.pretty(le)+", expected "+ne.pretty(de)+")")}},isSignature:function(de,le){var ce=this.reader.index;this.reader.setIndex(de);var pe=this.reader.readString(4);return this.reader.setIndex(ce),pe===le},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var de=this.reader.readData(this.zipCommentLength),le=oe.uint8array?"uint8array":"array",ce=ne.transformTo(le,de);this.zipComment=this.loadOptions.decodeFileName(ce)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var de,le,ce,pe=this.zip64EndOfCentralSize-44;0<pe;)de=this.reader.readInt(2),le=this.reader.readInt(4),ce=this.reader.readData(le),this.zip64ExtensibleData[de]={id:de,length:le,value:ce}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var de,le;for(de=0;de<this.files.length;de++)le=this.files[de],this.reader.setIndex(le.localHeaderOffset),this.checkSignature(se.LOCAL_FILE_HEADER),le.readLocalPart(this.reader),le.handleUTF8(),le.processAttributes()},readCentralDir:function(){var de;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(se.CENTRAL_FILE_HEADER);)de=new ie({zip64:this.zip64},this.loadOptions),de.readCentralPart(this.reader),this.files.push(de);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var de=this.reader.lastIndexOfSignature(se.CENTRAL_DIRECTORY_END);if(0>de){var le=!this.isSignature(0,se.LOCAL_FILE_HEADER);throw le?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(de);var ce=de;if(this.checkSignature(se.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===ne.MAX_VALUE_16BITS||this.diskWithCentralDirStart===ne.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===ne.MAX_VALUE_16BITS||this.centralDirRecords===ne.MAX_VALUE_16BITS||this.centralDirSize===ne.MAX_VALUE_32BITS||this.centralDirOffset===ne.MAX_VALUE_32BITS){if(this.zip64=!0,de=this.reader.lastIndexOfSignature(se.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>de)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(de),this.checkSignature(se.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,se.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(se.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(se.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var pe=this.centralDirOffset+this.centralDirSize;this.zip64&&(pe+=20,pe+=12+this.zip64EndOfCentralSize);var ue=ce-pe;if(0<ue)this.isSignature(ce,se.CENTRAL_FILE_HEADER)||(this.reader.zero=ue);else if(0>ue)throw new Error("Corrupted zip: missing "+Math.abs(ue)+" bytes.")},prepareReader:function(de){this.reader=ae(de)},load:function(de){this.prepareReader(de),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},te.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(ee,te){"use strict";function d(he,me){this.options=he,this.loadOptions=me}var ae=ee("./reader/readerFor"),ne=ee("./utils"),se=ee("./compressedObject"),ie=ee("./crc32"),oe=ee("./utf8"),de=ee("./compressions"),le=ee("./support"),ue=function(he){for(var me in de)if(de.hasOwnProperty(me)&&de[me].magic===he)return de[me];return null};d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(he){var me,_e;if(he.skip(22),this.fileNameLength=he.readInt(2),_e=he.readInt(2),this.fileName=he.readData(this.fileNameLength),he.skip(_e),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(me=ue(this.compressionMethod),null===me)throw new Error("Corrupted zip : compression "+ne.pretty(this.compressionMethod)+" unknown (inner file : "+ne.transformTo("string",this.fileName)+")");this.decompressed=new se(this.compressedSize,this.uncompressedSize,this.crc32,me,he.readData(this.compressedSize))},readCentralPart:function(he){this.versionMadeBy=he.readInt(2),he.skip(2),this.bitFlag=he.readInt(2),this.compressionMethod=he.readString(2),this.date=he.readDate(),this.crc32=he.readInt(4),this.compressedSize=he.readInt(4),this.uncompressedSize=he.readInt(4);var me=he.readInt(2);if(this.extraFieldsLength=he.readInt(2),this.fileCommentLength=he.readInt(2),this.diskNumberStart=he.readInt(2),this.internalFileAttributes=he.readInt(2),this.externalFileAttributes=he.readInt(4),this.localHeaderOffset=he.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");he.skip(me),this.readExtraFields(he),this.parseZIP64ExtraField(he),this.fileComment=he.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var he=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),he==0&&(this.dosPermissions=63&this.externalFileAttributes),he==3&&(this.unixPermissions=65535&this.externalFileAttributes>>16),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var me=ae(this.extraFields[1].value);this.uncompressedSize===ne.MAX_VALUE_32BITS&&(this.uncompressedSize=me.readInt(8)),this.compressedSize===ne.MAX_VALUE_32BITS&&(this.compressedSize=me.readInt(8)),this.localHeaderOffset===ne.MAX_VALUE_32BITS&&(this.localHeaderOffset=me.readInt(8)),this.diskNumberStart===ne.MAX_VALUE_32BITS&&(this.diskNumberStart=me.readInt(4))}},readExtraFields:function(he){var me,_e,fe,ge=he.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});he.index<ge;)me=he.readInt(2),_e=he.readInt(2),fe=he.readData(_e),this.extraFields[me]={id:me,length:_e,value:fe}},handleUTF8:function(){var he=le.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=oe.utf8decode(this.fileName),this.fileCommentStr=oe.utf8decode(this.fileComment);else{var me=this.findExtraFieldUnicodePath();if(null!==me)this.fileNameStr=me;else{var _e=ne.transformTo(he,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_e)}var fe=this.findExtraFieldUnicodeComment();if(null!==fe)this.fileCommentStr=fe;else{var ge=ne.transformTo(he,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(ge)}}},findExtraFieldUnicodePath:function(){var he=this.extraFields[28789];if(he){var me=ae(he.value);return 1===me.readInt(1)?ie(this.fileName)===me.readInt(4)?oe.utf8decode(me.readData(he.length-5)):null:null}return null},findExtraFieldUnicodeComment:function(){var he=this.extraFields[25461];if(he){var me=ae(he.value);return 1===me.readInt(1)?ie(this.fileComment)===me.readInt(4)?oe.utf8decode(me.readData(he.length-5)):null:null}return null}},te.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ee,te){"use strict";var ae=ee("./stream/StreamHelper"),ne=ee("./stream/DataWorker"),se=ee("./utf8"),ie=ee("./compressedObject"),oe=ee("./stream/GenericWorker"),de=function(ue,he,me){this.name=ue,this.dir=me.dir,this.date=me.date,this.comment=me.comment,this.unixPermissions=me.unixPermissions,this.dosPermissions=me.dosPermissions,this._data=he,this._dataBinary=me.binary,this.options={compression:me.compression,compressionOptions:me.compressionOptions}};de.prototype={internalStream:function(ue){var he=ue.toLowerCase(),me="string"===he||"text"===he;"binarystring"!==he&&"text"!==he||(he="string");var _e=this._decompressWorker(),fe=!this._dataBinary;return fe&&!me&&(_e=_e.pipe(new se.Utf8EncodeWorker)),!fe&&me&&(_e=_e.pipe(new se.Utf8DecodeWorker)),new ae(_e,he,"")},async:function(ue,he){return this.internalStream(ue).accumulate(he)},nodeStream:function(ue,he){return this.internalStream(ue||"nodebuffer").toNodejsStream(he)},_compressWorker:function(ue,he){if(this._data instanceof ie&&this._data.compression.magic===ue.magic)return this._data.getCompressedWorker();var me=this._decompressWorker();return this._dataBinary||(me=me.pipe(new se.Utf8EncodeWorker)),ie.createWorkerFrom(me,ue,he)},_decompressWorker:function(){return this._data instanceof ie?this._data.getContentWorker():this._data instanceof oe?this._data:new ne(this._data)}};for(var le=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ce=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},pe=0;pe<le.length;pe++)de.prototype[le[pe]]=ce;te.exports=de},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ee,te){ee("../modules/web.immediate"),te.exports=ee("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(ee,te){te.exports=function(ae){if("function"!=typeof ae)throw TypeError(ae+" is not a function!");return ae}},{}],38:[function(ee,te){var ae=ee("./_is-object");te.exports=function(ne){if(!ae(ne))throw TypeError(ne+" is not an object!");return ne}},{"./_is-object":51}],39:[function(ee,te){var ae={}.toString;te.exports=function(ne){return ae.call(ne).slice(8,-1)}},{}],40:[function(ee,te){var ae=te.exports={version:"2.3.0"};"number"==typeof __e&&(__e=ae)},{}],41:[function(ee,te){var ae=ee("./_a-function");te.exports=function(ne,se,ie){if(ae(ne),void 0===se)return ne;return 1===ie?function(oe){return ne.call(se,oe)}:2===ie?function(oe,de){return ne.call(se,oe,de)}:3===ie?function(oe,de,le){return ne.call(se,oe,de,le)}:function(){return ne.apply(se,arguments)}}},{"./_a-function":37}],42:[function(ee,te){te.exports=!ee("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(ee,te){var ae=ee("./_is-object"),ne=ee("./_global").document,se=ae(ne)&&ae(ne.createElement);te.exports=function(ie){return se?ne.createElement(ie):{}}},{"./_global":46,"./_is-object":51}],44:[function(ee,te){var ae=ee("./_global"),ne=ee("./_core"),se=ee("./_ctx"),ie=ee("./_hide"),oe="prototype",de=function(le,ce,pe){var ue,he,me,_e=le&de.F,fe=le&de.G,ge=le&de.S,be=le&de.P,ye=le&de.B,ke=le&de.W,xe=fe?ne:ne[ce]||(ne[ce]={}),ve=xe[oe],we=fe?ae:ge?ae[ce]:(ae[ce]||{})[oe];for(ue in fe&&(pe=ce),pe)he=!_e&&we&&void 0!==we[ue],he&&ue in xe||(me=he?we[ue]:pe[ue],xe[ue]=fe&&"function"!=typeof we[ue]?pe[ue]:ye&&he?se(me,ae):ke&&we[ue]==me?function(ze){var Se=function(Ce,Ee,Ie){if(this instanceof ze){switch(arguments.length){case 0:return new ze;case 1:return new ze(Ce);case 2:return new ze(Ce,Ee);}return new ze(Ce,Ee,Ie)}return ze.apply(this,arguments)};return Se[oe]=ze[oe],Se}(me):be&&"function"==typeof me?se(Function.call,me):me,be&&((xe.virtual||(xe.virtual={}))[ue]=me,le&de.R&&ve&&!ve[ue]&&ie(ve,ue,me)))};de.F=1,de.G=2,de.S=4,de.P=8,de.B=16,de.W=32,de.U=64,de.R=128,te.exports=de},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(ee,te){te.exports=function(ae){try{return!!ae()}catch(ne){return!0}}},{}],46:[function(ee,te){var ae=te.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=ae)},{}],47:[function(ee,te){var ae=ee("./_object-dp"),ne=ee("./_property-desc");te.exports=ee("./_descriptors")?function(se,ie,oe){return ae.f(se,ie,ne(1,oe))}:function(se,ie,oe){return se[ie]=oe,se}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(ee,te){te.exports=ee("./_global").document&&document.documentElement},{"./_global":46}],49:[function(ee,te){te.exports=!ee("./_descriptors")&&!ee("./_fails")(function(){return 7!=Object.defineProperty(ee("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(ee,te){te.exports=function(ae,ne,se){var ie=void 0===se;switch(ne.length){case 0:return ie?ae():ae.call(se);case 1:return ie?ae(ne[0]):ae.call(se,ne[0]);case 2:return ie?ae(ne[0],ne[1]):ae.call(se,ne[0],ne[1]);case 3:return ie?ae(ne[0],ne[1],ne[2]):ae.call(se,ne[0],ne[1],ne[2]);case 4:return ie?ae(ne[0],ne[1],ne[2],ne[3]):ae.call(se,ne[0],ne[1],ne[2],ne[3]);}return ae.apply(se,ne)}},{}],51:[function(ee,te){te.exports=function(ae){return"object"==typeof ae?null!==ae:"function"==typeof ae}},{}],52:[function(ee,te,re){var ae=ee("./_an-object"),ne=ee("./_ie8-dom-define"),se=ee("./_to-primitive"),ie=Object.defineProperty;re.f=ee("./_descriptors")?Object.defineProperty:function(oe,de,le){if(ae(oe),de=se(de,!0),ae(le),ne)try{return ie(oe,de,le)}catch(ce){}if("get"in le||"set"in le)throw TypeError("Accessors not supported!");return"value"in le&&(oe[de]=le.value),oe}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(ee,te){te.exports=function(ae,ne){return{enumerable:!(1&ae),configurable:!(2&ae),writable:!(4&ae),value:ne}}},{}],54:[function(ee,te){var ae,ne,se,ie=ee("./_ctx"),oe=ee("./_invoke"),de=ee("./_html"),le=ee("./_dom-create"),ce=ee("./_global"),pe=ce.process,ue=ce.setImmediate,he=ce.clearImmediate,me=ce.MessageChannel,_e=0,fe={},ge="onreadystatechange",be=function(){var ke=+this;if(fe.hasOwnProperty(ke)){var xe=fe[ke];delete fe[ke],xe()}},ye=function(ke){be.call(ke.data)};ue&&he||(ue=function(ke){for(var xe=[],ve=1;arguments.length>ve;)xe.push(arguments[ve++]);return fe[++_e]=function(){oe("function"==typeof ke?ke:Function(ke),xe)},ae(_e),_e},he=function(ke){delete fe[ke]},"process"==ee("./_cof")(pe)?ae=function(ke){pe.nextTick(ie(be,ke,1))}:me?(ne=new me,se=ne.port2,ne.port1.onmessage=ye,ae=ie(se.postMessage,se,1)):ce.addEventListener&&"function"==typeof postMessage&&!ce.importScripts?(ae=function(ke){ce.postMessage(ke+"","*")},ce.addEventListener("message",ye,!1)):ae=ge in le("script")?function(ke){de.appendChild(le("script"))[ge]=function(){de.removeChild(this),be.call(ke)}}:function(ke){setTimeout(ie(be,ke,1),0)}),te.exports={set:ue,clear:he}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(ee,te){var ae=ee("./_is-object");te.exports=function(ne,se){if(!ae(ne))return ne;var ie,oe;if(se&&"function"==typeof(ie=ne.toString)&&!ae(oe=ie.call(ne)))return oe;if("function"==typeof(ie=ne.valueOf)&&!ae(oe=ie.call(ne)))return oe;if(!se&&"function"==typeof(ie=ne.toString)&&!ae(oe=ie.call(ne)))return oe;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(ee){var ae=ee("./_export"),ne=ee("./_task");ae(ae.G+ae.B,{setImmediate:ne.set,clearImmediate:ne.clear})},{"./_export":44,"./_task":54}],57:[function(ee,te){(function(ae){"use strict";function c(){ce=!0;for(var ue,he,me=pe.length;me;){for(he=pe,pe=[],ue=-1;++ue<me;)he[ue]();me=pe.length}ce=!1}var ne,se=ae.MutationObserver||ae.WebKitMutationObserver;if(se){var ie=0,oe=new se(c),de=ae.document.createTextNode("");oe.observe(de,{characterData:!0}),ne=function(){de.data=ie=++ie%2}}else if(ae.setImmediate||"undefined"==typeof ae.MessageChannel)ne="document"in ae&&"onreadystatechange"in ae.document.createElement("script")?function(){var ue=ae.document.createElement("script");ue.onreadystatechange=function(){c(),ue.onreadystatechange=null,ue.parentNode.removeChild(ue),ue=null},ae.document.documentElement.appendChild(ue)}:function(){setTimeout(c,0)};else{var le=new ae.MessageChannel;le.port1.onmessage=c,ne=function(){le.port2.postMessage(0)}}var ce,pe=[];te.exports=function(ue){1!==pe.push(ue)||ce||ne()}}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],58:[function(ee,te){"use strict";function d(){}function e(de){if("function"!=typeof de)throw new TypeError("resolver must be a function");this.state=oe,this.queue=[],this.outcome=void 0,de!==d&&i(this,de)}function f(de,le,ce){this.promise=de,"function"==typeof le&&(this.onFulfilled=le,this.callFulfilled=this.otherCallFulfilled),"function"==typeof ce&&(this.onRejected=ce,this.callRejected=this.otherCallRejected)}function g(de,le,ce){ae(function(){var pe;try{pe=le(ce)}catch(ue){return ne.reject(de,ue)}pe===de?ne.reject(de,new TypeError("Cannot resolve promise with itself")):ne.resolve(de,pe)})}function h(de){var le=de&&de.then;if(de&&"object"==typeof de&&"function"==typeof le)return function(){le.apply(de,arguments)}}function i(de,le){function c(ue){ce||(ce=!0,ne.reject(de,ue))}function d(ue){ce||(ce=!0,ne.resolve(de,ue))}var ce=!1,pe=j(function(){le(d,c)});"error"===pe.status&&c(pe.value)}function j(de,le){var ce={};try{ce.value=de(le),ce.status="success"}catch(pe){ce.status="error",ce.value=pe}return ce}var ae=ee("immediate"),ne={},se=["REJECTED"],ie=["FULFILLED"],oe=["PENDING"];te.exports=e,e.prototype["catch"]=function(de){return this.then(null,de)},e.prototype.then=function(de,le){if("function"!=typeof de&&this.state===ie||"function"!=typeof le&&this.state===se)return this;var ce=new this.constructor(d);if(this.state!==oe){var pe=this.state===ie?de:le;g(ce,pe,this.outcome)}else this.queue.push(new f(ce,de,le));return ce},f.prototype.callFulfilled=function(de){ne.resolve(this.promise,de)},f.prototype.otherCallFulfilled=function(de){g(this.promise,this.onFulfilled,de)},f.prototype.callRejected=function(de){ne.reject(this.promise,de)},f.prototype.otherCallRejected=function(de){g(this.promise,this.onRejected,de)},ne.resolve=function(de,le){var ce=j(h,le);if("error"===ce.status)return ne.reject(de,ce.value);var pe=ce.value;if(pe)i(de,pe);else{de.state=ie,de.outcome=le;for(var ue=-1,he=de.queue.length;++ue<he;)de.queue[ue].callFulfilled(le)}return de},ne.reject=function(de,le){de.state=se,de.outcome=le;for(var ce=-1,pe=de.queue.length;++ce<pe;)de.queue[ce].callRejected(le);return de},e.resolve=function(de){return de instanceof this?de:ne.resolve(new this(d),de)},e.reject=function(de){var le=new this(d);return ne.reject(le,de)},e.all=function(de){function b(fe,ge){le.resolve(fe).then(function(be){ue[ge]=be,++he!==ce||pe||(pe=!0,ne.resolve(_e,ue))},function(be){pe||(pe=!0,ne.reject(_e,be))})}var le=this;if("[object Array]"!==Object.prototype.toString.call(de))return this.reject(new TypeError("must be an array"));var ce=de.length,pe=!1;if(!ce)return this.resolve([]);for(var ue=Array(ce),he=0,me=-1,_e=new this(d);++me<ce;)b(de[me],me);return _e},e.race=function(de){function b(me){le.resolve(me).then(function(_e){pe||(pe=!0,ne.resolve(he,_e))},function(_e){pe||(pe=!0,ne.reject(he,_e))})}var le=this;if("[object Array]"!==Object.prototype.toString.call(de))return this.reject(new TypeError("must be an array"));var ce=de.length,pe=!1;if(!ce)return this.resolve([]);for(var ue=-1,he=new this(d);++ue<ce;)b(de[ue]);return he}},{immediate:57}],59:[function(ee,te){"use strict";var ae=ee("./lib/utils/common").assign,ne=ee("./lib/deflate"),se=ee("./lib/inflate"),ie=ee("./lib/zlib/constants"),oe={};ae(oe,ne,se,ie),te.exports=oe},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(ee,te,re){"use strict";function d(ge){if(!(this instanceof d))return new d(ge);this.options=ne.assign({level:me,method:fe,chunkSize:16384,windowBits:15,memLevel:8,strategy:_e,to:""},ge||{});var be=this.options;be.raw&&0<be.windowBits?be.windowBits=-be.windowBits:be.gzip&&0<be.windowBits&&16>be.windowBits&&(be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oe,this.strm.avail_out=0;var ye=ae.deflateInit2(this.strm,be.level,be.method,be.windowBits,be.memLevel,be.strategy);if(ye!==pe)throw new Error(ie[ye]);if(be.header&&ae.deflateSetHeader(this.strm,be.header),be.dictionary){var ke;if(ke="string"==typeof be.dictionary?se.string2buf(be.dictionary):"[object ArrayBuffer]"===de.call(be.dictionary)?new Uint8Array(be.dictionary):be.dictionary,ye=ae.deflateSetDictionary(this.strm,ke),ye!==pe)throw new Error(ie[ye]);this._dict_set=!0}}function e(ge,be){var ye=new d(be);if(ye.push(ge,!0),ye.err)throw ye.msg;return ye.result}var ae=ee("./zlib/deflate"),ne=ee("./utils/common"),se=ee("./utils/strings"),ie=ee("./zlib/messages"),oe=ee("./zlib/zstream"),de=Object.prototype.toString,ce=4,pe=0,ue=1,he=2,me=-1,_e=0,fe=8;d.prototype.push=function(ge,be){var ye,ke,xe=this.strm,ve=this.options.chunkSize;if(this.ended)return!1;ke=be===~~be?be:!0===be?ce:0,xe.input="string"==typeof ge?se.string2buf(ge):"[object ArrayBuffer]"===de.call(ge)?new Uint8Array(ge):ge,xe.next_in=0,xe.avail_in=xe.input.length;do{if(0===xe.avail_out&&(xe.output=new ne.Buf8(ve),xe.next_out=0,xe.avail_out=ve),ye=ae.deflate(xe,ke),ye!==ue&&ye!==pe)return this.onEnd(ye),this.ended=!0,!1;0!==xe.avail_out&&(0!==xe.avail_in||ke!==ce&&ke!==he)||("string"===this.options.to?this.onData(se.buf2binstring(ne.shrinkBuf(xe.output,xe.next_out))):this.onData(ne.shrinkBuf(xe.output,xe.next_out)))}while((0<xe.avail_in||0===xe.avail_out)&&ye!==ue);return ke===ce?(ye=ae.deflateEnd(this.strm),this.onEnd(ye),this.ended=!0,ye===pe):ke!=he||(this.onEnd(pe),xe.avail_out=0,!0)},d.prototype.onData=function(ge){this.chunks.push(ge)},d.prototype.onEnd=function(ge){ge===pe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ne.flattenChunks(this.chunks)),this.chunks=[],this.err=ge,this.msg=this.strm.msg},re.Deflate=d,re.deflate=e,re.deflateRaw=function(ge,be){return be=be||{},be.raw=!0,e(ge,be)},re.gzip=function(ge,be){return be=be||{},be.gzip=!0,e(ge,be)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(ee,te,re){"use strict";function d(pe){if(!(this instanceof d))return new d(pe);this.options=ne.assign({chunkSize:16384,windowBits:0,to:""},pe||{});var ue=this.options;ue.raw&&0<=ue.windowBits&&16>ue.windowBits&&(ue.windowBits=-ue.windowBits,0===ue.windowBits&&(ue.windowBits=-15)),!(0<=ue.windowBits&&16>ue.windowBits)||pe&&pe.windowBits||(ue.windowBits+=32),15<ue.windowBits&&48>ue.windowBits&&0==(15&ue.windowBits)&&(ue.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new de,this.strm.avail_out=0;var he=ae.inflateInit2(this.strm,ue.windowBits);if(he!==ie.Z_OK)throw new Error(oe[he]);this.header=new le,ae.inflateGetHeader(this.strm,this.header)}function e(pe,ue){var he=new d(ue);if(he.push(pe,!0),he.err)throw he.msg;return he.result}var ae=ee("./zlib/inflate"),ne=ee("./utils/common"),se=ee("./utils/strings"),ie=ee("./zlib/constants"),oe=ee("./zlib/messages"),de=ee("./zlib/zstream"),le=ee("./zlib/gzheader"),ce=Object.prototype.toString;d.prototype.push=function(pe,ue){var he,me,_e,fe,ge,be,ye=this.strm,ke=this.options.chunkSize,xe=this.options.dictionary,ve=!1;if(this.ended)return!1;me=ue===~~ue?ue:!0===ue?ie.Z_FINISH:ie.Z_NO_FLUSH,ye.input="string"==typeof pe?se.binstring2buf(pe):"[object ArrayBuffer]"===ce.call(pe)?new Uint8Array(pe):pe,ye.next_in=0,ye.avail_in=ye.input.length;do{if(0===ye.avail_out&&(ye.output=new ne.Buf8(ke),ye.next_out=0,ye.avail_out=ke),he=ae.inflate(ye,ie.Z_NO_FLUSH),he===ie.Z_NEED_DICT&&xe&&(be="string"==typeof xe?se.string2buf(xe):"[object ArrayBuffer]"===ce.call(xe)?new Uint8Array(xe):xe,he=ae.inflateSetDictionary(this.strm,be)),he===ie.Z_BUF_ERROR&&!0==ve&&(he=ie.Z_OK,ve=!1),he!==ie.Z_STREAM_END&&he!==ie.Z_OK)return this.onEnd(he),this.ended=!0,!1;ye.next_out&&(0!==ye.avail_out&&he!==ie.Z_STREAM_END&&(0!==ye.avail_in||me!==ie.Z_FINISH&&me!==ie.Z_SYNC_FLUSH)||("string"===this.options.to?(_e=se.utf8border(ye.output,ye.next_out),fe=ye.next_out-_e,ge=se.buf2string(ye.output,_e),ye.next_out=fe,ye.avail_out=ke-fe,fe&&ne.arraySet(ye.output,ye.output,_e,fe,0),this.onData(ge)):this.onData(ne.shrinkBuf(ye.output,ye.next_out)))),0===ye.avail_in&&0===ye.avail_out&&(ve=!0)}while((0<ye.avail_in||0===ye.avail_out)&&he!==ie.Z_STREAM_END);return he===ie.Z_STREAM_END&&(me=ie.Z_FINISH),me===ie.Z_FINISH?(he=ae.inflateEnd(this.strm),this.onEnd(he),this.ended=!0,he===ie.Z_OK):me!==ie.Z_SYNC_FLUSH||(this.onEnd(ie.Z_OK),ye.avail_out=0,!0)},d.prototype.onData=function(pe){this.chunks.push(pe)},d.prototype.onEnd=function(pe){pe===ie.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ne.flattenChunks(this.chunks)),this.chunks=[],this.err=pe,this.msg=this.strm.msg},re.Inflate=d,re.inflate=e,re.inflateRaw=function(pe,ue){return ue=ue||{},ue.raw=!0,e(pe,ue)},re.ungzip=e},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(ee,te,re){"use strict";var ae="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;re.assign=function(ie){for(var de,oe=Array.prototype.slice.call(arguments,1);oe.length;)if(de=oe.shift(),de){if("object"!=typeof de)throw new TypeError(de+"must be non-object");for(var le in de)de.hasOwnProperty(le)&&(ie[le]=de[le])}return ie},re.shrinkBuf=function(ie,oe){return ie.length===oe?ie:ie.subarray?ie.subarray(0,oe):(ie.length=oe,ie)};var ne={arraySet:function(ie,oe,de,le,ce){if(oe.subarray&&ie.subarray)return void ie.set(oe.subarray(de,de+le),ce);for(var pe=0;pe<le;pe++)ie[ce+pe]=oe[de+pe]},flattenChunks:function(ie){var oe,de,le,ce,pe,ue;for(le=0,oe=0,de=ie.length;oe<de;oe++)le+=ie[oe].length;for(ue=new Uint8Array(le),ce=0,oe=0,de=ie.length;oe<de;oe++)pe=ie[oe],ue.set(pe,ce),ce+=pe.length;return ue}},se={arraySet:function(ie,oe,de,le,ce){for(var pe=0;pe<le;pe++)ie[ce+pe]=oe[de+pe]},flattenChunks:function(ie){return[].concat.apply([],ie)}};re.setTyped=function(ie){ie?(re.Buf8=Uint8Array,re.Buf16=Uint16Array,re.Buf32=Int32Array,re.assign(re,ne)):(re.Buf8=Array,re.Buf16=Array,re.Buf32=Array,re.assign(re,se))},re.setTyped(ae)},{}],63:[function(ee,te,re){"use strict";function d(de,le){if(65537>le&&(de.subarray&&se||!de.subarray&&ne))return String.fromCharCode.apply(null,ae.shrinkBuf(de,le));for(var ce="",pe=0;pe<le;pe++)ce+=String.fromCharCode(de[pe]);return ce}var ae=ee("./common"),ne=!0,se=!0;try{String.fromCharCode.apply(null,[0])}catch(de){ne=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(de){se=!1}for(var ie=new ae.Buf8(256),oe=0;256>oe;oe++)ie[oe]=252<=oe?6:248<=oe?5:240<=oe?4:224<=oe?3:192<=oe?2:1;ie[254]=ie[254]=1,re.string2buf=function(de){var le,ce,pe,ue,he,me=de.length,_e=0;for(ue=0;ue<me;ue++)ce=de.charCodeAt(ue),55296==(64512&ce)&&ue+1<me&&(pe=de.charCodeAt(ue+1),56320==(64512&pe)&&(ce=65536+(ce-55296<<10)+(pe-56320),ue++)),_e+=128>ce?1:2048>ce?2:65536>ce?3:4;for(le=new ae.Buf8(_e),he=0,ue=0;he<_e;ue++)ce=de.charCodeAt(ue),55296==(64512&ce)&&ue+1<me&&(pe=de.charCodeAt(ue+1),56320==(64512&pe)&&(ce=65536+(ce-55296<<10)+(pe-56320),ue++)),128>ce?le[he++]=ce:2048>ce?(le[he++]=192|ce>>>6,le[he++]=128|63&ce):65536>ce?(le[he++]=224|ce>>>12,le[he++]=128|63&ce>>>6,le[he++]=128|63&ce):(le[he++]=240|ce>>>18,le[he++]=128|63&ce>>>12,le[he++]=128|63&ce>>>6,le[he++]=128|63&ce);return le},re.buf2binstring=function(de){return d(de,de.length)},re.binstring2buf=function(de){for(var le=new ae.Buf8(de.length),ce=0,pe=le.length;ce<pe;ce++)le[ce]=de.charCodeAt(ce);return le},re.buf2string=function(de,le){var ce,pe,ue,he,me=le||de.length,_e=Array(2*me);for(pe=0,ce=0;ce<me;)if(ue=de[ce++],128>ue)_e[pe++]=ue;else if(he=ie[ue],4<he)_e[pe++]=65533,ce+=he-1;else{for(ue&=2===he?31:3===he?15:7;1<he&&ce<me;)ue=ue<<6|63&de[ce++],he--;1<he?_e[pe++]=65533:65536>ue?_e[pe++]=ue:(ue-=65536,_e[pe++]=55296|1023&ue>>10,_e[pe++]=56320|1023&ue)}return d(_e,pe)},re.utf8border=function(de,le){var ce;for(le=le||de.length,le>de.length&&(le=de.length),ce=le-1;0<=ce&&128==(192&de[ce]);)ce--;return 0>ce?le:0===ce?le:ce+ie[de[ce]]>le?ce:le}},{"./common":62}],64:[function(ee,te){"use strict";te.exports=function(ae,ne,se,ie){for(var oe=0|65535&ae,de=0|65535&ae>>>16,le=0;0!==se;){le=2e3<se?2e3:se,se-=le;do oe=0|oe+ne[ie++],de=0|de+oe;while(--le);oe%=65521,de%=65521}return 0|(oe|de<<16)}},{}],65:[function(ee,te){"use strict";te.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(ee,te){"use strict";var ae=function(){for(var ne,se=[],ie=0;256>ie;ie++){ne=ie;for(var oe=0;8>oe;oe++)ne=1&ne?3988292384^ne>>>1:ne>>>1;se[ie]=ne}return se}();te.exports=function(ne,se,ie,oe){ne^=-1;for(var ce=oe;ce<oe+ie;ce++)ne=ne>>>8^ae[255&(ne^se[ce])];return-1^ne}},{}],67:[function(ee,te,re){"use strict";function d($e,et){return $e.msg=de[et],et}function e($e){return($e<<1)-(4<$e?9:0)}function f($e){for(var et=$e.length;0<=--et;)$e[et]=0}function g($e){var et=$e.state,tt=et.pending;tt>$e.avail_out&&(tt=$e.avail_out),0!==tt&&(ne.arraySet($e.output,et.pending_buf,et.pending_out,tt,$e.next_out),$e.next_out+=tt,et.pending_out+=tt,$e.total_out+=tt,$e.avail_out-=tt,et.pending-=tt,0===et.pending&&(et.pending_out=0))}function h($e,et){se._tr_flush_block($e,0<=$e.block_start?$e.block_start:-1,$e.strstart-$e.block_start,et),$e.block_start=$e.strstart,g($e.strm)}function i($e,et){$e.pending_buf[$e.pending++]=et}function j($e,et){$e.pending_buf[$e.pending++]=255&et>>>8,$e.pending_buf[$e.pending++]=255&et}function k($e,et,tt,rt){var at=$e.avail_in;return at>rt&&(at=rt),0===at?0:($e.avail_in-=at,ne.arraySet(et,$e.input,$e.next_in,at,tt),1===$e.state.wrap?$e.adler=ie($e.adler,et,at,tt):2===$e.state.wrap&&($e.adler=oe($e.adler,et,at,tt)),$e.next_in+=at,$e.total_in+=at,at)}function l($e,et){var tt,rt,at=$e.max_chain_length,nt=$e.strstart,st=$e.prev_length,it=$e.nice_match,ot=$e.strstart>$e.w_size-Le?$e.strstart-($e.w_size-Le):0,dt=$e.window,lt=$e.w_mask,ct=$e.prev,pt=$e.strstart+je,ut=dt[nt+st-1],ht=dt[nt+st];$e.prev_length>=$e.good_match&&(at>>=2),it>$e.lookahead&&(it=$e.lookahead);do if(tt=et,dt[tt+st]===ht&&dt[tt+st-1]===ut&&dt[tt]===dt[nt]&&dt[++tt]===dt[nt+1]){nt+=2,tt++;do;while(dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&dt[++nt]===dt[++tt]&&nt<pt);if(rt=je-(pt-nt),nt=pt-je,rt>st){if($e.match_start=et,st=rt,rt>=it)break;ut=dt[nt+st-1],ht=dt[nt+st]}}while((et=ct[et&lt])>ot&&0!=--at);return st<=$e.lookahead?st:$e.lookahead}function m($e){var et,tt,rt,at,nt,st=$e.w_size;do{if(at=$e.window_size-$e.lookahead-$e.strstart,$e.strstart>=st+(st-Le)){ne.arraySet($e.window,$e.window,st,st,0),$e.match_start-=st,$e.strstart-=st,$e.block_start-=st,tt=$e.hash_size,et=tt;do rt=$e.head[--et],$e.head[et]=rt>=st?rt-st:0;while(--tt);tt=st,et=tt;do rt=$e.prev[--et],$e.prev[et]=rt>=st?rt-st:0;while(--tt);at+=st}if(0===$e.strm.avail_in)break;if(tt=k($e.strm,$e.window,$e.strstart+$e.lookahead,at),$e.lookahead+=tt,$e.lookahead+$e.insert>=Pe)for(nt=$e.strstart-$e.insert,$e.ins_h=$e.window[nt],$e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[nt+1])&$e.hash_mask;$e.insert&&($e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[nt+Pe-1])&$e.hash_mask,$e.prev[nt&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=nt,nt++,$e.insert--,!($e.lookahead+$e.insert<Pe)););}while($e.lookahead<Le&&0!==$e.strm.avail_in)}function o($e,et){for(var tt,rt;;){if($e.lookahead<Le){if(m($e),$e.lookahead<Le&&et===le)return Xe;if(0===$e.lookahead)break}if(tt=0,$e.lookahead>=Pe&&($e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[$e.strstart+Pe-1])&$e.hash_mask,tt=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),0!==tt&&$e.strstart-tt<=$e.w_size-Le&&($e.match_length=l($e,tt)),!($e.match_length>=Pe))rt=se._tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++;else if(rt=se._tr_tally($e,$e.strstart-$e.match_start,$e.match_length-Pe),$e.lookahead-=$e.match_length,$e.match_length<=$e.max_lazy_match&&$e.lookahead>=Pe){$e.match_length--;do $e.strstart++,$e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[$e.strstart+Pe-1])&$e.hash_mask,tt=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart;while(0!=--$e.match_length);$e.strstart++}else $e.strstart+=$e.match_length,$e.match_length=0,$e.ins_h=$e.window[$e.strstart],$e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[$e.strstart+1])&$e.hash_mask;if(rt&&(h($e,!1),0===$e.strm.avail_out))return Xe}return $e.insert=$e.strstart<Pe-1?$e.strstart:Pe-1,et===ue?(h($e,!0),0===$e.strm.avail_out?Je:qe):$e.last_lit&&(h($e,!1),0===$e.strm.avail_out)?Xe:Ve}function p($e,et){for(var tt,rt,at;;){if($e.lookahead<Le){if(m($e),$e.lookahead<Le&&et===le)return Xe;if(0===$e.lookahead)break}if(tt=0,$e.lookahead>=Pe&&($e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[$e.strstart+Pe-1])&$e.hash_mask,tt=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart),$e.prev_length=$e.match_length,$e.prev_match=$e.match_start,$e.match_length=Pe-1,0!==tt&&$e.prev_length<$e.max_lazy_match&&$e.strstart-tt<=$e.w_size-Le&&($e.match_length=l($e,tt),5>=$e.match_length&&($e.strategy===ke||$e.match_length===Pe&&4096<$e.strstart-$e.match_start)&&($e.match_length=Pe-1)),$e.prev_length>=Pe&&$e.match_length<=$e.prev_length){at=$e.strstart+$e.lookahead-Pe,rt=se._tr_tally($e,$e.strstart-1-$e.prev_match,$e.prev_length-Pe),$e.lookahead-=$e.prev_length-1,$e.prev_length-=2;do++$e.strstart<=at&&($e.ins_h=($e.ins_h<<$e.hash_shift^$e.window[$e.strstart+Pe-1])&$e.hash_mask,tt=$e.prev[$e.strstart&$e.w_mask]=$e.head[$e.ins_h],$e.head[$e.ins_h]=$e.strstart);while(0!=--$e.prev_length);if($e.match_available=0,$e.match_length=Pe-1,$e.strstart++,rt&&(h($e,!1),0===$e.strm.avail_out))return Xe}else if(!$e.match_available)$e.match_available=1,$e.strstart++,$e.lookahead--;else if(rt=se._tr_tally($e,0,$e.window[$e.strstart-1]),rt&&h($e,!1),$e.strstart++,$e.lookahead--,0===$e.strm.avail_out)return Xe}return $e.match_available&&(rt=se._tr_tally($e,0,$e.window[$e.strstart-1]),$e.match_available=0),$e.insert=$e.strstart<Pe-1?$e.strstart:Pe-1,et===ue?(h($e,!0),0===$e.strm.avail_out?Je:qe):$e.last_lit&&(h($e,!1),0===$e.strm.avail_out)?Xe:Ve}function q($e,et){for(var tt,rt,at,nt,st=$e.window;;){if($e.lookahead<=je){if(m($e),$e.lookahead<=je&&et===le)return Xe;if(0===$e.lookahead)break}if($e.match_length=0,$e.lookahead>=Pe&&0<$e.strstart&&(at=$e.strstart-1,rt=st[at],rt===st[++at]&&rt===st[++at]&&rt===st[++at])){nt=$e.strstart+je;do;while(rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&rt===st[++at]&&at<nt);$e.match_length=je-(nt-at),$e.match_length>$e.lookahead&&($e.match_length=$e.lookahead)}if($e.match_length>=Pe?(tt=se._tr_tally($e,1,$e.match_length-Pe),$e.lookahead-=$e.match_length,$e.strstart+=$e.match_length,$e.match_length=0):(tt=se._tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++),tt&&(h($e,!1),0===$e.strm.avail_out))return Xe}return $e.insert=0,et===ue?(h($e,!0),0===$e.strm.avail_out?Je:qe):$e.last_lit&&(h($e,!1),0===$e.strm.avail_out)?Xe:Ve}function r($e,et){for(var tt;;){if(0===$e.lookahead&&(m($e),0===$e.lookahead)){if(et===le)return Xe;break}if($e.match_length=0,tt=se._tr_tally($e,0,$e.window[$e.strstart]),$e.lookahead--,$e.strstart++,tt&&(h($e,!1),0===$e.strm.avail_out))return Xe}return $e.insert=0,et===ue?(h($e,!0),0===$e.strm.avail_out?Je:qe):$e.last_lit&&(h($e,!1),0===$e.strm.avail_out)?Xe:Ve}function s($e,et,tt,rt,at){this.good_length=$e,this.max_lazy=et,this.nice_length=tt,this.max_chain=rt,this.func=at}function t($e){$e.window_size=2*$e.w_size,f($e.head),$e.max_lazy_match=ae[$e.level].max_lazy,$e.good_match=ae[$e.level].good_length,$e.nice_match=ae[$e.level].nice_length,$e.max_chain_length=ae[$e.level].max_chain,$e.strstart=0,$e.block_start=0,$e.lookahead=0,$e.insert=0,$e.match_length=$e.prev_length=Pe-1,$e.match_available=0,$e.ins_h=0}function u(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ce,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ne.Buf16(2*Fe),this.dyn_dtree=new ne.Buf16(2*(2*De+1)),this.bl_tree=new ne.Buf16(2*(2*Te+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ne.Buf16(Ne+1),this.heap=new ne.Buf16(2*Re+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ne.Buf16(2*Re+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v($e){var et;return $e&&$e.state?($e.total_in=$e.total_out=0,$e.data_type=Se,et=$e.state,et.pending=0,et.pending_out=0,0>et.wrap&&(et.wrap=-et.wrap),et.status=et.wrap?We:Ke,$e.adler=2===et.wrap?0:1,et.last_flush=le,se._tr_init(et),me):d($e,fe)}function w($e){var et=v($e);return et===me&&t($e.state),et}function y($e,et,tt,rt,at,nt){if(!$e)return fe;var st=1;if(et===ye&&(et=6),0>rt?(st=0,rt=-rt):15<rt&&(st=2,rt-=16),1>at||at>Ee||tt!==Ce||8>rt||15<rt||0>et||9<et||0>nt||nt>we)return d($e,fe);8===rt&&(rt=9);var it=new u;return $e.state=it,it.strm=$e,it.wrap=st,it.gzhead=null,it.w_bits=rt,it.w_size=1<<it.w_bits,it.w_mask=it.w_size-1,it.hash_bits=at+7,it.hash_size=1<<it.hash_bits,it.hash_mask=it.hash_size-1,it.hash_shift=~~((it.hash_bits+Pe-1)/Pe),it.window=new ne.Buf8(2*it.w_size),it.head=new ne.Buf16(it.hash_size),it.prev=new ne.Buf16(it.w_size),it.lit_bufsize=1<<at+6,it.pending_buf_size=4*it.lit_bufsize,it.pending_buf=new ne.Buf8(it.pending_buf_size),it.d_buf=1*it.lit_bufsize,it.l_buf=3*it.lit_bufsize,it.level=et,it.strategy=nt,it.method=tt,w($e)}var ae,ne=ee("../utils/common"),se=ee("./trees"),ie=ee("./adler32"),oe=ee("./crc32"),de=ee("./messages"),le=0,ue=4,he=5,me=0,_e=1,fe=-2,be=-5,ye=-1,ke=1,xe=2,we=4,Se=2,Ce=8,Ee=9,Re=256+1+29,De=30,Te=19,Fe=2*Re+1,Ne=15,Pe=3,je=258,Le=je+Pe+1,We=42,Ze=69,Me=73,He=91,Ge=103,Ke=113,Ye=666,Xe=1,Ve=2,Je=3,qe=4;ae=[new s(0,0,0,0,function($e,et){var tt=65535;for(tt>$e.pending_buf_size-5&&(tt=$e.pending_buf_size-5);;){if(1>=$e.lookahead){if(m($e),0===$e.lookahead&&et===le)return Xe;if(0===$e.lookahead)break}$e.strstart+=$e.lookahead,$e.lookahead=0;var rt=$e.block_start+tt;if((0===$e.strstart||$e.strstart>=rt)&&($e.lookahead=$e.strstart-rt,$e.strstart=rt,h($e,!1),0===$e.strm.avail_out))return Xe;if($e.strstart-$e.block_start>=$e.w_size-Le&&(h($e,!1),0===$e.strm.avail_out))return Xe}return $e.insert=0,et===ue?(h($e,!0),0===$e.strm.avail_out?Je:qe):$e.strstart>$e.block_start&&(h($e,!1),0===$e.strm.avail_out)?Xe:Xe}),new s(4,4,8,4,o),new s(4,5,16,8,o),new s(4,6,32,32,o),new s(4,4,16,16,p),new s(8,16,32,32,p),new s(8,16,128,128,p),new s(8,32,128,256,p),new s(32,128,258,1024,p),new s(32,258,258,4096,p)],re.deflateInit=function($e,et){return y($e,et,Ce,15,8,0)},re.deflateInit2=y,re.deflateReset=w,re.deflateResetKeep=v,re.deflateSetHeader=function($e,et){return $e&&$e.state?2===$e.state.wrap?($e.state.gzhead=et,me):fe:fe},re.deflate=function($e,et){var tt,rt,at,nt;if(!$e||!$e.state||et>he||0>et)return $e?d($e,fe):fe;if(rt=$e.state,!$e.output||!$e.input&&0!==$e.avail_in||rt.status===Ye&&et!==ue)return d($e,0===$e.avail_out?be:fe);if(rt.strm=$e,tt=rt.last_flush,rt.last_flush=et,rt.status===We)if(2===rt.wrap)$e.adler=0,i(rt,31),i(rt,139),i(rt,8),rt.gzhead?(i(rt,(rt.gzhead.text?1:0)+(rt.gzhead.hcrc?2:0)+(rt.gzhead.extra?4:0)+(rt.gzhead.name?8:0)+(rt.gzhead.comment?16:0)),i(rt,255&rt.gzhead.time),i(rt,255&rt.gzhead.time>>8),i(rt,255&rt.gzhead.time>>16),i(rt,255&rt.gzhead.time>>24),i(rt,9===rt.level?2:rt.strategy>=xe||2>rt.level?4:0),i(rt,255&rt.gzhead.os),rt.gzhead.extra&&rt.gzhead.extra.length&&(i(rt,255&rt.gzhead.extra.length),i(rt,255&rt.gzhead.extra.length>>8)),rt.gzhead.hcrc&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending,0)),rt.gzindex=0,rt.status=Ze):(i(rt,0),i(rt,0),i(rt,0),i(rt,0),i(rt,0),i(rt,9===rt.level?2:rt.strategy>=xe||2>rt.level?4:0),i(rt,3),rt.status=Ke);else{var st=Ce+(rt.w_bits-8<<4)<<8,it=-1;it=rt.strategy>=xe||2>rt.level?0:6>rt.level?1:6===rt.level?2:3,st|=it<<6,0!==rt.strstart&&(st|=32),st+=31-st%31,rt.status=Ke,j(rt,st),0!==rt.strstart&&(j(rt,$e.adler>>>16),j(rt,65535&$e.adler)),$e.adler=1}if(rt.status===Ze)if(rt.gzhead.extra){for(at=rt.pending;rt.gzindex<(65535&rt.gzhead.extra.length)&&(rt.pending!==rt.pending_buf_size||(rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),g($e),at=rt.pending,rt.pending!==rt.pending_buf_size));)i(rt,255&rt.gzhead.extra[rt.gzindex]),rt.gzindex++;rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),rt.gzindex===rt.gzhead.extra.length&&(rt.gzindex=0,rt.status=Me)}else rt.status=Me;if(rt.status===Me)if(rt.gzhead.name){at=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),g($e),at=rt.pending,rt.pending===rt.pending_buf_size)){nt=1;break}nt=rt.gzindex<rt.gzhead.name.length?255&rt.gzhead.name.charCodeAt(rt.gzindex++):0,i(rt,nt)}while(0!==nt);rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),0===nt&&(rt.gzindex=0,rt.status=He)}else rt.status=He;if(rt.status===He)if(rt.gzhead.comment){at=rt.pending;do{if(rt.pending===rt.pending_buf_size&&(rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),g($e),at=rt.pending,rt.pending===rt.pending_buf_size)){nt=1;break}nt=rt.gzindex<rt.gzhead.comment.length?255&rt.gzhead.comment.charCodeAt(rt.gzindex++):0,i(rt,nt)}while(0!==nt);rt.gzhead.hcrc&&rt.pending>at&&($e.adler=oe($e.adler,rt.pending_buf,rt.pending-at,at)),0===nt&&(rt.status=Ge)}else rt.status=Ge;if(rt.status===Ge&&(rt.gzhead.hcrc?(rt.pending+2>rt.pending_buf_size&&g($e),rt.pending+2<=rt.pending_buf_size&&(i(rt,255&$e.adler),i(rt,255&$e.adler>>8),$e.adler=0,rt.status=Ke)):rt.status=Ke),0!==rt.pending){if(g($e),0===$e.avail_out)return rt.last_flush=-1,me;}else if(0===$e.avail_in&&e(et)<=e(tt)&&et!==ue)return d($e,be);if(rt.status===Ye&&0!==$e.avail_in)return d($e,be);if(0!==$e.avail_in||0!==rt.lookahead||et!==le&&rt.status!==Ye){var ot=rt.strategy===xe?r(rt,et):rt.strategy===3?q(rt,et):ae[rt.level].func(rt,et);if(ot!==Je&&ot!==qe||(rt.status=Ye),ot===Xe||ot===Je)return 0===$e.avail_out&&(rt.last_flush=-1),me;if(ot===Ve&&(et===1?se._tr_align(rt):et!==he&&(se._tr_stored_block(rt,0,0,!1),et===3&&(f(rt.head),0===rt.lookahead&&(rt.strstart=0,rt.block_start=0,rt.insert=0))),g($e),0===$e.avail_out))return rt.last_flush=-1,me}return et===ue?0>=rt.wrap?_e:(2===rt.wrap?(i(rt,255&$e.adler),i(rt,255&$e.adler>>8),i(rt,255&$e.adler>>16),i(rt,255&$e.adler>>24),i(rt,255&$e.total_in),i(rt,255&$e.total_in>>8),i(rt,255&$e.total_in>>16),i(rt,255&$e.total_in>>24)):(j(rt,$e.adler>>>16),j(rt,65535&$e.adler)),g($e),0<rt.wrap&&(rt.wrap=-rt.wrap),0===rt.pending?_e:me):me},re.deflateEnd=function($e){var et;return $e&&$e.state?(et=$e.state.status,et!==We&&et!==Ze&&et!==Me&&et!==He&&et!==Ge&&et!==Ke&&et!==Ye?d($e,fe):($e.state=null,et===Ke?d($e,-3):me)):fe},re.deflateSetDictionary=function($e,et){var tt,rt,at,nt,st,it,ot,dt,lt=et.length;if(!$e||!$e.state)return fe;if(tt=$e.state,nt=tt.wrap,2===nt||1===nt&&tt.status!==We||tt.lookahead)return fe;for(1===nt&&($e.adler=ie($e.adler,et,lt,0)),tt.wrap=0,lt>=tt.w_size&&(0===nt&&(f(tt.head),tt.strstart=0,tt.block_start=0,tt.insert=0),dt=new ne.Buf8(tt.w_size),ne.arraySet(dt,et,lt-tt.w_size,tt.w_size,0),et=dt,lt=tt.w_size),st=$e.avail_in,it=$e.next_in,ot=$e.input,$e.avail_in=lt,$e.next_in=0,$e.input=et,m(tt);tt.lookahead>=Pe;){rt=tt.strstart,at=tt.lookahead-(Pe-1);do tt.ins_h=(tt.ins_h<<tt.hash_shift^tt.window[rt+Pe-1])&tt.hash_mask,tt.prev[rt&tt.w_mask]=tt.head[tt.ins_h],tt.head[tt.ins_h]=rt,rt++;while(--at);tt.strstart=rt,tt.lookahead=Pe-1,m(tt)}return tt.strstart+=tt.lookahead,tt.block_start=tt.strstart,tt.insert=tt.lookahead,tt.lookahead=0,tt.match_length=tt.prev_length=Pe-1,tt.match_available=0,$e.next_in=it,$e.input=ot,$e.avail_in=st,tt.wrap=nt,me},re.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(ee,te){"use strict";te.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(ee,te){"use strict";var ae=30;te.exports=function(se,ie){var oe,de,le,ce,pe,ue,he,me,_e,fe,ge,be,ye,ke,xe,ve,we,ze,Se,Ce,Ee,Ie,Oe,Ae,Be;oe=se.state,de=se.next_in,Ae=se.input,le=de+(se.avail_in-5),ce=se.next_out,Be=se.output,pe=ce-(ie-se.avail_out),ue=ce+(se.avail_out-257),he=oe.dmax,me=oe.wsize,_e=oe.whave,fe=oe.wnext,ge=oe.window,be=oe.hold,ye=oe.bits,ke=oe.lencode,xe=oe.distcode,ve=(1<<oe.lenbits)-1,we=(1<<oe.distbits)-1;a:do{15>ye&&(be+=Ae[de++]<<ye,ye+=8,be+=Ae[de++]<<ye,ye+=8),ze=ke[be&ve];b:for(;;){if(Se=ze>>>24,be>>>=Se,ye-=Se,Se=255&ze>>>16,0===Se)Be[ce++]=65535&ze;else{if(!(16&Se)){if(0==(64&Se)){ze=ke[(65535&ze)+(be&(1<<Se)-1)];continue b}if(32&Se){oe.mode=12;break a}se.msg="invalid literal/length code",oe.mode=ae;break a}Ce=65535&ze,Se&=15,Se&&(ye<Se&&(be+=Ae[de++]<<ye,ye+=8),Ce+=be&(1<<Se)-1,be>>>=Se,ye-=Se),15>ye&&(be+=Ae[de++]<<ye,ye+=8,be+=Ae[de++]<<ye,ye+=8),ze=xe[be&we];c:for(;;){if(Se=ze>>>24,be>>>=Se,ye-=Se,Se=255&ze>>>16,!(16&Se)){if(0==(64&Se)){ze=xe[(65535&ze)+(be&(1<<Se)-1)];continue c}se.msg="invalid distance code",oe.mode=ae;break a}if(Ee=65535&ze,Se&=15,ye<Se&&(be+=Ae[de++]<<ye,ye+=8,ye<Se&&(be+=Ae[de++]<<ye,ye+=8)),Ee+=be&(1<<Se)-1,Ee>he){se.msg="invalid distance too far back",oe.mode=ae;break a}if(be>>>=Se,ye-=Se,Se=ce-pe,Ee>Se){if(Se=Ee-Se,Se>_e&&oe.sane){se.msg="invalid distance too far back",oe.mode=ae;break a}if(Ie=0,Oe=ge,0===fe){if(Ie+=me-Se,Se<Ce){Ce-=Se;do Be[ce++]=ge[Ie++];while(--Se);Ie=ce-Ee,Oe=Be}}else if(fe<Se){if(Ie+=me+fe-Se,Se-=fe,Se<Ce){Ce-=Se;do Be[ce++]=ge[Ie++];while(--Se);if(Ie=0,fe<Ce){Se=fe,Ce-=Se;do Be[ce++]=ge[Ie++];while(--Se);Ie=ce-Ee,Oe=Be}}}else if(Ie+=fe-Se,Se<Ce){Ce-=Se;do Be[ce++]=ge[Ie++];while(--Se);Ie=ce-Ee,Oe=Be}for(;2<Ce;)Be[ce++]=Oe[Ie++],Be[ce++]=Oe[Ie++],Be[ce++]=Oe[Ie++],Ce-=3;Ce&&(Be[ce++]=Oe[Ie++],1<Ce&&(Be[ce++]=Oe[Ie++]))}else{Ie=ce-Ee;do Be[ce++]=Be[Ie++],Be[ce++]=Be[Ie++],Be[ce++]=Be[Ie++],Ce-=3;while(2<Ce);Ce&&(Be[ce++]=Be[Ie++],1<Ce&&(Be[ce++]=Be[Ie++]))}break}}break}}while(de<le&&ce<ue);Ce=ye>>3,de-=Ce,ye-=Ce<<3,be&=(1<<ye)-1,se.next_in=de,se.next_out=ce,se.avail_in=de<le?5+(le-de):5-(de-le),se.avail_out=ce<ue?257+(ue-ce):257-(ce-ue),oe.hold=be,oe.bits=ye}},{}],70:[function(ee,te,re){"use strict";function d(ot){return(255&ot>>>24)+(65280&ot>>>8)+((65280&ot)<<8)+((255&ot)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new se.Buf16(320),this.work=new se.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(ot){var dt;return ot&&ot.state?(dt=ot.state,ot.total_in=ot.total_out=dt.total=0,ot.msg="",dt.wrap&&(ot.adler=1&dt.wrap),dt.mode=ze,dt.last=0,dt.havedict=0,dt.dmax=32768,dt.head=null,dt.hold=0,dt.bits=0,dt.lencode=dt.lendyn=new se.Buf32(rt),dt.distcode=dt.distdyn=new se.Buf32(at),dt.sane=1,dt.back=-1,fe):ye}function g(ot){var dt;return ot&&ot.state?(dt=ot.state,dt.wsize=0,dt.whave=0,dt.wnext=0,f(ot)):ye}function h(ot,dt){var lt,ct;return ot&&ot.state?(ct=ot.state,0>dt?(lt=0,dt=-dt):(lt=(dt>>4)+1,48>dt&&(dt&=15)),dt&&(8>dt||15<dt)?ye:(null!==ct.window&&ct.wbits!==dt&&(ct.window=null),ct.wrap=lt,ct.wbits=dt,g(ot))):ye}function i(ot,dt){var lt,ct;return ot?(ct=new e,ot.state=ct,ct.window=null,lt=h(ot,dt),lt!==fe&&(ot.state=null),lt):ye}function k(ot){if(it){var dt;for(ae=new se.Buf32(512),ne=new se.Buf32(32),dt=0;144>dt;)ot.lens[dt++]=8;for(;256>dt;)ot.lens[dt++]=9;for(;280>dt;)ot.lens[dt++]=7;for(;288>dt;)ot.lens[dt++]=8;for(le(pe,ot.lens,0,288,ae,0,ot.work,{bits:9}),dt=0;32>dt;)ot.lens[dt++]=5;le(ue,ot.lens,0,32,ne,0,ot.work,{bits:5}),it=!1}ot.lencode=ae,ot.lenbits=9,ot.distcode=ne,ot.distbits=5}function l(ot,dt,lt,ct){var pt,ut=ot.state;return null===ut.window&&(ut.wsize=1<<ut.wbits,ut.wnext=0,ut.whave=0,ut.window=new se.Buf8(ut.wsize)),ct>=ut.wsize?(se.arraySet(ut.window,dt,lt-ut.wsize,ut.wsize,0),ut.wnext=0,ut.whave=ut.wsize):(pt=ut.wsize-ut.wnext,pt>ct&&(pt=ct),se.arraySet(ut.window,dt,lt-ct,pt,ut.wnext),ct-=pt,ct?(se.arraySet(ut.window,dt,lt-ct,ct,0),ut.wnext=ct,ut.whave=ut.wsize):(ut.wnext+=pt,ut.wnext===ut.wsize&&(ut.wnext=0),ut.whave<ut.wsize&&(ut.whave+=pt))),0}var ae,ne,se=ee("../utils/common"),ie=ee("./adler32"),oe=ee("./crc32"),de=ee("./inffast"),le=ee("./inftrees"),pe=1,ue=2,he=4,_e=6,fe=0,ye=-2,ke=-3,xe=-4,we=8,ze=1,Se=2,Ce=3,Ee=4,Ie=5,Oe=6,Ae=7,Be=8,Re=9,De=10,Te=11,Fe=12,Ne=13,Pe=14,je=15,Le=16,Ue=17,We=18,Ze=19,Me=20,He=21,Ge=22,Ke=23,Ye=24,Xe=25,Ve=26,Je=27,qe=28,Qe=29,$e=30,et=31,rt=852,at=592,it=!0;re.inflateReset=g,re.inflateReset2=h,re.inflateResetKeep=f,re.inflateInit=function(ot){return i(ot,15)},re.inflateInit2=i,re.inflate=function(ot,dt){var lt,ct,pt,ut,ht,mt,_t,ft,gt,bt,yt,kt,xt,vt,wt,zt,St,Ct,Et,It,Ot,At,Bt,Rt,Dt=0,Tt=new se.Buf8(4),Ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!ot||!ot.state||!ot.output||!ot.input&&0!==ot.avail_in)return ye;lt=ot.state,lt.mode===Fe&&(lt.mode=Ne),ht=ot.next_out,pt=ot.output,_t=ot.avail_out,ut=ot.next_in,ct=ot.input,mt=ot.avail_in,ft=lt.hold,gt=lt.bits,bt=mt,yt=_t,At=fe;a:for(;;)switch(lt.mode){case ze:if(0===lt.wrap){lt.mode=Ne;break}for(;16>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(2&lt.wrap&&35615===ft){lt.check=0,Tt[0]=255&ft,Tt[1]=255&ft>>>8,lt.check=oe(lt.check,Tt,2,0),ft=0,gt=0,lt.mode=Se;break}if(lt.flags=0,lt.head&&(lt.head.done=!1),!(1&lt.wrap)||(((255&ft)<<8)+(ft>>8))%31){ot.msg="incorrect header check",lt.mode=$e;break}if((15&ft)!==we){ot.msg="unknown compression method",lt.mode=$e;break}if(ft>>>=4,gt-=4,Ot=(15&ft)+8,0===lt.wbits)lt.wbits=Ot;else if(Ot>lt.wbits){ot.msg="invalid window size",lt.mode=$e;break}lt.dmax=1<<Ot,ot.adler=lt.check=1,lt.mode=512&ft?De:Fe,ft=0,gt=0;break;case Se:for(;16>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(lt.flags=ft,(255&lt.flags)!==we){ot.msg="unknown compression method",lt.mode=$e;break}if(57344&lt.flags){ot.msg="unknown header flags set",lt.mode=$e;break}lt.head&&(lt.head.text=1&ft>>8),512&lt.flags&&(Tt[0]=255&ft,Tt[1]=255&ft>>>8,lt.check=oe(lt.check,Tt,2,0)),ft=0,gt=0,lt.mode=Ce;case Ce:for(;32>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.head&&(lt.head.time=ft),512&lt.flags&&(Tt[0]=255&ft,Tt[1]=255&ft>>>8,Tt[2]=255&ft>>>16,Tt[3]=255&ft>>>24,lt.check=oe(lt.check,Tt,4,0)),ft=0,gt=0,lt.mode=Ee;case Ee:for(;16>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.head&&(lt.head.xflags=255&ft,lt.head.os=ft>>8),512&lt.flags&&(Tt[0]=255&ft,Tt[1]=255&ft>>>8,lt.check=oe(lt.check,Tt,2,0)),ft=0,gt=0,lt.mode=Ie;case Ie:if(1024&lt.flags){for(;16>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.length=ft,lt.head&&(lt.head.extra_len=ft),512&lt.flags&&(Tt[0]=255&ft,Tt[1]=255&ft>>>8,lt.check=oe(lt.check,Tt,2,0)),ft=0,gt=0}else lt.head&&(lt.head.extra=null);lt.mode=Oe;case Oe:if(1024&lt.flags&&(kt=lt.length,kt>mt&&(kt=mt),kt&&(lt.head&&(Ot=lt.head.extra_len-lt.length,lt.head.extra||(lt.head.extra=Array(lt.head.extra_len)),se.arraySet(lt.head.extra,ct,ut,kt,Ot)),512&lt.flags&&(lt.check=oe(lt.check,ct,kt,ut)),mt-=kt,ut+=kt,lt.length-=kt),lt.length))break a;lt.length=0,lt.mode=Ae;case Ae:if(2048&lt.flags){if(0===mt)break a;kt=0;do Ot=ct[ut+kt++],lt.head&&Ot&&65536>lt.length&&(lt.head.name+=String.fromCharCode(Ot));while(Ot&&kt<mt);if(512&lt.flags&&(lt.check=oe(lt.check,ct,kt,ut)),mt-=kt,ut+=kt,Ot)break a}else lt.head&&(lt.head.name=null);lt.length=0,lt.mode=Be;case Be:if(4096&lt.flags){if(0===mt)break a;kt=0;do Ot=ct[ut+kt++],lt.head&&Ot&&65536>lt.length&&(lt.head.comment+=String.fromCharCode(Ot));while(Ot&&kt<mt);if(512&lt.flags&&(lt.check=oe(lt.check,ct,kt,ut)),mt-=kt,ut+=kt,Ot)break a}else lt.head&&(lt.head.comment=null);lt.mode=Re;case Re:if(512&lt.flags){for(;16>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(ft!==(65535&lt.check)){ot.msg="header crc mismatch",lt.mode=$e;break}ft=0,gt=0}lt.head&&(lt.head.hcrc=1&lt.flags>>9,lt.head.done=!0),ot.adler=lt.check=0,lt.mode=Fe;break;case De:for(;32>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}ot.adler=lt.check=d(ft),ft=0,gt=0,lt.mode=Te;case Te:if(0===lt.havedict)return ot.next_out=ht,ot.avail_out=_t,ot.next_in=ut,ot.avail_in=mt,lt.hold=ft,lt.bits=gt,2;ot.adler=lt.check=1,lt.mode=Fe;case Fe:if(dt===5||dt===_e)break a;case Ne:if(lt.last){ft>>>=7&gt,gt-=7&gt,lt.mode=Je;break}for(;3>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}switch(lt.last=1&ft,ft>>>=1,gt-=1,3&ft){case 0:lt.mode=Pe;break;case 1:if(k(lt),lt.mode=Me,dt===_e){ft>>>=2,gt-=2;break a}break;case 2:lt.mode=Ue;break;case 3:ot.msg="invalid block type",lt.mode=$e;}ft>>>=2,gt-=2;break;case Pe:for(ft>>>=7&gt,gt-=7&gt;32>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if((65535&ft)!=(65535^ft>>>16)){ot.msg="invalid stored block lengths",lt.mode=$e;break}if(lt.length=65535&ft,ft=0,gt=0,lt.mode=je,dt===_e)break a;case je:lt.mode=Le;case Le:if(kt=lt.length){if(kt>mt&&(kt=mt),kt>_t&&(kt=_t),0===kt)break a;se.arraySet(pt,ct,ut,kt,ht),mt-=kt,ut+=kt,_t-=kt,ht+=kt,lt.length-=kt;break}lt.mode=Fe;break;case Ue:for(;14>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(lt.nlen=(31&ft)+257,ft>>>=5,gt-=5,lt.ndist=(31&ft)+1,ft>>>=5,gt-=5,lt.ncode=(15&ft)+4,ft>>>=4,gt-=4,286<lt.nlen||30<lt.ndist){ot.msg="too many length or distance symbols",lt.mode=$e;break}lt.have=0,lt.mode=We;case We:for(;lt.have<lt.ncode;){for(;3>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.lens[Ft[lt.have++]]=7&ft,ft>>>=3,gt-=3}for(;19>lt.have;)lt.lens[Ft[lt.have++]]=0;if(lt.lencode=lt.lendyn,lt.lenbits=7,Bt={bits:lt.lenbits},At=le(0,lt.lens,0,19,lt.lencode,0,lt.work,Bt),lt.lenbits=Bt.bits,At){ot.msg="invalid code lengths set",lt.mode=$e;break}lt.have=0,lt.mode=Ze;case Ze:for(;lt.have<lt.nlen+lt.ndist;){for(;Dt=lt.lencode[ft&(1<<lt.lenbits)-1],wt=Dt>>>24,zt=255&Dt>>>16,St=65535&Dt,!(wt<=gt);){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(16>St)ft>>>=wt,gt-=wt,lt.lens[lt.have++]=St;else{if(16===St){for(Rt=wt+2;gt<Rt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(ft>>>=wt,gt-=wt,0===lt.have){ot.msg="invalid bit length repeat",lt.mode=$e;break}Ot=lt.lens[lt.have-1],kt=3+(3&ft),ft>>>=2,gt-=2}else if(17===St){for(Rt=wt+3;gt<Rt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}ft>>>=wt,gt-=wt,Ot=0,kt=3+(7&ft),ft>>>=3,gt-=3}else{for(Rt=wt+7;gt<Rt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}ft>>>=wt,gt-=wt,Ot=0,kt=11+(127&ft),ft>>>=7,gt-=7}if(lt.have+kt>lt.nlen+lt.ndist){ot.msg="invalid bit length repeat",lt.mode=$e;break}for(;kt--;)lt.lens[lt.have++]=Ot}}if(lt.mode===$e)break;if(0===lt.lens[256]){ot.msg="invalid code -- missing end-of-block",lt.mode=$e;break}if(lt.lenbits=9,Bt={bits:lt.lenbits},At=le(pe,lt.lens,0,lt.nlen,lt.lencode,0,lt.work,Bt),lt.lenbits=Bt.bits,At){ot.msg="invalid literal/lengths set",lt.mode=$e;break}if(lt.distbits=6,lt.distcode=lt.distdyn,Bt={bits:lt.distbits},At=le(ue,lt.lens,lt.nlen,lt.ndist,lt.distcode,0,lt.work,Bt),lt.distbits=Bt.bits,At){ot.msg="invalid distances set",lt.mode=$e;break}if(lt.mode=Me,dt===_e)break a;case Me:lt.mode=He;case He:if(6<=mt&&258<=_t){ot.next_out=ht,ot.avail_out=_t,ot.next_in=ut,ot.avail_in=mt,lt.hold=ft,lt.bits=gt,de(ot,yt),ht=ot.next_out,pt=ot.output,_t=ot.avail_out,ut=ot.next_in,ct=ot.input,mt=ot.avail_in,ft=lt.hold,gt=lt.bits,lt.mode===Fe&&(lt.back=-1);break}for(lt.back=0;Dt=lt.lencode[ft&(1<<lt.lenbits)-1],wt=Dt>>>24,zt=255&Dt>>>16,St=65535&Dt,!(wt<=gt);){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(zt&&0==(240&zt)){for(Ct=wt,Et=zt,It=St;Dt=lt.lencode[It+((ft&(1<<Ct+Et)-1)>>Ct)],wt=Dt>>>24,zt=255&Dt>>>16,St=65535&Dt,!(Ct+wt<=gt);){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}ft>>>=Ct,gt-=Ct,lt.back+=Ct}if(ft>>>=wt,gt-=wt,lt.back+=wt,lt.length=St,0===zt){lt.mode=Ve;break}if(32&zt){lt.back=-1,lt.mode=Fe;break}if(64&zt){ot.msg="invalid literal/length code",lt.mode=$e;break}lt.extra=15&zt,lt.mode=Ge;case Ge:if(lt.extra){for(Rt=lt.extra;gt<Rt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.length+=ft&(1<<lt.extra)-1,ft>>>=lt.extra,gt-=lt.extra,lt.back+=lt.extra}lt.was=lt.length,lt.mode=Ke;case Ke:for(;Dt=lt.distcode[ft&(1<<lt.distbits)-1],wt=Dt>>>24,zt=255&Dt>>>16,St=65535&Dt,!(wt<=gt);){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(0==(240&zt)){for(Ct=wt,Et=zt,It=St;Dt=lt.distcode[It+((ft&(1<<Ct+Et)-1)>>Ct)],wt=Dt>>>24,zt=255&Dt>>>16,St=65535&Dt,!(Ct+wt<=gt);){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}ft>>>=Ct,gt-=Ct,lt.back+=Ct}if(ft>>>=wt,gt-=wt,lt.back+=wt,64&zt){ot.msg="invalid distance code",lt.mode=$e;break}lt.offset=St,lt.extra=15&zt,lt.mode=Ye;case Ye:if(lt.extra){for(Rt=lt.extra;gt<Rt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}lt.offset+=ft&(1<<lt.extra)-1,ft>>>=lt.extra,gt-=lt.extra,lt.back+=lt.extra}if(lt.offset>lt.dmax){ot.msg="invalid distance too far back",lt.mode=$e;break}lt.mode=Xe;case Xe:if(0===_t)break a;if(kt=yt-_t,lt.offset>kt){if(kt=lt.offset-kt,kt>lt.whave&&lt.sane){ot.msg="invalid distance too far back",lt.mode=$e;break}kt>lt.wnext?(kt-=lt.wnext,xt=lt.wsize-kt):xt=lt.wnext-kt,kt>lt.length&&(kt=lt.length),vt=lt.window}else vt=pt,xt=ht-lt.offset,kt=lt.length;kt>_t&&(kt=_t),_t-=kt,lt.length-=kt;do pt[ht++]=vt[xt++];while(--kt);0===lt.length&&(lt.mode=He);break;case Ve:if(0===_t)break a;pt[ht++]=lt.length,_t--,lt.mode=He;break;case Je:if(lt.wrap){for(;32>gt;){if(0===mt)break a;mt--,ft|=ct[ut++]<<gt,gt+=8}if(yt-=_t,ot.total_out+=yt,lt.total+=yt,yt&&(ot.adler=lt.check=lt.flags?oe(lt.check,pt,yt,ht-yt):ie(lt.check,pt,yt,ht-yt)),yt=_t,(lt.flags?ft:d(ft))!==lt.check){ot.msg="incorrect data check",lt.mode=$e;break}ft=0,gt=0}lt.mode=qe;case qe:if(lt.wrap&&lt.flags){for(;32>gt;){if(0===mt)break a;mt--,ft+=ct[ut++]<<gt,gt+=8}if(ft!==(4294967295&lt.total)){ot.msg="incorrect length check",lt.mode=$e;break}ft=0,gt=0}lt.mode=Qe;case Qe:At=1;break a;case $e:At=ke;break a;case et:return xe;case 32:default:return ye;}return ot.next_out=ht,ot.avail_out=_t,ot.next_in=ut,ot.avail_in=mt,lt.hold=ft,lt.bits=gt,(lt.wsize||yt!==ot.avail_out&&lt.mode<$e&&(lt.mode<Je||dt!==he))&&l(ot,ot.output,ot.next_out,yt-ot.avail_out)?(lt.mode=et,xe):(bt-=ot.avail_in,yt-=ot.avail_out,ot.total_in+=bt,ot.total_out+=yt,lt.total+=yt,lt.wrap&&yt&&(ot.adler=lt.check=lt.flags?oe(lt.check,pt,yt,ot.next_out-yt):ie(lt.check,pt,yt,ot.next_out-yt)),ot.data_type=lt.bits+(lt.last?64:0)+(lt.mode===Fe?128:0)+(lt.mode===Me||lt.mode===je?256:0),(0===bt&&0===yt||dt===he)&&At===fe&&(At=-5),At)},re.inflateEnd=function(ot){if(!ot||!ot.state)return ye;var dt=ot.state;return dt.window&&(dt.window=null),ot.state=null,fe},re.inflateGetHeader=function(ot,dt){var lt;return ot&&ot.state?(lt=ot.state,0==(2&lt.wrap)?ye:(lt.head=dt,dt.done=!1,fe)):ye},re.inflateSetDictionary=function(ot,dt){var lt,ct,pt,ut=dt.length;return ot&&ot.state?(lt=ot.state,0!==lt.wrap&&lt.mode!==Te?ye:lt.mode===Te&&(ct=1,ct=ie(ct,dt,ut,0),ct!==lt.check)?ke:(pt=l(ot,dt,ut,ut))?(lt.mode=et,xe):(lt.havedict=1,fe)):ye},re.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(ee,te){"use strict";var ae=ee("../utils/common"),ne=15,se=852,ie=592,oe=0,de=1,le=2,ce=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],pe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],he=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];te.exports=function(me,_e,fe,ge,be,ye,ke,xe){var ve,we,ze,Se,Ce,Ee,Ie,Oe,Ae,Be=xe.bits,Re=0,De=0,Te=0,Fe=0,Ne=0,Pe=0,je=0,Le=0,Ue=0,We=0,Ze=null,Me=0,He=new ae.Buf16(ne+1),Ge=new ae.Buf16(ne+1),Ke=null,Ye=0;for(Re=0;Re<=ne;Re++)He[Re]=0;for(De=0;De<ge;De++)He[_e[fe+De]]++;for(Ne=Be,Fe=ne;1<=Fe&&0===He[Fe];Fe--);if(Ne>Fe&&(Ne=Fe),0==Fe)return be[ye++]=20971520,be[ye++]=20971520,xe.bits=1,0;for(Te=1;Te<Fe&&0===He[Te];Te++);for(Ne<Te&&(Ne=Te),Le=1,Re=1;Re<=ne;Re++)if(Le<<=1,Le-=He[Re],0>Le)return-1;if(0<Le&&(me===oe||1!=Fe))return-1;for(Ge[1]=0,Re=1;Re<ne;Re++)Ge[Re+1]=Ge[Re]+He[Re];for(De=0;De<ge;De++)0!==_e[fe+De]&&(ke[Ge[_e[fe+De]]++]=De);if(me===oe?(Ze=Ke=ke,Ee=19):me===de?(Ze=ce,Me-=257,Ke=pe,Ye-=257,Ee=256):(Ze=ue,Ke=he,Ee=-1),We=0,De=0,Re=Te,Ce=ye,Pe=Ne,je=0,ze=-1,Ue=1<<Ne,Se=Ue-1,me===de&&Ue>se||me===le&&Ue>ie)return 1;for(var Xe=0;;){Xe++,Ie=Re-je,ke[De]<Ee?(Oe=0,Ae=ke[De]):ke[De]>Ee?(Oe=Ke[Ye+ke[De]],Ae=Ze[Me+ke[De]]):(Oe=96,Ae=0),ve=1<<Re-je,we=1<<Pe,Te=we;do we-=ve,be[Ce+(We>>je)+we]=0|(Ie<<24|Oe<<16|Ae);while(0!==we);for(ve=1<<Re-1;We&ve;)ve>>=1;if(0===ve?We=0:(We&=ve-1,We+=ve),De++,0==--He[Re]){if(Re==Fe)break;Re=_e[fe+ke[De]]}if(Re>Ne&&(We&Se)!==ze){for(0==je&&(je=Ne),Ce+=Te,Pe=Re-je,Le=1<<Pe;Pe+je<Fe&&(Le-=He[Pe+je],!(0>=Le));)Pe++,Le<<=1;if(Ue+=1<<Pe,me===de&&Ue>se||me===le&&Ue>ie)return 1;ze=We&Se,be[ze]=0|(Ne<<24|Pe<<16|Ce-ye)}}return 0!=We&&(be[Ce+We]=0|(Re-je<<24|4194304)),xe.bits=Ne,0}},{"../utils/common":62}],72:[function(ee,te){"use strict";te.exports={0:"",1:"stream end",2:"need dictionary","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(ee,te,re){"use strict";function d(We){for(var Ze=We.length;0<=--Ze;)We[Ze]=0}function e(We,Ze,Me,He,Ge){this.static_tree=We,this.extra_bits=Ze,this.extra_base=Me,this.elems=He,this.max_length=Ge,this.has_stree=We&&We.length}function f(We,Ze){this.dyn_tree=We,this.max_code=0,this.stat_desc=Ze}function g(We){return 256>We?De[We]:De[256+(We>>>7)]}function h(We,Ze){We.pending_buf[We.pending++]=255&Ze,We.pending_buf[We.pending++]=255&Ze>>>8}function i(We,Ze,Me){We.bi_valid>ke-Me?(We.bi_buf|=65535&Ze<<We.bi_valid,h(We,We.bi_buf),We.bi_buf=Ze>>ke-We.bi_valid,We.bi_valid+=Me-ke):(We.bi_buf|=65535&Ze<<We.bi_valid,We.bi_valid+=Me)}function j(We,Ze,Me){i(We,Me[2*Ze],Me[2*Ze+1])}function k(We,Ze){var Me=0;do Me|=1&We,We>>>=1,Me<<=1;while(0<--Ze);return Me>>>1}function l(We){16===We.bi_valid?(h(We,We.bi_buf),We.bi_buf=0,We.bi_valid=0):8<=We.bi_valid&&(We.pending_buf[We.pending++]=255&We.bi_buf,We.bi_buf>>=8,We.bi_valid-=8)}function m(We,Ze){var Me,He,Ge,Ke,Ye,Xe,Ve=Ze.dyn_tree,Je=Ze.max_code,qe=Ze.stat_desc.static_tree,Qe=Ze.stat_desc.has_stree,$e=Ze.stat_desc.extra_bits,et=Ze.stat_desc.extra_base,tt=Ze.stat_desc.max_length,rt=0;for(Ke=0;Ke<=ye;Ke++)We.bl_count[Ke]=0;for(Ve[2*We.heap[We.heap_max]+1]=0,Me=We.heap_max+1;Me<be;Me++)He=We.heap[Me],Ke=Ve[2*Ve[2*He+1]+1]+1,Ke>tt&&(Ke=tt,rt++),Ve[2*He+1]=Ke,He>Je||(We.bl_count[Ke]++,Ye=0,He>=et&&(Ye=$e[He-et]),Xe=Ve[2*He],We.opt_len+=Xe*(Ke+Ye),Qe&&(We.static_len+=Xe*(qe[2*He+1]+Ye)));if(0!=rt){do{for(Ke=tt-1;0===We.bl_count[Ke];)Ke--;We.bl_count[Ke]--,We.bl_count[Ke+1]+=2,We.bl_count[tt]--,rt-=2}while(0<rt);for(Ke=tt;0!==Ke;Ke--)for(He=We.bl_count[Ke];0!==He;)Ge=We.heap[--Me],Ge>Je||(Ve[2*Ge+1]!==Ke&&(We.opt_len+=(Ke-Ve[2*Ge+1])*Ve[2*Ge],Ve[2*Ge+1]=Ke),He--)}}function n(We,Ze,Me){var He,Ge,Ke=Array(ye+1),Ye=0;for(He=1;He<=ye;He++)Ke[He]=Ye=Ye+Me[He-1]<<1;for(Ge=0;Ge<=Ze;Ge++){var Xe=We[2*Ge+1];0!==Xe&&(We[2*Ge]=k(Ke[Xe]++,Xe))}}function o(){var We,Ze,Me,He,Ge,Ke=Array(ye+1);for(Me=0,He=0;He<he-1;He++)for(Fe[He]=Me,We=0;We<1<<Ce[He];We++)Te[Me++]=He;for(Te[Me-1]=He,Ge=0,He=0;16>He;He++)for(Ne[He]=Ge,We=0;We<1<<Ee[He];We++)De[Ge++]=He;for(Ge>>=7;He<fe;He++)for(Ne[He]=Ge<<7,We=0;We<1<<Ee[He]-7;We++)De[256+Ge++]=He;for(Ze=0;Ze<=ye;Ze++)Ke[Ze]=0;for(We=0;143>=We;)Be[2*We+1]=8,We++,Ke[8]++;for(;255>=We;)Be[2*We+1]=9,We++,Ke[9]++;for(;279>=We;)Be[2*We+1]=7,We++,Ke[7]++;for(;287>=We;)Be[2*We+1]=8,We++,Ke[8]++;for(n(Be,_e+1,Ke),We=0;We<fe;We++)Re[2*We+1]=5,Re[2*We]=k(We,5);Pe=new e(Be,Ce,me+1,_e,ye),je=new e(Re,Ee,0,fe,ye),Le=new e([],Ie,0,ge,xe)}function p(We){var Ze;for(Ze=0;Ze<_e;Ze++)We.dyn_ltree[2*Ze]=0;for(Ze=0;Ze<fe;Ze++)We.dyn_dtree[2*Ze]=0;for(Ze=0;Ze<ge;Ze++)We.bl_tree[2*Ze]=0;We.dyn_ltree[2*ve]=1,We.opt_len=We.static_len=0,We.last_lit=We.matches=0}function q(We){8<We.bi_valid?h(We,We.bi_buf):0<We.bi_valid&&(We.pending_buf[We.pending++]=We.bi_buf),We.bi_buf=0,We.bi_valid=0}function r(We,Ze,Me,He){q(We),He&&(h(We,Me),h(We,~Me)),ae.arraySet(We.pending_buf,We.window,Ze,Me,We.pending),We.pending+=Me}function s(We,Ze,Me,He){var Ge=2*Ze,Ke=2*Me;return We[Ge]<We[Ke]||We[Ge]===We[Ke]&&He[Ze]<=He[Me]}function t(We,Ze,Me){for(var He=We.heap[Me],Ge=Me<<1;Ge<=We.heap_len&&(Ge<We.heap_len&&s(Ze,We.heap[Ge+1],We.heap[Ge],We.depth)&&Ge++,!s(Ze,He,We.heap[Ge],We.depth));)We.heap[Me]=We.heap[Ge],Me=Ge,Ge<<=1;We.heap[Me]=He}function u(We,Ze,Me){var He,Ge,Ke,Ye,Xe=0;if(0!==We.last_lit)do He=We.pending_buf[We.d_buf+2*Xe]<<8|We.pending_buf[We.d_buf+2*Xe+1],Ge=We.pending_buf[We.l_buf+Xe],Xe++,0===He?j(We,Ge,Ze):(Ke=Te[Ge],j(We,Ke+me+1,Ze),Ye=Ce[Ke],0!==Ye&&(Ge-=Fe[Ke],i(We,Ge,Ye)),He--,Ke=g(He),j(We,Ke,Me),Ye=Ee[Ke],0!==Ye&&(He-=Ne[Ke],i(We,He,Ye)));while(Xe<We.last_lit);j(We,ve,Ze)}function v(We,Ze){var Me,He,Ge,Ke=Ze.dyn_tree,Ye=Ze.stat_desc.static_tree,Xe=Ze.stat_desc.has_stree,Ve=Ze.stat_desc.elems,Je=-1;for(We.heap_len=0,We.heap_max=be,Me=0;Me<Ve;Me++)0===Ke[2*Me]?Ke[2*Me+1]=0:(We.heap[++We.heap_len]=Je=Me,We.depth[Me]=0);for(;2>We.heap_len;)Ge=We.heap[++We.heap_len]=2>Je?++Je:0,Ke[2*Ge]=1,We.depth[Ge]=0,We.opt_len--,Xe&&(We.static_len-=Ye[2*Ge+1]);for(Ze.max_code=Je,Me=We.heap_len>>1;1<=Me;Me--)t(We,Ke,Me);Ge=Ve;do Me=We.heap[1],We.heap[1]=We.heap[We.heap_len--],t(We,Ke,1),He=We.heap[1],We.heap[--We.heap_max]=Me,We.heap[--We.heap_max]=He,Ke[2*Ge]=Ke[2*Me]+Ke[2*He],We.depth[Ge]=(We.depth[Me]>=We.depth[He]?We.depth[Me]:We.depth[He])+1,Ke[2*Me+1]=Ke[2*He+1]=Ge,We.heap[1]=Ge++,t(We,Ke,1);while(2<=We.heap_len);We.heap[--We.heap_max]=We.heap[1],m(We,Ze),n(Ke,Je,We.bl_count)}function w(We,Ze,Me){var He,Ge,Ke=-1,Ye=Ze[1],Xe=0,Ve=7,Je=4;for(0===Ye&&(Ve=138,Je=3),Ze[2*(Me+1)+1]=65535,He=0;He<=Me;He++)Ge=Ye,Ye=Ze[2*(He+1)+1],++Xe<Ve&&Ge===Ye||(Xe<Je?We.bl_tree[2*Ge]+=Xe:0===Ge?10>=Xe?We.bl_tree[2*ze]++:We.bl_tree[2*Se]++:(Ge!=Ke&&We.bl_tree[2*Ge]++,We.bl_tree[2*we]++),Xe=0,Ke=Ge,0===Ye?(Ve=138,Je=3):Ge===Ye?(Ve=6,Je=3):(Ve=7,Je=4))}function x(We,Ze,Me){var He,Ge,Ke=-1,Ye=Ze[1],Xe=0,Ve=7,Je=4;for(0===Ye&&(Ve=138,Je=3),He=0;He<=Me;He++)if(Ge=Ye,Ye=Ze[2*(He+1)+1],!(++Xe<Ve&&Ge===Ye)){if(Xe<Je)do j(We,Ge,We.bl_tree);while(0!=--Xe);else 0===Ge?10>=Xe?(j(We,ze,We.bl_tree),i(We,Xe-3,3)):(j(We,Se,We.bl_tree),i(We,Xe-11,7)):(Ge!=Ke&&(j(We,Ge,We.bl_tree),Xe--),j(We,we,We.bl_tree),i(We,Xe-3,2));Xe=0,Ke=Ge,0===Ye?(Ve=138,Je=3):Ge===Ye?(Ve=6,Je=3):(Ve=7,Je=4)}}function y(We){var Ze;for(w(We,We.dyn_ltree,We.l_desc.max_code),w(We,We.dyn_dtree,We.d_desc.max_code),v(We,We.bl_desc),Ze=ge-1;3<=Ze&&0===We.bl_tree[2*Oe[Ze]+1];Ze--);return We.opt_len+=3*(Ze+1)+5+5+4,Ze}function z(We,Ze,Me,He){var Ge;for(i(We,Ze-257,5),i(We,Me-1,5),i(We,He-4,4),Ge=0;Ge<He;Ge++)i(We,We.bl_tree[2*Oe[Ge]+1],3);x(We,We.dyn_ltree,Ze-1),x(We,We.dyn_dtree,Me-1)}function A(We){var Ze,Me=4093624447;for(Ze=0;31>=Ze;Ze++,Me>>>=1)if(1&Me&&0!==We.dyn_ltree[2*Ze])return se;if(0!==We.dyn_ltree[18]||0!==We.dyn_ltree[20]||0!==We.dyn_ltree[26])return ie;for(Ze=32;Ze<me;Ze++)if(0!==We.dyn_ltree[2*Ze])return ie;return se}function C(We,Ze,Me,He){i(We,(de<<1)+(He?1:0),3),r(We,Ze,Me,!0)}var ae=ee("../utils/common"),se=0,ie=1,de=0,le=1,he=29,me=256,_e=me+1+he,fe=30,ge=19,be=2*_e+1,ye=15,ke=16,xe=7,ve=256,we=16,ze=17,Se=18,Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Be=Array(2*(_e+2));d(Be);var Re=Array(2*fe);d(Re);var De=Array(512);d(De);var Te=Array(258-3+1);d(Te);var Fe=Array(he);d(Fe);var Ne=Array(fe);d(Ne);var Pe,je,Le,Ue=!1;re._tr_init=function(We){Ue||(o(),Ue=!0),We.l_desc=new f(We.dyn_ltree,Pe),We.d_desc=new f(We.dyn_dtree,je),We.bl_desc=new f(We.bl_tree,Le),We.bi_buf=0,We.bi_valid=0,p(We)},re._tr_stored_block=C,re._tr_flush_block=function(We,Ze,Me,He){var Ge,Ke,Ye=0;0<We.level?(We.strm.data_type===2&&(We.strm.data_type=A(We)),v(We,We.l_desc),v(We,We.d_desc),Ye=y(We),Ge=We.opt_len+3+7>>>3,Ke=We.static_len+3+7>>>3,Ke<=Ge&&(Ge=Ke)):Ge=Ke=Me+5,Me+4<=Ge&&-1!==Ze?C(We,Ze,Me,He):We.strategy===4||Ke===Ge?(i(We,(le<<1)+(He?1:0),3),u(We,Be,Re)):(i(We,(2<<1)+(He?1:0),3),z(We,We.l_desc.max_code+1,We.d_desc.max_code+1,Ye+1),u(We,We.dyn_ltree,We.dyn_dtree)),p(We),He&&q(We)},re._tr_tally=function(We,Ze,Me){return We.pending_buf[We.d_buf+2*We.last_lit]=255&Ze>>>8,We.pending_buf[We.d_buf+2*We.last_lit+1]=255&Ze,We.pending_buf[We.l_buf+We.last_lit]=255&Me,We.last_lit++,0===Ze?We.dyn_ltree[2*Me]++:(We.matches++,Ze--,We.dyn_ltree[2*(Te[Me]+me+1)]++,We.dyn_dtree[2*g(Ze)]++),We.last_lit===We.lit_bufsize-1},re._tr_align=function(We){i(We,le<<1,3),j(We,ve,Be),l(We)}},{"../utils/common":62}],74:[function(ee,te){"use strict";te.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)});
"use strict";var Framework=function(a){const b="Method Not Implemented";return a.AttachableInterface=class{load(){throw new b}update(){throw new b}draw(){throw new b}},a}(Framework||{});
"use strict";var Framework=function(a){return a.KeyboardEventInterface=class{keydown(){}keyup(){}},a}(Framework||{});
"use strict";var Framework=function(a){return a.MouseEventInterface=class{click(){}mousedown(){}mouseup(){}mousemove(){}},a}(Framework||{});
'use strict';var Framework=function(a){return window._isTestMode=!1,window._isRecordMode=!1,a.Config={fps:30,canvasWidth:794,canvasHeight:520,isBackwardCompatiable:!1,isOptimize:!1,isMouseMoveRecorded:!1},Object.freeze(a.Config),a}(Framework||{});
var Framework=function(a){'use strict';return a.Record=function(){this.record=[],this.waitCounter=0,this.recordDiv,this.isRecording=!1,this.isPause=!1,this.inputCommand=function(c){this.recordWait(),this.record.push(c),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>')},this.start=function(){if(this.waitCounter=0,!1===this.isRecording){this.isRecording=!0,this.isPause=!1;this.addDivString('QUnit.asyncTest( "Test Script", function( assert ) {<br>')}else this.isPause&&(this.isPause=!1)},this.pause=function(){this.isRecording&&(this.recordWait(),this.isPause=!0)},this.stop=function(){this.isRecording&&(this.isRecording=!1,this.isPause=!1,this.addDivString('});<br>'))},this.addDivString=function(c){document.getElementById('record_div').innerHTML+=c},this.update=function(){this.waitCounter++},this.click=function(c){this.recordWait(),this.record.push('Framework.Replay.mouseClick('+c.x+','+c.y+');'),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>'),this.scrollToBottom()},this.mousedown=function(){this.recordWait()},this.mouseup=function(){this.recordWait()},this.mousemove=function(c){this.recordWait(),this.record.push('Framework.Replay.mouseMove('+c.x+','+c.y+');'),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>'),this.scrollToBottom()},this.keydown=function(c){this.recordWait(),this.record.push('Framework.Replay.keyDown(\''+c.key+'\');'),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>'),this.scrollToBottom()},this.keyup=function(c){this.recordWait(),this.record.push('Framework.Replay.keyUp(\''+c.key+'\');'),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>'),this.scrollToBottom()},this.keypress=function(){this.recordWait()},this.recordWait=function(){0<this.waitCounter&&(this.waitCounter++,this.record.push('Framework.Replay.waitFor('+this.waitCounter+');'),this.addDivString('&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[this.record.length-1]+'<br>'),this.waitCounter=0)},this.CallFunction=function(c,d){c.SetRecordData(d)};var b=this;this.save=function(){for(var c='QUnit.asyncTest( "Test Script", function( assert ) {<br>',d=0;d<this.record.length;d++)c+='&nbsp;&nbsp;&nbsp;&nbsp;'+this.record[d]+'<br>';c+='});<br>';var f=window.open('record.html','form2','_blank','');setTimeout(function(){b.CallFunction(f,c)},1e3)},this.InsertCommand=function(c){this.recordWait(),this.record.push(c)},this.scrollToBottom=function(){document.getElementById('record_div').scrollTop=document.getElementById('record_div').scrollHeight}},a}(Framework||{});
'use strict';var Framework=function(Framework){return Framework.Replay=function(){var _pollingFunction,_waitingCondition,_cycleCount=0,_replayList=[],ReplayClass={},ReplayInstance={},_start=!1,_isWaiting=!1,_waitingCounter=0,_isReady=!1,_isTestEnd=!1,_isContinue=!1,_waitForTimeoutSecond=30,_waitForTimeout=600,GREEN_LOG='color: #6cbd45',_qUnitStarting=!0,replayItem=function(){this.replayFunction,this.infoString,this.failString,this.x,this.y,this.isDone=!1,this.execute=function(){try{this.replayFunction()}catch(a){}this.isDone=!0}},setGameReady=function(){useGoToLevel?(useGoToLevel=!1,ready()):(startQunit(),ready())},ready=function(){void 0,_isReady=!0,_isTestEnd=!1,Framework.Game.resume()},assertionItem=function(){this.targetValue,this.assertValue,this.infoString,this.failString,this.delta,this.execute=function(){var a;Framework.Util.isUndefined(this.delta)&&(this.delta=0),a=Framework.Util.isNumber(this.assertValue)?this.assertValue-this.delta<=evaluate(this.targetValue)&&evaluate(this.targetValue)<=this.assertValue+this.delta:this.assertValue===evaluate(this.targetValue);var b;a?(b='Passed!',QUnit.assert.ok(a,b)):(b='Assert Fail! targetValue: '+evaluate(this.targetValue)+', assertValue: '+this.assertValue,b+='\nFail at '+this.infoString,QUnit.assert.ok(a,b))}},stopReplay=function(){_cycleCount=0,_replayList=[],_isReady=!1,_isTestEnd=!0,Framework.Game.pause(),void 0,void 0},hasExecuteCommand=!1,update=function(){_isReady&&(_cycleCount++,!1==_isWaiting?0<_replayList.length?(hasExecuteCommand=!0,executeCommend()):!_isTestEnd&&hasExecuteCommand&&(void 0,void 0,_isTestEnd=!0,hasExecuteCommand=!1,QUnit.start()):waitLoop())},resetCycleCount=function(){_cycleCount=0},getCycleCount=function(){return _cycleCount},pause=function(){var a=new replayItem;a.replayFunction=function(){Framework.Game.pause()},_replayList.push(a)},resume=function(){var a=new replayItem;a.replayFunction=function(){Framework.Game.resume()},_replayList.push(a)},assertEqual=function(a,b,c){var d=new assertionItem,f=new Error().stack,g=f.split('    at ')[2].split('(')[1].replace(')','');d.infoString=g,d.targetValue=a,d.assertValue=b,d.delta=c,_replayList.push(d)},evaluate=function(objectString){return eval('Framework.Game._currentLevel.'+objectString)},executeCommend=function(){for(;0<_replayList.length&&!1==_isWaiting&&!0==_isReady&&!1==Framework.Game.isContinue;)_replayList[0].execute(),_replayList.shift()},waitFor=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){!1===Framework.Util.isNumber(a)&&a.setInfoString(d),_waitForTimeout=_waitForTimeoutSecond*Framework.Game.getUpdateFPS(),_waitingCounter=1,_isWaiting=!0,_waitingCondition=a},_replayList.push(b)},waitLoop=function(){if(_waitingCounter++,Framework.Util.isNumber(_waitingCondition)?_waitingCounter>=_waitingCondition&&(_isWaiting=!1,executeCommend()):_waitingCondition.isFitCondition()&&(_isWaiting=!1,executeCommend()),_waitingCounter>_waitForTimeout){var a='Wait For Timeout'+_waitingCondition;!1===Framework.Util.isNumber(_waitingCondition)&&(a+='\nFail at '+_waitingCondition.getInfoString()),QUnit.assert.ok(!1,a),Framework.Game.pause()}},mouseClick=function(a,b){var c=new replayItem,d=new Error().stack,f=d.split('    at ')[2].split('(')[1].replace(')','');c.infoString=f,c.replayFunction=function(){var g={x:0,y:0};g.x=a,g.y=b,Framework.Game.click(g)},_replayList.push(c)},mouseDown=function(a,b){var c=new replayItem,d=new Error().stack,f=d.split('    at ')[2].split('(')[1].replace(')','');c.infoString=f,c.replayFunction=function(){var g={x:0,y:0};g.x=a,g.y=b,Framework.Game.mousedown(g)},_replayList.push(c)},mouseClickProperty=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){var f={x:0,y:0};f.x=evaluate(a).x,f.y=evaluate(a).y,Framework.Game.click(f)},_replayList.push(b)},mouseClickObject=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){var f={x:0,y:0};f.x=evaluate(a).position.x,f.y=evaluate(a).position.y,Framework.Game.click(f)},_replayList.push(b)},mouseMove=function(a,b){var c=new replayItem,d=new Error().stack,f=d.split('    at ')[2].split('(')[1].replace(')','');c.infoString=f,c.replayFunction=function(){var g={x:0,y:0};g.x=a,g.y=b,Framework.Game.mousemove(g)},_replayList.push(c)},keyDown=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){Framework.Game.keydown({key:a})},_replayList.push(b)},keyUp=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){Framework.Game.keyup({key:a})},_replayList.push(b)},keyPress=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){Framework.Game.keypress({key:a})},_replayList.push(b)},keyPressAndWait=function(a,b){var c=new replayItem,d=new Error().stack,f=d.split('    at ')[2].split('(')[1].replace(')','');c.infoString=f,c.replayFunction=function(){var g={key:a};keyDown(g),waitFor(b),keyUp(g)},_replayList.push(c)},startQunit=function(){_qUnitStarting||(_qUnitStarting=!0,QUnit.start())},stopQunit=function(){_qUnitStarting&&(_qUnitStarting=!1,QUnit.stop())},start=function(){stopQunit(),Framework.Game._isTestReady=!0,Framework.Game._currentLevel=null,Framework.Game.start(),void 0},stop=function(){Framework.Game.stop(),void 0},useGoToLevel=!1,goToLevel=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){_isReady=!1,useGoToLevel=!0,Framework.Game.goToLevel(a)},_replayList.push(b)},executeFunction=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){evaluate(a)},_replayList.push(b)},setFPS=function(a){var b=new replayItem,c=new Error().stack,d=c.split('    at ')[2].split('(')[1].replace(')','');b.infoString=d,b.replayFunction=function(){Framework.Game.setUpdateFPS(a),Framework.Game.setDrawFPS(a)},_replayList.push(b)},resetFPS=function(){var a=new replayItem,b=new Error().stack,c=b.split('    at ')[2].split('(')[1].replace(')','');a.infoString=c,a.replayFunction=function(){Framework.Game.setUpdateFPS(Framework.Game._config.fps),Framework.Game.setDrawFPS(Framework.Game._config.fps)},_replayList.push(a)};return ReplayClass=function(){},ReplayClass.prototype={update:update,resetCycleCount:resetCycleCount,getCycleCount:getCycleCount,pause:pause,waitFor:waitFor,assertEqual:assertEqual,evaluate:evaluate,mouseClick:mouseClick,mouseDown:mouseDown,mouseClickObject:mouseClickObject,mouseClickProperty:mouseClickProperty,mouseMove:mouseMove,keyDown:keyDown,keyUp:keyUp,keyPress:keyPress,keyPressAndWait:keyPressAndWait,ready:ready,setGameReady:setGameReady,start:start,stop:stop,goToLevel:goToLevel,executeFunction:executeFunction,setFPS:setFPS,resetFPS:resetFPS,replayList:_replayList},ReplayInstance=new ReplayClass,ReplayInstance}(),Framework}(Framework||{});
'use strict';var Framework=function(a){var b=function(){},e=function(s){return'undefined'==typeof s};return b.prototype={isUndefined:e,isNull:function(s){return null===s},isFunction:function(s){return'function'==typeof s},isNumber:function(s){return'number'==typeof s},isObject:function(s){return'object'==typeof s},isBoolean:function(s){return'boolean'==typeof s},isString:function(s){return'string'==typeof s},isCanvas:function(s){return!e(s.tagName)&&'CANVAS'===s.tagName},namespace:function(s){var v,t=s.split('.'),u=a;for('Framework'===t[0]&&(t=t.slice(1)),v=0;v<t.length;v+=1)e(u[t[v]])&&(u[t[v]]={}),u=u[t[v]];return t},overrideProperty:function(s,t){for(var u in s)e(t[u])&&(t[u]=s[u]);return t},isAbout:function(s,t,u){return s<t+u&&s>t-u},findValueByKey:function(s,t){for(var u=0,v=s.length;u<v;u++)if(s[u].name===t)return s[u];return null}},a.Util=new b,a}(Framework||{});Framework.Util.isUndefined(Date.prototype.format)&&(Date.prototype.format=function(a){var b={'M+':this.getMonth()+1,'d+':this.getDate(),'h+':this.getHours(),'m+':this.getMinutes(),'s+':this.getSeconds(),'q+':Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var c in /(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+'').substr(4-RegExp.$1.length))),b)new RegExp('('+c+')').test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:('00'+b[c]).substr((''+b[c]).length)));return a});
var Framework=function(a){'use strict';return a.DebugInfo=function(){var d={},e=document.createElement('div');e.style.width='500px',e.style.height='200px',e.style.backgroundColor='#f0f0f0',e.style.position='absolute',e.style.top='10px',e.style.border='1px solid #000',e.style.right='10px',e.style.zIndex='99999',e.style.overflowY='scroll';var f=function(g,h){var i=document.createElement('p');i.style.margin='0',i.style.minWidth='600px',i.style.padding='2px 0 2px 5px';var j=document.createTextNode('['+new Date().format('hh:mm:ss')+'] ['+g+'] '+h);return i.appendChild(j),e.appendChild(i),e.scrollTop=e.scrollHeight,i};return d.Log={},d.Log.info=function(g){f('Info',g).style.backgroundColor='#80ffff'},d.Log.error=function(g){f('Error',g).style.backgroundColor='#ff8080'},d.Log.warning=function(g){f('Warning',g).style.backgroundColor='#ffff80'},d.Log.console=function(){},d.show=function(g){e.style.visibility='visible',e.style.width='500px',e.style.height='200px',e.style.border='1px solid #000';var h=g||document.body;h.appendChild(e)},d.hide=function(){var h='0px';e.style.visibility='hidden',e.style.border=h,e.style.width=h,e.style.height=h},d}(),a}(Framework||{});
'use strict';var Framework=function(a){return a.Point=class b{constructor(c,d){this._x=floatval(c),this._y=floatval(d)}writeTo(c){if(c instanceof b)c.x=this.x,c.y=this.y;else throw new ReferenceError('Target is not an instance of Point')}get first(){return this._x}get second(){return this._y}get x(){return this._x}get isZero(){return 0===this._x&&this._x===this._y}set x(c){this._x=floatval(c)}clone(){return new b(this.x,this.y)}offset(c,d){return this.x+=floatval(c),this.y+=floatval(d),this}get y(){return this._y}set y(c){this._y=floatval(c)}toString(){return`(${this._x}, ${this._y})`}},a}(Framework||{});
'use strict';var Framework=function(a){const b=a.Point;return a.Point3D=class c extends b{constructor(d,e,f){super(d,e),this._z=floatval(f)||0}writeTo(d){if(super.writeTo(d),d instanceof c)d.z=this.z;else throw new ReferenceError('Target is not an instance of Point3D')}get z(){return isNaN(this._z)&&(this._z=0),this._z}set z(d){this._z=floatval(d)}clone(){return new c(this._x,this._y,this._z)}get isZero(){return 0===this._x&&this._x===this._y&&this._x===this._z}offset(d,e,f){return this.x+=floatval(d),this.y+=floatval(e),this.z+=floatval(f),this}toString(){return`(${this._x}, ${this._y}, ${this._z})`}},a}(Framework||{});
'use strict';var Framework=function(a){const b=a.Point3D;a.GameObject=class{constructor(){this.relativePosition=new b(0,0,0),this.relativeRotation=0,this.relativeScale=1,this.absolutePosition=new b(0,0,0),this.absoluteRotation=0,this.absoluteScale=1,this.systemLayer=1,this.previousAbsolutePosition=new b(0,0,0),this.previousWidth=0,this.previousHeight=0,this.rotation=0,this.scale=1,this.position=new b(0,0,0),this._isRotate=!0,this._isScale=!0,this._isMove=!0,this._changeFrame=!0,this._isCountAbsolute=!1,this.spriteParent=void 0}clearDirtyFlag(){this._isRotate=!1,this._isScale=!1,this._isMove=!1,this._changeFrame=!1}pushSelfToLevel(){a.Game._pushGameObj(this)}countAbsoluteProperty(){var e,f=0,g=1,h=0,i=0;this.previousAbsolutePosition.x=this.absolutePosition.x,this.previousAbsolutePosition.y=this.absolutePosition.y,this.previousWidth=this.width,this.previousHeight=this.height,a.Util.isUndefined(this.spriteParent)||(f=this.spriteParent.absoluteRotation,g=this.spriteParent.absoluteScale,h=this.spriteParent.absolutePosition.x,i=this.spriteParent.absolutePosition.y),e=f/180*Math.PI;var j=this.rotation+f,k=this.scale*g,l=Math.floor(this.relativePosition.x*Math.cos(e)-this.relativePosition.y*Math.sin(e))*g+h,m=Math.floor(this.relativePosition.x*Math.sin(e)+this.relativePosition.y*Math.cos(e))*g+i;this.absoluteRotation!==j&&(this._isRotate=!0),this.absoluteScale!==k&&(this._isScale=!0),(this.absolutePosition.x!==l||this.absolutePosition.y!==m)&&(this._isMove=!0),this.absoluteRotation=j,this.absoluteScale=k,this.absolutePosition.x=l,this.absolutePosition.y=m,Array.isArray(this.attachArray)&&this.attachArray.forEach(function(n){a.Util.isUndefined(n.countAbsoluteProperty)||n.countAbsoluteProperty()})}load(){}initialize(){}update(){}draw(){}teardown(){}toString(){return'[GameObject Object]'}get isObjectChanged(){var e=!1;return a.Util.isUndefined(this.attachArray)||this.attachArray.forEach(function(f){f.isObjectChanged&&(e=!0)}),this._isRotate||this._isScale||this._isMove||this._changeFrame||e}get isOnChangedRect(){var e=this.diagonal/2,f={x:this.absolutePosition.x-e,y:this.absolutePosition.y-e,x2:this.absolutePosition.x+e,y2:this.absolutePosition.y+e},g=a.Game._currentLevel._getChangedRect(1600,900);return f.x<g.x2&&f.y<g.y2||f.x2>g.x&&f.y2>g.y||f.x2>g.x&&f.y2<g.y||f.x2<g.x&&f.y2>g.y}get position(){return this.relativePosition}set position(e){this.relativePosition=new b(e.x,e.y,e.z)}get rotation(){return this.relativeRotation}set rotation(e){this.relativeRotation=e}get scale(){return this.relativeScale}set scale(e){this.relativeScale=e}get width(){var e=0;return this.texture&&(e=this.texture.width),Math.floor(e*this.absoluteScale)}get height(){var e=0;return this.texture&&(e=this.texture.height),Math.floor(e*this.absoluteScale)}get diagonal(){return Math.sqrt(this.width*this.width+this.height*this.height)}get upperLeft(){var e=-this.width/2,f=-this.height/2,g=c({x:e,y:f},this.absoluteRotation);return new Point(Math.floor(this.absolutePosition.x+g.x),Math.floor(this.absolutePosition.y+g.y))}get upperRight(){var e=this.width/2,f=-this.height/2,g=c({x:e,y:f},this.absoluteRotation);return new Point(Math.floor(this.absolutePosition.x+g.x),Math.floor(this.absolutePosition.y+g.y))}get lowerLeft(){var e=-this.width/2,f=this.height/2,g=c(new Point(e,f),this.absoluteRotation);return new Point(Math.floor(this.absolutePosition.x+g.x),Math.floor(this.absolutePosition.y+g.y))}get lowerRight(){var e=this.width/2,f=this.height/2,g=c(new Point(e,f),this.absoluteRotation);return new Point(Math.floor(this.absolutePosition.x+g.x),Math.floor(this.absolutePosition.y+g.y))}};const c=function(d,e){var f=e/180*Math.PI,g=Math.cos(f),h=Math.sin(f),i=d.x*g-d.y*h,j=d.x*h+d.y*g;return new a.Point(i,j)};return Object.defineProperty(a.GameObject.prototype,'layer',{set:function(d){this.systemLayer=d,a.Util.isUndefined(this.attachArray)||this.attachArray.forEach(function(e){e.layer=d+1})},get:function(){return this.systemLayer}}),a}(Framework||{});
'use strict';var Framework=function(a){return a.Scene=class extends a.GameObject{constructor(){super(),this.id=void 0,this.type=void 0,this.texture=void 0,this.attachArray=[],this.pushSelfToLevel()}load(){this.attachArray.forEach(function(c){c.load()},this)}initTexture(){this.attachArray.forEach(function(c){a.Util.isUndefined(c.initTexture)||c.initTexture()},this)}update(){this.attachArray.forEach(function(c){c.update()},this)}draw(c){c=c||a.Game._context,this.attachArray.forEach(function(d){d.draw(c)},this)}attach(c){if(a.Util.isUndefined(c))throw'target is undefined.';if(a.Util.isUndefined(c.draw)||a.Util.isUndefined(c.update))throw'target.draw or target.update is undefined.';if(this.layer>c.layer&&c.spriteParent)throw'target is the child of the object which be attached.';this.attachArray.push(c),c.spriteParent=this,c.layer=this.layer+1}detach(c){let d=this.attachArray.indexOf(c);-1<d&&(this.attachArray.splice(d,1),c.spriteParent=void 0,c.layer=1)}toString(){return'[Scene Object]'}},a}(Framework||{});
'use strict';var Framework=function(c){const d=0;return function(){var n,q,f=0,g=0,h=0,i=0,j=0,k=!1,l={},m=function(){},o=new Map,p=new Map,s=function(){return 100*(g/f)},t=function(){return f},u=function(){return g},v=function(G){return'undefined'==typeof G.id&&(G.id=G.url),new Promise((H,I)=>{l[G.id]&&H(l[G.id]);let J=new Image;J.src=G.url,f++,null===j&&(j=setInterval(C,d),E()),J.onload=function(){g++,l[G.id]={url:G.url,response:J},H(l[G.id])},J.onerror=function(K){throw I(K),K}})},w=function(G){G.systemSuccess=function(H){var K=JSON.stringify(H);l[G.id]={url:G.url,response:K},g++},x(G.type,G)},x=function(G,H){var I=I||{};I.type=G||'POST',c.Util.isUndefined(H.data)||(I.data=H.data),c.Util.isUndefined(H.systemSuccess)||(I.success=H.systemSuccess),y(H,I)},y=function(G,H){f++;var I={type:'POST',cache:!1,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',error:function(){},statusCode:{},success:function(){}},H=H||I;H=c.Util.overrideProperty(I,H);var J=new XMLHttpRequest;J.onload=function(){4===J.readyState&&(200===J.status?(l[G.id]={url:G.url,response:J.responseText},H.success(J.responseText,J.statusText,J)):H.error(J,J.statusText))},!H.cache&&c.Util.isUndefined(H.data)&&'GET'===H.type?G.url=G.url+'?'+Math.random():!c.Util.isUndefined(H.data)&&''!==H.data.trim()&&(G.url=G.url+'?'+H.data.trim()),J.open(H.type,G.url,H.async),J.overrideMimeType('text/plain; charset=x-user-defined'),'GET'===H.type?J.send():(J.setRequestHeader('Content-Type',H.contentType),J.send(H.data))},z=function(G){if(c.Util.isUndefined(l[G]))throw'\''+G+'\' is undefined Resource.';return l[G].response},A=function(G){c.Util.isUndefined(l[G])||(l[G].response=null,l[G].url=null,l[G]=null,delete l[G])},B=function(G){m=G},C=function(){k=f!=g||0==f},D=function(){clearInterval(j),j=null},E=function(){C(),k?(h=i,i=setTimeout(function(){E(),clearTimeout(h)},d)):(D(),m(),k=!1)};return c.ResourceManager=n=new class{constructor(G){f=0,g=0,l={},c.Util.isUndefined(G)||(m=G),E()}loadImage(){return v.apply(this,arguments)}loadJSON(){return w.apply(this,arguments)}loadResource(G,H){return f++,fetch(G,H).then(I=>{return E(),g++,I})}loadResourceAsBlob(G){return G=G.replace(/\\/g,'/'),G=G.replace(/\/\//g,'/'),o.has(G)?new Promise(H=>{return H(o.get(G))}):G.startsWith('blob:')?new Promise(H=>{return H(G)}):(f++,fetch(G,{method:'GET'}).then(H=>H.blob()).then(H=>{return E(),g++,o.set(G,URL.createObjectURL(H)),o.get(G)}))}loadResourceAsArrayBuffer(G){if('string'!=typeof G)throw new SyntaxError('U should pass a url to this method');if(G=G.replace(/\\/g,'/'),G=G.replace(/\/\//g,'/'),q){let H=G.replace(/^\.\//ig,'').replace(/^\//ig).replace(/\\/),I=q.file(H);if(I)return I.async('arraybuffer')}return p.has(G)?new Promise(H=>{const J=p.get(G);return H(J.slice(0))}):(f++,fetch(G,{method:'GET'}).then(H=>H.arrayBuffer()).then(H=>{return E(),g++,p.set(G,H),p.get(G).slice(0)}))}destroyResource(){return A.apply(this,arguments)}getResource(){return z.apply(this,arguments)}setSubjectFunction(){return B.apply(this,arguments)}getFinishedRequestPercent(){return s.apply(this,arguments)}getRequestCount(){return t.apply(this,arguments)}getResponseCount(){return u.apply(this,arguments)}loadZip(){lf2.Prefetch.get('RESOURCES').then(G=>q=G).catch(()=>{})}},n}(),c}(Framework||{});
"use strict";var Framework=function(a){return a.Level=class{constructor(){this.rootScene=new a.Scene,this.autoDelete=!0,this._firstDraw=!0,this._allGameElement=[],this.timelist=[],this.updatetimelist=[],this.cycleCount=0,this._forceDraw=!1,this.config=a.Config}_traversalAllElement(b){this._allGameElement.forEach(b)}_initializeProgressResource(){this.initializeProgressResource()}_load(){this.load(),this._traversalAllElement(function(b){b.load()})}_loadingProgress(b,c){b.clearRect(0,0,b.canvas.width,b.canvas.height),this.loadingProgress(b,c)}_initialize(){this.cycleCount=0,this.initialize(),this._traversalAllElement(function(b){b.initialize()})}_update(){this.rootScene.clearDirtyFlag(),this._traversalAllElement(function(b){b.clearDirtyFlag()}),this.update()}receiveExtraDataWhenLevelStart(){}countAverage(b){for(var c=0,d=0;d<b.length;d++)c+=b[d];return c/b.length}_teardown(){for(var b in this._allGameElement){var c=this._allGameElement[b];a.Util.isFunction(c.teardown)&&c.teardown(),this._allGameElement[b]=null,delete this._allGameElement[b]}this._allGameElement.length=0,this.teardown()}_getChangedRect(b,c){var d={x:b,y:c,x2:0,y2:0};return this._traversalAllElement(function(f){if(f.isObjectChanged){var g=Math.ceil(Math.sqrt(f.width*f.width+f.height*f.height)),h=Math.ceil(f.absolutePosition.x-g/2),j=Math.ceil(f.absolutePosition.y-g/2),k=g+h,l=g+j,m=Math.ceil(Math.sqrt(f.previousWidth*f.previousWidth+f.previousHeight*f.previousHeight)),n=Math.ceil(f.previousAbsolutePosition.x-m/2),o=Math.ceil(f.previousAbsolutePosition.y-m/2),p=m+n,q=m+o,r=h<n?h:n,s=j<o?j:o,t=k>p?k:p,u=l>q?l:q;r<d.x&&(d.x=r),s<d.y&&(d.y=s),t>d.x2&&(d.x2=t),u>d.y2&&(d.y2=u)}}),d.width=d.x2-d.x,d.height=d.y2-d.y,d}forceDraw(){return this._forceDraw=!0,this}_showAllElement(){this._traversalAllElement(function(){})}_draw(b){this.rootScene.countAbsoluteProperty(),this.canvasChanged&&(b.clearRect(0,0,b.canvas.width,b.canvas.height),this.draw(b))}initializeProgressResource(){}load(){}loadingProgress(){}initialize(){}update(){this.rootScene.update()}draw(b){this.rootScene.draw(b)}click(){}mousedown(){}mouseup(){}mousemove(){}touchstart(){}touchend(){}touchmove(){}keydown(){}keyup(){}keypress(){}teardown(){}autodelete(){for(var b in this.rootScene.attachArray)a.Util.isFunction(this.rootScene.attachArray[b].teardown)&&this.rootScene.attachArray[b].teardown(),this.rootScene.attachArray[b]=null,delete this.rootScene.attachArray[b];this.rootScene.attachArray.length=0,this._teardown()}get isCurrentLevel(){return a.Game._currentLevel==this}},Object.defineProperty(a.Level.prototype,"canvasChanged",{get:function(){return this._forceDraw?(this._forceDraw=!1,!0):this._allGameElement.some(b=>b.isObjectChanged)}}),a}(Framework||{});
"use strict";var Framework=function(Framework){const nowFunc=function(){return Date.now()};let LevelLog=[];Framework.Game=class Game{constructor(){throw"U can't create Game instance"}static _tempUpdate(){}static _tempDraw(){}static recordStart(){"true"==document.getElementById("start_btn").getAttribute("enable")&&(that._isRecordMode&&(that._isRecording=!0,document.getElementById("start_btn").setAttribute("enable","false"),document.getElementById("pause_btn").setAttribute("enable","true"),document.getElementById("stop_btn").setAttribute("enable","true"),document.getElementById("type_btn").setAttribute("enable","true"),document.getElementById("replay_btn").setAttribute("enable","true"),document.getElementById("variable_btn").setAttribute("enable","false"),that.btnEnable(),that._record.start(),that.resume()),that._isReplay&&(that.isContinue=!0,that._isRecordMode=!0,document.getElementById("start_btn").setAttribute("enable","false"),document.getElementById("pause_btn").setAttribute("enable","true"),document.getElementById("stop_btn").setAttribute("enable","true"),document.getElementById("type_btn").setAttribute("enable","true"),document.getElementById("replay_btn").setAttribute("enable","true"),document.getElementById("variable_btn").setAttribute("enable","false"),that.btnEnable()))}static recordPause(){"true"==document.getElementById("pause_btn").getAttribute("enable")&&that._isRecordMode&&(that._isRecording=!1,document.getElementById("start_btn").setAttribute("enable","true"),document.getElementById("pause_btn").setAttribute("enable","false"),document.getElementById("stop_btn").setAttribute("enable","true"),document.getElementById("type_btn").setAttribute("enable","true"),document.getElementById("replay_btn").setAttribute("enable","false"),document.getElementById("variable_btn").setAttribute("enable","true"),that.btnEnable(),that._record.pause(),that.pause())}static recordStop(){"true"==document.getElementById("stop_btn").getAttribute("enable")&&that._isRecordMode&&(that._isRecording=!1,document.getElementById("start_btn").setAttribute("enable","false"),document.getElementById("pause_btn").setAttribute("enable","false"),document.getElementById("stop_btn").setAttribute("enable","false"),document.getElementById("type_btn").setAttribute("enable","false"),document.getElementById("replay_btn").setAttribute("enable","true"),document.getElementById("variable_btn").setAttribute("enable","false"),that.btnEnable(),that._record.stop())}static recordInput(){if("true"==document.getElementById("type_btn").getAttribute("enable")){var a=prompt("Please enter comment","");null!=a&&that._record.inputCommand("//"+a)}}static recordReplay(){if("true"==document.getElementById("replay_btn").getAttribute("enable")){that._isReplay=!0,that._teardown(),that._currentLevel=null,that._isRecordMode=!1,that._isTestMode=!0,that._record.isRecording=!1,that.isContinue=!1;var a=document.getElementById("record_div").innerText;if(document.getElementById("record_div").innerText="",that.getReplayScript(a),that._record.start(),that.start(),that._isRecording=!0,null!=document.getElementById("variable_list")){var b=document.getElementById("variable_list");b.parentNode.removeChild(b)}document.getElementById("start_btn").setAttribute("enable","true"),document.getElementById("pause_btn").setAttribute("enable","false"),document.getElementById("stop_btn").setAttribute("enable","false"),document.getElementById("type_btn").setAttribute("enable","true"),document.getElementById("replay_btn").setAttribute("enable","false"),document.getElementById("variable_btn").setAttribute("enable","false"),that.btnEnable()}}static getReplayScript(script){script=script.replace(/\n/g,"");var start=script.indexOf("{",0)+1,end=script.indexOf("}",0);-1===end&&(end=script.length);var mainScript=script.substring(start,end);for(mainScript=mainScript.split(";"),i=0;i<mainScript.length;i++)mainScript[i]=mainScript[i].replace("\xA0\xA0\xA0\xA0",""),0!=mainScript[i].indexOf("replay.assertEqual")&&eval(mainScript[i])}static showVariable(){var a=document.getElementById("main");if(null==document.getElementById("variable_list")&&"true"==document.getElementById("variable_btn").getAttribute("enable")){var b=document.createElement("div");b.id="variable_list",b.style.cssText="width:100%;height:30%;background-color:#d3e0e6;overflow:auto;font-size:20;",a.appendChild(b)}else{var c=document.getElementById("variable_list");null!=c&&c.parentNode.removeChild(c)}listMember("Framework.Game._currentLevel","&nbsp","variable_list")}static btnMouseOver(a){"true"===a.getAttribute("enable")&&("start_btn"==a.id&&(a.src="../../src/image/play_over.png"),"pause_btn"==a.id&&(a.src="../../src/image/pause_over.png"),"stop_btn"==a.id&&(a.src="../../src/image/stop_over.png"),"type_btn"==a.id&&(a.src="../../src/image/addComment_over.png"),"replay_btn"==a.id&&(a.src="../../src/image/replay_over.png"),"variable_btn"==a.id&&(a.src="../../src/image/variable_over.png"))}static btnMouseOut(a){"true"===a.getAttribute("enable")&&("start_btn"==a.id&&(a.src="../../src/image/play.png"),"pause_btn"==a.id&&(a.src="../../src/image/pause.png"),"stop_btn"==a.id&&(a.src="../../src/image/stop.png"),"type_btn"==a.id&&(a.src="../../src/image/addComment.png"),"replay_btn"==a.id&&(a.src="../../src/image/replay.png"),"variable_btn"==a.id&&(a.src="../../src/image/variable.png"))}static btnEnable(){document.getElementById("start_btn").src="true"===document.getElementById("start_btn").getAttribute("enable")?"../../src/image/play.png":"../../src/image/play_disable.png",document.getElementById("pause_btn").src="true"===document.getElementById("pause_btn").getAttribute("enable")?"../../src/image/pause.png":"../../src/image/pause_disable.png",document.getElementById("stop_btn").src="true"===document.getElementById("stop_btn").getAttribute("enable")?"../../src/image/stop.png":"../../src/image/stop_disable.png",document.getElementById("type_btn").src="true"===document.getElementById("type_btn").getAttribute("enable")?"../../src/image/addComment.png":"../../src/image/addComment_disable.png",document.getElementById("replay_btn").src="true"===document.getElementById("replay_btn").getAttribute("enable")?"../../src/image/replay.png":"../../src/image/replay_disable.png",document.getElementById("variable_btn").src="true"===document.getElementById("variable_btn").getAttribute("enable")?"../../src/image/variable.png":"../../src/image/variable_disable.png"}static click(a){that._currentLevel.click(a),that._isRecording&&that._record.click(a)}static mousedown(a){that._currentLevel.mousedown(a),that._isRecording&&that._record.mousedown(a)}static mouseup(a){that._currentLevel.mouseup(a),that._isRecording&&that._record.mouseup(a)}static mousemove(a){that._currentLevel.mousemove(a),that._isRecording&&that._record.mousemove(a)}static touchstart(a){that._currentLevel.touchstart(a)}static touchend(a){that._currentLevel.touchend(a)}static touchmove(a){that._currentLevel.touchmove(a)}static keydown(a,b,c){that._currentLevel.keydown(a,b,c),that._isRecording&&that._record.keydown(a,b,c)}static keyup(a,b,c){that._currentLevel.keyup(a,b,c),that._isRecording&&that._record.keyup(a,b,c)}static keypress(a){that._currentLevel.keypress(a),that._isRecording&&that._record.keypress(a)}static initializeProgressResource(){that._currentLevel._initializeProgressResource()}static load(){that._currentLevel._load(),that.isBackwardCompatiable&&that._currentLevel.initialize()}static loadingProgress(a){that._currentLevel._loadingProgress(a,{request:Framework.ResourceManager.getRequestCount(),response:Framework.ResourceManager.getResponseCount(),percent:Framework.ResourceManager.getFinishedRequestPercent()}),that.isBackwardCompatiable&&that.initializeProgressResource()}static initialize(){that._currentLevel._initialize(),that.initializeTestScript(that._currentLevel)}static initializeTestScript(a){for(var b=that._findLevelNameByLevel(a),c=0,d=that._testScripts.length;c<d;c++)if(that._testScripts[c].targetLevel===b)return void Framework.Replay.ready(that._testScripts[c])}static update(){that._currentLevel._update()}static draw(){that._currentLevel._draw()}static _teardown(){that._currentLevel.autodelete(),that._isInit=!1}static stop(){that.pause(),that._teardown()}static getCanvasWidth(){return that._canvas.width}static getCanvasHeight(){return that._canvas.height}static _findLevel(a){var b=Framework.Util.findValueByKey(that._levels,a);return null===b?null:b.level}static _findScript(a){var b=Framework.Util.findValueByKey(that._testScripts,a);return null===b?null:b.script}static _findLevelNameByLevel(a){for(var b=0,c=that._levels.length;b<c;b++)if(that._levels[b].level===a)return that._levels[b].name}static addNewLevel(a){for(var b in a)if(a.hasOwnProperty(b))if(Framework.Util.isNull(that._findLevel(b)))that._levels.push({name:b,level:a[b]});else throw Framework.DebugInfo.Log.error("Game : \u95DC\u5361\u540D\u7A31\u4E0D\u80FD\u91CD\u8907"),new Error("Game: already has same level name")}static addNewTestScript(a,b,c){var a=a,b=b,c=c;if(Framework.Util.isNull(that._findScript(b)))that._testScripts.push({targetLevel:a,name:b,script:c});else throw Framework.DebugInfo.Log.error("Game : Script\u540D\u7A31\u4E0D\u80FD\u91CD\u8907"),new Error("Game: already has same script name")}static goToLevel(a,b){if(that.pause(),that._teardown(),that._currentLevel=that._findLevel(a),Framework.Replay.resetCycleCount(),Framework.Util.isUndefined(that._currentLevel))throw Framework.DebugInfo.Log.error("Game : \u627E\u4E0D\u5230\u95DC\u5361"),new Error("Game : levelname not found.");return that._isRecordMode&&that._record.inputCommand("// Change Level :"+levelname+";"),void 0,LevelLog.push({name:a,data:b}),that.start(b),that._currentLevel}static popLevelHistory(){LevelLog.pop();let a=LevelLog.last();a&&(Game.goToLevel(a.name,a.data),LevelLog.pop())}static start(a){if(that._isReplay||!that._isTestMode||!1!==that._isTestReady){(Framework.Util.isUndefined(that._currentLevel)||Framework.Util.isNull(that._currentLevel))&&(that._currentLevel=that._levels[0].level,LevelLog.push({name:that._levels[0].name,data:a})),that._currentLevel.receiveExtraDataWhenLevelStart(a);var b=that;that._isInit||(that.resizeEvent(),document.body.appendChild(that._mainContainer),window.addEventListener("resize",that.resizeEvent,!1)),that._tempDraw=b._currentLevel._draw,that._tempUpdate=b._currentLevel._update,that.initializeProgressResource();var c=function(){b._isRun=!0,b.pause(),b.initialize(),b.draw=b._tempDraw.bind(b._currentLevel),b.update=b._tempUpdate.bind(b._currentLevel),Framework.Replay.setGameReady(),b.run()},d=function(){Framework.ResourceManager.getRequestCount()!==Framework.ResourceManager.getResponseCount()||(b._isInit=!0,b.draw=b.loadingProgress,b.update=function(){},b.run(),b._isRun=!1,b.load(),Framework.ResourceManager.getRequestCount()===Framework.ResourceManager.getResponseCount()&&c())};Framework.ResourceManager.setSubjectFunction(function(){return b._isInit?void(!b._isRun&&c()):void d()}),d(),Framework.TouchManager&&(Framework.TouchManager.setSubject(b._currentLevel),Framework.TouchManager.setTouchstartEvent(b._currentLevel.touchstart),Framework.TouchManager.setTouchendEvent(b._currentLevel.touchend),Framework.TouchManager.setTouchmoveEvent(b._currentLevel.touchmove)),Framework.MouseManager&&(Framework.MouseManager.setSubject(b._currentLevel),Framework.MouseManager.setClickEvent(b.click),Framework.MouseManager.setMousedownEvent(b.mousedown),Framework.MouseManager.setMouseUpEvent(b.mouseup),Framework.MouseManager.setMouseMoveEvent(b._currentLevel.mousemove)),Framework.KeyBoardManager&&(Framework.KeyBoardManager.setSubject(b._currentLevel),Framework.KeyBoardManager.setKeyupEvent(b.keyup),Framework.KeyBoardManager.setKeydownEvent(b.keydown),Framework.KeyBoardManager.setKeypressEvent(b.keypress))}}static run(){that.skipTicks=0|1e3/that.fps;const a=that.skipTicks;let f=nowFunc(),g=f,m=f,o=function(){that.update()},p=function(){that.draw(that._context)};that._isRun=!0,that.runAnimationFrame(function(){if(f=nowFunc(),f>=m){nowFunc();o();nowFunc();p();nowFunc();const v=nowFunc(),w=v-f;define.DEBUG&&w>that.skipTicks&&void 0,g=f,m=f+that.skipTicks}})}static countAverage(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b/a.length}static stopInterval(){clearInterval(that._runInstance)}static stopAnimationFrame(){cancelAnimationFrame(that._runInstance)}static runAnimationFrame(a){void 0!==that._runInstance&&that.stopAnimationFrame();let b=function(){that._isRun&&(that._runInstance=requestAnimationFrame(b)),a()};b(),that.stopLoop=that.stopAnimationFrame}static runInterval(a){var b=1e3/that.fps;that._runInstance=setInterval(a,b),that.stopLoop=that.stopInterval}static stopLoop(){return that.stopAnimationFrame.apply(Game,arguments)}static showMainContainer(){that._mainContainer.style.display="block"}static hideMainContainer(){that._mainContainer.style.display="none"}static pause(){that._isRun&&(that.stopLoop(),that._runInstance=null,that._isRun=!1)}static resume(){that._isRun||that.run()}static setUpdateFPS(a){if(60<a){throw Framework.DebugInfo.Log.warring("FPS must be smaller than 60."),"FPS must be smaller than 60."}that.skipTicks=Math.round(1e3/that.fps),that.fps=a,that.pause(),that.run()}static getUpdateFPS(){return that.fps}static setDrawFPS(a){if(60<a){throw Framework.DebugInfo.Log.warring("FPS must be smaller than 60."),"FPS must be smaller than 60."}that.fps=a,that.pause(),that.run()}static getDrawFPS(){return that.fps}static setCanvas(a){a&&(that._canvas=null,that._context=null,that._canvas=a,that._canvasContainer.innerHTML="",that._canvasContainer.appendChild(that._canvas),that._context=that._canvas.getContext("2d"))}static setContext(a){Framework.Util.isUndefined(a)?Framework.DebugInfo.Log.error("Game SetContext Error"):(that.context=null,that._canvas=null,that.context=a)}static getContext(){return that.context}static fullScreen(a){var a=a||that._canvas;a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}static exitFullScreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}static resizeEvent(){var a=0,b=window.innerWidth/that._ideaWidth,c=window.innerHeight/that._ideaHeight,d=0,f=0;(that._isTestMode||that._isRecordMode)&&(b=0.7*window.innerWidth/that._ideaWidth,c=0.7*window.innerHeight/that._ideaHeight),a=b<c?b:c,d=Math.round(a*that._ideaWidth),f=Math.round(a*that._ideaHeight),that._widthRatio=d/that._canvas.width,that._heightRatio=f/that._canvas.height,that._canvas.style.width=d+"px",that._canvas.style.height=f+"px",Array.prototype.toArray(document.querySelectorAll(".screen")).forEach(g=>{let h=d/g.clientWidth,j=f/g.clientHeight;g.style.transform="scale("+h+", "+j+") translateZ(0)"})}static _pushGameObj(a){try{that._currentLevel._allGameElement.push(a)}catch(b){}}static _showAllElement(){that._currentLevel._showAllElement()}};let that=Framework.Game;return that._config=Framework.Config,that.fps=that._config.fps,that.canvasWidth=that._config.canvasWidth,that.canvasHeight=that._config.canvasHeight,that.isBackwardCompatiable=!0,that._widthRatio=1,that._heightRatio=1,that._isRecording=!1,that._isRecordMode=_isRecordMode,that._isTestMode=_isTestMode,that._isTestReady=!1,that._isReplay=!1,that.isContinue=!1,that._isInit=!1,that._isRun=!1,that._fpsContext=void 0,that._runInstance=void 0,that._levels=[],that._testScripts=[],that._currentLevel=void 0,that._context=null,that._currentTestScript=void 0,that._currentReplay=void 0,that._ideaWidth=that._config.canvasWidth,that._ideaHeight=that._config.canvasHeight,that.timelist=[],that._record=new Framework.Record,that._mainContainer=document.createElement("div"),that._isRecordMode?(that._mainContainer.style.position="relative",that._mainContainer.style.float="left",that._mainContainer.style.width="70%",that._mainContainer.style.height="100%",that._mainContainer.style.display="table"):that._isTestMode?(that._mainContainer.style.position="relative",that._mainContainer.style.float="left",that._mainContainer.style.width="70%",that._mainContainer.style.height="100%"):that._mainContainer.classList.add("container-wrap"),that._mainContainer.style.backgroundColor="#111",that._canvasContainer=document.createElement("div"),that._canvasContainer.classList.add("container"),that._canvas=document.createElement("canvas"),that._canvas.style.backgroundColor="#000",that._canvas.setAttribute("id","__game_canvas__"),that._canvas.width=that._config.canvasWidth,that._canvas.height=that._config.canvasHeight,that._canvasContainer.appendChild(that._canvas),that._mainContainer.appendChild(that._canvasContainer),that._context=that._canvas.getContext("2d"),Framework}(Framework||{});const listMember=function(main,space,divId){document.getElementById(divId+"_check")&&(document.getElementById(divId+"_check").src.match("../../src/image/arrow_over.png")?document.getElementById(divId+"_check").src="../../src/image/arrow.png":document.getElementById(divId+"_check").src="../../src/image/arrow_over.png");var div=document.getElementById(divId),length=0;if(null!=div&&null!=div.childNodes&&(length=div.childNodes.length),4<length)for(var i=4;i<length;i++)div.removeChild(div.childNodes[4]);else{for(let key in eval(main))try{if(-1===eval(main)[key].toString().indexOf("function",0)&&"rootScene"!=key&&"autoDelete"!=key&&"_firstDraw"!=key&&"_allGameElement"!=key){var varDiv=document.createElement("div");varDiv.id=key,varDiv.setAttribute("vertical-align","baseline");var checkBox=document.createElement("img");if(checkBox.setAttribute("src","../../src/image/arrow.png"),checkBox.setAttribute("width","5%"),checkBox.setAttribute("id",key+"_check"),isNaN(key))var func="listMember(\""+main.toString()+"."+key.toString()+"\", \""+space+"&nbsp&nbsp&nbsp\", \""+key+"\")";else var func="listMember(\""+main.toString()+"["+key.toString()+"]\", \""+space+"&nbsp&nbsp&nbsp\", \""+key+"\")";if(checkBox.setAttribute("onclick",func),varDiv.innerHTML+=space,varDiv.appendChild(checkBox),varDiv.innerHTML+=key+"&nbsp&nbsp&nbsp",!isNaN(eval(main)[key])){var btn=document.createElement("input");btn.setAttribute("type","button"),btn.value="Assert";var func="addAssertion(\""+main.toString()+"."+key.toString()+"\",\""+eval(main)[key]+"\")";btn.setAttribute("onclick",func),varDiv.appendChild(btn)}varDiv.innerHTML+="<br>",div.appendChild(varDiv)}}catch(a){}space+="&nbsp&nbsp&nbsp"}},addAssertion=function(a,b){a=a.substring(29,a.length);document.getElementById("record_div");document.getElementById("record_div").innerHTML+="<p>&nbsp;&nbsp;&nbsp;&nbsp;replay.assertEqual(\""+a+"\", "+b+");</p>"};
'use strict';var Framework=function(a){return function(){var i,b={},c=function(){},d=function(){},f=function(){},g=function(){},h=function(){},j=function(w){i=w},k=function(w){c=w},l=function(w){d=w},m=function(w){f=w},n=function(w){g=w},o=function(w){h=w},p=function(w){var x={},y=0,z=0,A=a.Game._canvas;do y+=A.offsetLeft,z+=A.offsetTop,A=A.offsetParent;while(A);return x.x=w.x||w.clientX,x.y=w.y||w.clientY,x.x=Math.floor((x.x-y)/a.Game._widthRatio),x.y=Math.floor((x.y-z)/a.Game._heightRatio),x},q=function(w){w.preventDefault();var w=p(w);c.call(i,w)},r=function(w){w.preventDefault();var w=p(w);d.call(i,w)},s=function(w){w.preventDefault();var w=p(w);f.call(i,w)},t=function(w){w.preventDefault();var w=p(w);g.call(i,w),a.Game._isRecording&&a.Game._config.isMouseMoveRecorded&&a.Game._record.mousemove(w)},u=function(w){w.preventDefault();var w=p(w);h.call(i,w)};return b=a.MouseManager=new class{constructor(){a.Game._canvas.addEventListener('click',q,!1),a.Game._canvas.addEventListener('mousedown',r,!1),a.Game._canvas.addEventListener('mouseup',s,!1),a.Game._canvas.addEventListener('mousemove',t,!1),a.Game._canvas.addEventListener('contextmenu',u,!1)}setSubject(){return j.apply(this,arguments)}setClickEvent(){return k.apply(this,arguments)}setMousedownEvent(){return l.apply(this,arguments)}setMouseUpEvent(){return m.apply(this,arguments)}setMouseMoveEvent(){return n.apply(this,arguments)}setContextmenuEvent(){return o.apply(this,arguments)}},b}(),a}(Framework||{});
'use strict';var Framework=function(a){return a.KeyBoardManager=function(){var o,b=0,c=Array(255),d=1e3,f={},g=[],h={undefined:'-',8:'Backspace',9:'Tab',13:'Enter',16:'shiftKey',17:'ctrlKey',18:'altKey',19:'Pause/Break',20:'Caps Lock',27:'Esc',32:'Space',33:'Page Up',34:'Page Down',35:'End',36:'Home',37:'Left',38:'Up',39:'Right',40:'Down',45:'Insert',46:'Delete',48:'0',49:'1',50:'2',51:'3',52:'4',53:'5',54:'6',55:'7',56:'8',57:'9',65:'A',66:'B',67:'C',68:'D',69:'E',70:'F',71:'G',72:'H',73:'I',74:'J',75:'K',76:'L',77:'M',78:'N',79:'O',80:'P',81:'Q',82:'R',83:'S',84:'T',85:'U',86:'V',87:'W',88:'X',89:'Y',90:'Z',91:'Windows',93:'Right Click',96:'Numpad 0',97:'Numpad 1',98:'Numpad 2',99:'Numpad 3',100:'Numpad 4',101:'Numpad 5',102:'Numpad 6',103:'Numpad 7',104:'Numpad 8',105:'Numpad 9',106:'Numpad *',107:'Numpad +',109:'Numpad -',110:'Numpad .',111:'Numpad /',112:'F1',113:'F2',114:'F3',115:'F4',116:'F5',117:'F6',118:'F7',119:'F8',120:'F9',121:'F10',122:'F11',123:'F12',144:'Num Lock',145:'Scroll Lock',182:'My Computer',183:'My Calculator',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\''},j={},k={},l=function(){},m=function(){},n=function(){};for(let F in h)j[h[F]]=intval(F);const p=[j.F5,j.F11,j.F12],q=F=>{return-1!==p.indexOf(F.keyCode)},r=F=>{return!!F.target&&-1!==['INPUT','TEXTAREA'].indexOf(F.target.tagName)};var s=function(F){if(!r(F)){q(F)||F.preventDefault(),c[F.keyCode]=!0;var G=h[F.which||F.keyCode];if(!a.Util.isUndefined(f[G])){var I=f[G];I.lastTimeDiff=F.timeStamp-I.firstTimeStamp}else f[G]={key:G,firstTimeStamp:F.timeStamp,ctrlKey:F.ctrlKey,shiftKey:F.shiftKey,altKey:F.altKey,lastTimeDiff:0},l.call(o,f[G],f,F)}},t=function(F){if(!r(F)){q(F)||F.preventDefault(),c[F.keyCode]=!0;h[F.which||F.keyCode];n.call(o,F)}},u=function(F){if(!r(F)){q(F)||F.preventDefault(),c[F.keyCode]=!1;var G=h[F.which||F.keyCode],H={};for(H in g.push(F),f[G]=null,delete f[G],f)a.Util.isUndefined(f[H][G])||(f[H][G]=!1);m.call(o,g[g.length-1],g,F)}},w=function(){for(let F=0;F<c.length;F++)c[F]&&u({type:'keyup',keyCode:F,preventDefault:()=>{}})},x=function(F){l=F},y=function(F){m=F},z=function(F){n=F},A=function(F){d=F},C=function(){g.length=0,clearTimeout(b),b=setTimeout(C,d)},D=function(F){o=F};c.isKeyDown=function(F){return'string'==typeof F&&(F=j[F]),255<F||0>F?!1:c[F]};class E{constructor(){window.addEventListener('keypress',t,!1),window.addEventListener('keydown',s,!1),window.addEventListener('keyup',u,!1),window.addEventListener('blur',w,!1);for(let F=0;F<c.length;F++)c[F]=!1;C()}setSubject(){return D.apply(this,arguments)}setClearHistoryTime(){return A.apply(this,arguments)}setKeydownEvent(){return x.apply(this,arguments)}setKeyupEvent(){return y.apply(this,arguments)}setKeypressEvent(){return z.apply(this,arguments)}keydownList(){return f.apply(this,arguments)}mappingTable(){return h}getKeyCodeByString(F){return j[F]}keypressHistory(){return g}setSubject(){return D.apply(this,arguments)}isKeyDown(F){return c.isKeyDown(F)}get status(){return c}get currentDownKeys(){let F=[];return c.forEach((G,H)=>{G&&F.push(H)}),F}}return a.KeyBoardManager=k=new E,k}(),a}(Framework||{});
'use strict';var Framework=function(c){const d=c.ResourceManager,f=new window.AudioContext;let g=[],h=new Map,i=new Map;const j=()=>{return f};let l;return c.Audio=l=class{constructor(n){this._playList=new Map,this.audioCtx=j(),this.gainNodeLeft=this.audioCtx.createGain(),this.gainNodeRight=this.audioCtx.createGain(),this._promisies=[],this._leftVolume=1,this._rightVolume=1,this._sources=new Map,this._allDone=!1,n&&this.addSongs(n),g.push(this)}set volume(n){this.leftVolume=this.rightVolume=n}get leftVolume(){return this._leftVolume}get rightVolume(){return this._rightVolume}set leftVolume(n){if(0>n)throw new RangeError(`Volume out of range, 0~1 expected, ${n} received.`);this._leftVolume=n,this.gainNodeLeft&&(this.gainNodeLeft.gain.value=this._leftVolume)}set rightVolume(n){if(0>n)throw new RangeError(`Volume out of range, 0~1 expected, ${n} received.`);this._rightVolume=n,this.gainNodeRight&&(this.gainNodeRight.gain.value=this._rightVolume)}set balance(n){if(1<n||-1>n)throw new RangeError(`balance out of range, -1~1 expected, ${n} received.`);0>=n?(this.leftVolume=1,this.rightVolume=n+1):(this.rightVolume=1,this.leftVolume=1-n)}addSongs(n){if(n){if(n instanceof Map)n.forEach((o,q)=>{let r=this._loadSoundAndReturnBuffer(o);this._playList.set(q,o),this._promisies.push(r)});else for(let o in n)if(n.hasOwnProperty(o)){let q=this._loadSoundAndReturnBuffer(n[o]);this._playList.set(o,n[o]),this._promisies.push(q)}return this.done()}}getSource(n){let o=this._sources.get(n);return o&&o.disconnect(),o=this.audioCtx.createBufferSource(),this._sources.set(n,o),o}play(n,o){if('object'==typeof n)return this.play(n.name,n);o=o||{};let q={loop:!1,stopPrevious:!1,volume:void 0,leftVolume:void 0,rightVolume:void 0};for(let t in q)void 0!==o[t]&&(q[t]=o[t]);isFinite(q.volume)&&(this.volume=q.volume),isFinite(q.leftVolume)&&(this.leftVolume=q.leftVolume),isFinite(q.rightVolume)&&(this.rightVolume=q.rightVolume),q.stopPrevious&&this.stop(n);const r=this._playList.get(n);if(void 0===r)throw Error(`Cannot found sound with name: ${n}`);return this.gainNodeLeft=this.gainNodeRight=null,this._loadSoundAndReturnBuffer(r).then(t=>{if('string'==typeof t)return void this._playAsAudio(t,q);const u=this.getSource(r),w=this.audioCtx.createChannelSplitter(2),x=this.audioCtx.createChannelMerger(2),y=this.audioCtx.createGain(),z=this.audioCtx.createGain();this.gainNodeLeft=y,this.gainNodeRight=z,this.leftVolume=this.leftVolume,this.rightVolume=this.rightVolume,u.buffer=t,u.connect(w),w.connect(y,0),w.connect(z,0),y.connect(x,0,0),z.connect(x,0,1),x.connect(this.audioCtx.destination),u.loop=q.loop,u.start()})}_playAsAudio(n,o){let q=i.get(n)||new window.Audio;q.src=n,q.pause(),q.volume=(this.leftVolume+this.rightVolume)/2,q.loop=o.loop,q.currentTime=0,q.play(),i.set(n,q)}stop(n){const o=q=>{try{q.disconnect(this.audioCtx.destination),q.stop()}catch(r){}};if(!n)this._sources.forEach(q=>{o(q)});else{let q=this._sources.get(n);q&&o(s)}}get playlist(){return new Map(this._playList)}_loadSoundAndReturnBuffer(n){let o=h.get(n);return o?new Promise(q=>q(o)):d.loadResourceAsArrayBuffer(n).then(q=>{return this.audioCtx.decodeAudioData(q)}).then(q=>{return h.set(n,q),q}).catch(()=>{void 0,void 0,h.set(n,n)})}done(){return Promise.all(this._promisies)}},l.prototype.stopAll=function(){g.forEach(m=>m.stop())},c}(Framework||{});
"use strict";(function(a){const b="./";a.define={DEBUG:!1,SHOW_PLAYER_COUNT:8,BASE_PATH:b,DATA_PATH:b+"data/",IMG_PATH:b+"image/",MUSIC_PATH:b+"music/",BGM_PATH:b+"music/bgm/",ZIP_PATH:b+"zip/",PLAYER_COUNT:4,KEYBOARD_CONFIG_KEY:"keyConfig",TEAM_COUNT:4,BGM_VOLUME:.3,LOADING_MIN_TIME:0,MAX_ITEM_COUNT:200,INF_MP:!1,MAP_SMOOTHLY:!1}})(window);
"use strict";var lf2=function(a){return a.Bound={NONE:0,TOP:1,RIGHT:2,BOTTOM:4,LEFT:8},Object.freeze(a.Bound),a}(lf2||{});
'use strict';var lf2=function(a){let b;a.Effect=b={NORMAL:0,BLADE:1,FIRE:2,ICE:3,PASS_E:4,NONE:5,FIXED_FIRE_0:20,FIXED_FIRE_1:21,FIXED_FIRE_2:22,FIXED_FIRE_3:23,FIXED_ICE:30};let c={};c[b.NORMAL]=['001.m4a','006.m4a'],c[b.BLADE]=['032.m4a','033.m4a'],c[b.FIRE]=['070.m4a','071.m4a'],c[b.ICE]=['065.m4a','066.m4a'],c[b.FIXED_FIRE_0]=c[b.FIRE],c[b.FIXED_FIRE_1]=c[b.FIRE],c[b.FIXED_FIRE_2]=c[b.FIRE],c[b.FIXED_ICE]=['065.m4a'];let d=new Set;for(let e in c)c[e]instanceof Array&&c[e].forEach(g=>{d.add(define.MUSIC_PATH+g)});return a.Effect.sound=c,Object.freeze(d),a.Effect.allSound=d,a.Effect.sound.getSoundPath=(e,f)=>{const g=c[e];if(g){const h=f&&1<g.length?1:0;return define.MUSIC_PATH+g[h]}},Object.freeze(a.Effect),a}(lf2||{});
"use strict";var lf2=function(a){return a.FrameStage={STAND:0,WALK:1,RUN:2,PUNCH:3,JUMP:4,DASH:5,DEFEND:7,BROKEN_DEFEND:8,CATCHING:9,PICKED_CAUGHT:10,INJURED:11,FALL:12,ICE:13,LYING:14,FROZEN:15,TIRED:16,DRINK:17,FIRE:18,BURN_RUN:19,DASH_SWORD:301,CLOSED_BAD_GUY:400,CLOSED_TEAMMATE:401,CURE_SELF:1700,DISAPPEAR_WHEN_HIT:15,HIT_TEAMMATE:18,BALL_FLYING:3e3,BALL_HITTING:3001,BALL_CANCELED:3002,BALL_REBOUNDING:3003,BALL_DISAPPEAR:3004,BALL_WIND_FLYING:3005,BALL_HIT_HEART:3006,WEAPON_IN_THE_SKY:1e3,WEAPON_ON_HAND:1001,WEAPON_THROWING:1002,WEAPON_REBOUNDING:1003,WEAPON_ON_GROUND:1004,DELETE_MESSAGE:9998},Object.freeze(a.FrameStage),a}(lf2||{});
"use strict";var lf2=function(c){let d;return c.ItrKind=d={NORMAL_HIT:0,CATCH:1,PICK_WEAPON:2,CATCH_BDY:3,FALLING:4,WEAPON_STRENGTH:5,SUPER_PUNCH:6,PICK_WEAPON_2:7,HEAL_BALL:8,REFLECTIVE_SHIELD:9,SONATA_OF_DEATH_1:10,SONATA_OF_DEATH_2:11,THREE_D_OBJECTS:14,WHIRLWIND_WIND:15,WHIRLWIND_ICE:16},d.ITR_ALLOW_FALL=[d.NORMAL_HIT,d.HEAL_BALL,d.REFLECTIVE_SHIELD,d.SONATA_OF_DEATH_1,d.SONATA_OF_DEATH_2],d.ITR_ALLOW_FALL.sort((e,f)=>e-f),Object.freeze(d.ITR_ALLOW_FALL),Object.freeze(c.ItrKind),c}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.ResourceManager;return a.Prefetch=new class{constructor(){this._fetch={}}start(){this._fetch={LOADING_VIDEO:b.loadResourceAsBlob(a.LoadingLevel.LOADING_RESOURCE_SRC),DATA_LIST:b.loadResource(define.DATA_PATH+"data_list.json").then(e=>e.json()),SKILL_LIST:b.loadResource(define.DATA_PATH+"skill.json").then(e=>e.json()),DATA:b.loadResource(define.ZIP_PATH+"data.zip").then(e=>e.blob()).then(JSZip.loadAsync),RESOURCES:b.loadResource(define.ZIP_PATH+"resources.zip").then(e=>e.blob()).then(JSZip.loadAsync)},b.loadZip()}get(e){return this._fetch[e]}},a}(lf2||{});
"use strict";var lf2=function(e){const f=function(){function crt(m){return 0>m?-Math.pow(-m,1/3):Math.pow(m,1/3)}function cardano(m,n){let N,O,P,Q,R,o=n-0,s=n-m[0],u=n-m[2],y=3*o,z=3*s,A=3*u,C=1/(-o+z-A+(n-1)),D=1/3,E=(y-6*s+A)*C,F=E*D,G=(-y+z)*C,I=(3*G-E*E)*D,J=I*D,K=(2*E*E*E-9*E*G+27*(o*C))/27,L=K/2,M=L*L+J*J*J;if(0>M){let S=-I*D,U=l(S*S*S),V=-K/(2*U),W=-1>V?-1:1<V?1:V,X=h(W),Y=crt(U),Z=2*Y;return P=Z*g(X*D)-F,Q=Z*g((X+k)*D)-F,R=Z*g((X+2*k)*D)-F,0<=P&&1>=P?0<=Q&&1>=Q?0<=R&&1>=R?i(P,Q,R):i(P,Q):0<=R&&1>=R?i(P,R):P:0<=Q&&1>=Q?0<=R&&1>=R?i(Q,R):Q:R}if(0==M)return N=0>L?crt(-L):-crt(L),P=2*N-F,Q=-N-F,0<=P&&1>=P?0<=Q&&1>=Q?i(P,Q):P:Q;let S=l(M);return N=crt(-L+S),O=crt(L+S),P=N-O-F,P}function get(m,n,o,s,u){let w=1-u;return m*w*w*w+3*n*u*w*w+3*o*u*u*w+s*u*u*u}const g=Math.cos,h=Math.acos,i=Math.max,j=Math.PI,k=2*j,l=Math.sqrt;return function(m,n){let o=cardano(m,n),u=m[1],w=m[3];return get(0,u,w,1,o)}}();return e.Bezier=f,e}(lf2||{});
'use strict';var lf2=function(c){let d;return c.Utils=d={parseDataLine:function(e){const f=k=>{let l=k.indexOf(':'),m=k.substring(0,l),n=k.substr(l+1).trim();return{key:m,value:n}};e=e.replace(/\r?\n/g,' ');let g=new Map,h=e.match(/(([^ ]+)(\s+)?:(\s+)?[^ ]+)/g);if(!h)throw new TypeError('Cannot parse line: '+e);for(let m,k=0,l=h.length;k<l;k++)m=f(h[k]),g.set(m.key,m.value);return g},returnInRangeValue:function(e,f,g){return e>g?g:e<f?f:e},tryConvertType:function(){},GetRadBasedOnPoints:function(e,f){let g=0;const h=f.x-e.x,k=f.y-e.y,l=Math.atan(k/h);return 0<=h&&0<k?g=l:0>h&&0<k?(g=l,g+=Math.PI):0>h&&0>=k?(g=l,g+=Math.PI):g=l,g},GetPointPFromLineAB:function(e,f,g){const h=Framework.Point3D,k=Math.abs(e.x-f.x),l=Math.abs(e.y-f.y),m=Math.abs(e.z-f.z),n=Math.sqrt(k*k+l*l+m*m);var o=(n-g)/g;let q=new h((e.x*o+f.x)/(o+1),(e.y*o+f.y)/(o+1),(e.z*o+f.z)/(o+1));return q},triggerInProbability:function(e){const f=0|100*Math.random();return f<e},_CubicBezierDiff:1e3,_CubicBezierCache:new Map,_MakeCubicBezierCache:function(e,f,g,h){const k=d._CubicBezierDiff,l=Math.pow,m=`${e},${f},${g},${h}`,n=d._CubicBezierCache.get(m);if(void 0!==n)return n;let o=Array(k+1);const y=(z,A,C,D,E)=>{const F=1-z;return A*l(F,3)+3*C*z*l(F,2)+3*D*l(z,2)*F+E*l(z,3)};for(let A,z=0;z<=k;z++)A=z*(1/k),o[z]=new Framework.Point(0|y(A,0,e,g,1)*k,y(A,0,f,h,1));return d._CubicBezierCache.set(m,o),o},CubicBezier:function(e,f,g,h,k){const l=d._CubicBezierDiff;let m=d._MakeCubicBezierCache(f,g,h,k);e=Math.floor(e*l);let n=m.binarySearch(e,function(o,q){return o.x===q?0:o.x-q});if(0>n||1e4<n)debugger;return m[n].y}},c.__defineGetter__('CurrentLevel',()=>Framework.Game._currentLevel),c}(lf2||{});
"use strict";var lf2=function(a){const b={UP:1,DOWN:2,LEFT:20,RIGHT:24,FRONT:16,ATTACK:256,JUMP:512,DEFEND:1024,KEY_LIST:["UP","DOWN","LEFT","RIGHT","ATTACK","JUMP","DEFEND"],REVERT_MAP:{}};for(let f in b)isFinite(b[f])&&(b.REVERT_MAP[b[f]]=f);Object.freeze(b.REVERT_MAP),Object.freeze(b);const c={ja:b.DEFEND|b.JUMP|b.ATTACK,Fj:b.DEFEND|b.FRONT|b.JUMP,Fa:b.DEFEND|b.FRONT|b.ATTACK,Dj:b.DEFEND|b.DOWN|b.JUMP,Da:b.DEFEND|b.DOWN|b.ATTACK,Uj:b.DEFEND|b.UP|b.JUMP,Ua:b.DEFEND|b.UP|b.ATTACK,j:b.JUMP,d:b.DEFEND,a:b.ATTACK,_up:b.UP,_down:b.DOWN,_left:b.LEFT,_right:b.RIGHT,_ul:b.UP|b.LEFT,_ur:b.UP|b.RIGHT,_dl:b.DOWN|b.LEFT,_dr:b.DOWN|b.RIGHT,HIT_LIST:["ja","Fj","Fa","Dj","Da","Uj","Ua","j","d","a","_ul","_ur","_dl","_dr","_up","_down","_left","_right"]};Object.freeze(c);const d=[{NAME:"Player1",UP:38,DOWN:40,LEFT:37,RIGHT:39,ATTACK:67,JUMP:88,DEFEND:90},{NAME:"Player2",UP:104,DOWN:98,LEFT:100,RIGHT:102,ATTACK:187,JUMP:189,DEFEND:48}];Object.freeze(d);let e;return a.KeyboardConfig=class{constructor(g){if(0>g||g>=define.PLAYER_COUNT)throw new RangeError(`Player Id (${g}) Out of range`);this.playerId=g,this.config=a.KeyboardConfig.getKeyConfig()[g]||{},this.keyMap=new Map,b.KEY_LIST.forEach(h=>{this.keyMap.set(this.config[h],b[h])})}static getKeyConfig(){return void 0==e&&(e=JSON.parse(localStorage.getItem(define.KEYBOARD_CONFIG_KEY))),e||(e=d),e}static clearConfigCache(){e=void 0}},a.KeyboardConfig.prototype.KEY_MAP=a.KeyboardConfig.KEY_MAP=b,a.KeyboardConfig.prototype.HIT_KEY=a.KeyboardConfig.HIT_KEY=c,a.KeyboardConfig.prototype.DEFAULT_CONFIG=a.KeyboardConfig.DEFAULT_CONFIG=d,a}(lf2||{});
"use strict";var lf2=function(a){const b=5;return a.KeyEventPool=class extends Array{constructor(d){d||(d=b),super(d),this._size=d}_shiftOne(){for(let d=this._size-2;0<=d;d--)this[d+1]=this[d]}push(d){this._shiftOne(),this[0]=d}},a.KeyEventPool.KEY_KEEP_COUNT=b,a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point;return a.Rectangle=class{constructor(d,e,f,g){if(d instanceof a.Rectangle)this.width=d.width,this.height=d.height,this.position=new b(d.position.x,d.position.y);else{if(void 0===g)throw SyntaxError("Arguments missing");this.width=intval(d),this.height=intval(e),this.position=new b(f,g)}}get area(){return this.width*this.height}draw(d,e){void 0===e&&(e=0),d.strokeRect(this.position.x,this.position.y+e,this.width,this.height)}isIntersect(d){return this.position.x<d.position.x+d.width&&this.position.x+this.width>d.position.x&&this.position.y<d.position.y+d.height&&this.height+this.position.y>d.position.y}static merge(d,e){if(null===d&&null===e)return null;if(null===d)return a.Rectangle.merge(e,d);if(null===e)return new a.Rectangle(d);const f=Math.min(d.position.x,e.position.x),g=Math.min(d.position.y,e.position.y),h=Math.max(d.position.x+d.width,e.position.x+e.width),i=Math.max(d.position.y+d.height,e.position.y+e.height);return new a.Rectangle(h-f,i-g,f,g)}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point;return a.Cube=class{constructor(d,e,f,g,h){this.width=intval(d),this.height=intval(e),this.depth=f,this._depthHalf=0|f/2,this.position=new b(g,h)}draw(d,e){void 0===e&&(e=0),d.strokeRect(this.position.x-this._depthHalf,this.position.y+this._depthHalf+e,this.width,this.height),d.strokeRect(this.position.x+this._depthHalf,this.position.y-this._depthHalf+e,this.width,this.height),d.beginPath(),d.moveTo(this.position.x-this._depthHalf,this.position.y+this._depthHalf+e),d.lineTo(this.position.x+this._depthHalf,this.position.y-this._depthHalf+e),d.stroke(),d.beginPath(),d.moveTo(this.position.x-this._depthHalf+this.width,this.position.y+this._depthHalf+e),d.lineTo(this.position.x+this._depthHalf+this.width,this.position.y-this._depthHalf+e),d.stroke(),d.beginPath(),d.moveTo(this.position.x-this._depthHalf,this.position.y+this.height+this._depthHalf+e),d.lineTo(this.position.x+this._depthHalf,this.position.y+this.height-this._depthHalf+e),d.stroke(),d.beginPath(),d.moveTo(this.position.x-this._depthHalf+this.width,this.position.y+this.height+this._depthHalf+e),d.lineTo(this.position.x+this._depthHalf+this.width,this.position.y+this.height-this._depthHalf+e),d.stroke()}},a}(lf2||{});
'use strict';var lf2=function(a){const c=new window.Audio,e=define.MUSIC_PATH+'egg/';let g,h=0,j=-1,k=[],l=!0;c.addEventListener('ended',function(){k.length&&g._play()}),a.Egg=g={EGG_KEYWORD:[{key:'eris',sound:'ERIS_CHEST_PADDED'},{key:'friends',sound:()=>{if(a.CurrentLevel instanceof a.FightLevel){const n=a.CurrentLevel.world.config.players;n.forEach(o=>{o.team=5})}return g.FRIENDS}},{key:'axys',sound:()=>{if(0===g.AXYS_EGG.length)return g.ERIS_CHEST_PADDED;if(clearTimeout(j),a.CurrentLevel instanceof a.FightLevel){const o=a.CurrentLevel.world.config.players;let q=$('#statusPanels');q.addClass('axys'),o.forEach(r=>{r.setGodMode(!0)}),j=setTimeout(()=>{q.removeClass('axys'),o.forEach(r=>{r.setGodMode(!1)})},g.AXYS_EGG_TIME[h])}l||0!=h||window.open(atob(g._EGG_CONTENT._JOIN_APPLICATION_FORM_URL));let n=g.AXYS_EGG[h];return h=(h+1)%g.AXYS_EGG.length,l=!1,n}}],ERIS_CHEST_PADDED:'',FRIENDS:'',AXYS_EGG:[],AXYS_EGG_TIME:[6463,2180,6130,8470,8150,3164],AddPlayQueue:n=>{n&&(k.push(n),g._play())},_play:()=>{if((c.paused||!c.duration)&&!(1>k.length)){let n=k.shift(),o='function'==typeof n?n():g[n];o&&(c.pause(),c.src=o,c.currentTime=0,c.play())}},stop:()=>{c.pause(),c.currentTime=0},_EGG_CONTENT:{_JOIN_APPLICATION_FORM_URL:'aHR0cHM6Ly93ZWItcHJvZ3JhbW1pbmctczE3dS5zOTExNDE1LnRrLyNzaWduLWJvYXJk',_ZIP:define.ZIP_PATH+'egg.zip'}};const m=n=>{JSZip.loadAsync(n).then(o=>o.files).then(o=>{o['\u30A8\u30EA\u30B9\u306E\u80F8\u306F\u30D1\u30C3\u30C9\u5165\u308A.m4a'].async('blob').then(q=>{g.ERIS_CHEST_PADDED=URL.createObjectURL(q)}),o['\u3088\u3046\u3053\u305D\u30B8\u30E3\u30D1\u30EA\u30D1\u30FC\u30AF\u3078.m4a'].async('blob').then(q=>{g.FRIENDS=URL.createObjectURL(q)});{let q=[];for(let r in o)o.hasOwnProperty(r)&&r.toString().match(/axys_(.*?)\.m4a/g)&&q.push(o[r]);q.sort(String.localeCompare),q.forEach((r,t)=>{r.async('blob').then(u=>{g.AXYS_EGG[t]=URL.createObjectURL(u)})})}}).catch(()=>{void 0,g.ERIS_CHEST_PADDED=e+'\u30A8\u30EA\u30B9\u306E\u80F8\u306F\u30D1\u30C3\u30C9\u5165\u308A.m4a',g.FRIENDS=e+'\u3088\u3046\u3053\u305D\u30B8\u30E3\u30D1\u30EA\u30D1\u30FC\u30AF\u3078.m4a';for(let q=1;6>=q;q++){const r=e+`axys_${q.toString().padStart(2,'0')}.m4a`;g.AXYS_EGG.push(r)}})};return window.addEventListener('load',()=>{fetch(g._EGG_CONTENT._ZIP,{method:'GET'}).then(n=>n.blob()).then(m)}),g.EGG_KEYWORD.forEach(n=>{n.key=n.key.toUpperCase().split('').reverse(),Object.freeze(n)}),Object.freeze(g.EGG_KEYWORD),a}(lf2||{});
"use strict";var lf2=function(a){return a.ImageInformation=class{constructor(c,d){this._img=d,this._rect=c}get img(){return this._img}get rect(){return this._rect}},a}(lf2||{});
"use strict";var lf2=function(a){const k=Framework.ResourceManager,l=a.Utils,m=a.Rectangle,n=a.ImageInformation,o=document.createElement("canvas");o.width=o.height=1;let p=new Map;return a.BmpInfo=class{constructor(s){this.source=s.getStringBetween("<bmp_begin>","<bmp_end>"),this.imageNormal=[],this.imageMirror=[],this._data=new Map,this._bmpLoad=[],this.source.lines().forEach(t=>{if(t=t.trim(),0!==t.length)if(t.startsWith("file("))this._bmpLoad.push(this._processImage(t));else if(-1!==t.indexOf(":")){let u=l.parseDataLine(t);u.forEach((v,w)=>{this._data.set(w,v)})}else{let u=t.split(/\s+/);this._data.set(u[0].trim(),parseFloat(u[1]))}}),this.imageNormal[-1]=this.imageMirror[-1]=new n(new m(o.width,o.height,0,0),o)}addPreloadResource(s){let t=null;return s instanceof Promise?t=s:(t=p.get(s),void 0===t&&(t=k.loadResource(s,{method:"GET"}),p.set(s,t))),this._bmpLoad.push(t),t}_processImage(s){const t=l.parseDataLine(s),u=s.split(":")[0],v=u.match(/(\d+)/g),w=intval(v[0]),x=intval(v[1]),y=intval(t.get("w")),z=intval(t.get("h")),A=this,B=intval(t.get("col")),C=intval(t.get("row"));return new Promise(D=>{k.loadImage({url:define.IMG_PATH+t.get(u)}).then(F=>{const G=F.response;let H=document.createElement("canvas");H.width=2*G.width,H.height=G.height;let I=H.getContext("2d");I.save(),I.drawImage(G,0,0),I.translate(H.width,0),I.scale(-1,1),I.drawImage(G,0,0),I.restore();let J=w,K=w;const L=new Image;for(let M=0;M<B;M++){const N=M*(z+1);for(let O=0;O<C;O++){const P=O*(y+1);A.imageNormal[J]=new n(new m(y,z,P,N),L),J++}for(let O=0;O<C;O++){const P=H.width+1-O*(y+1)-(y+1);A.imageMirror[K]=new n(new m(y,z,P,N),L),K++}}H.toBlob?H.toBlob(function(M){L.src=URL.createObjectURL(M)+"#"+t.get(u),D()}):(L.src=H.toDataURL(),D())})})}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=a.Utils,d=a.Rectangle;return a.Interaction=class{constructor(f){this.info=c.parseDataLine(f.replace(/\r?\n/g,"")),this.kind=intval(this.info.get("kind")||0),this.rect=new d(intval(this.info.get("w")),intval(this.info.get("h")),intval(this.info.get("x")),intval(this.info.get("y"))),this.zwidth=intval(this.info.get("zwidth")||12),this.dv=new b(intval(this.info.get("dvx")||0),intval(this.info.get("dvy")||0)),this.fall=intval(this.info.get("fall")||20),this.vrest=intval(this.info.get("vrest")||0),this.arest=intval(this.info.get("arest")||7),this.hasArest=void 0!==this.info.get("arest"),this.hasVrest=void 0!==this.info.get("vrest"),this.injury=intval(this.info.get("injury")||0),this.bdefend=intval(this.info.get("bdefend")||0),this.effect=intval(this.info.get("effect")||0),this._filterFall()}_filterFall(){switch(this.fall){case 70:this.fall=100;break;case 60:this.fall=70;break;case 40:this.fall=50;break;case 30:this.fall=30;}}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=a.Utils;return a.ObjectPoint=class{constructor(e){this.info=c.parseDataLine(e.replace(/\r?\n/g,"")),this.kind=intval(this.info.get("kind")||1),this.appearPoint=new b(intval(this.info.get("x")||0),intval(this.info.get("y")||0)),this.action=intval(this.info.get("action")),this.dv=new b(intval(this.info.get("dvx")||0),intval(this.info.get("dvy")||0)),this.objectId=intval(this.info.get("oid")||0),this.facing=intval(this.info.get("facing")||0),this.count=0|this.facing/10,this.dir=0==this.facing%2?a.GameItem.DIRECTION.RIGHT:a.GameItem.DIRECTION.LEFT,0>=this.count&&(this.count=1)}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=a.Utils,d=a.Rectangle;return a.Body=class{constructor(f){this.info=c.parseDataLine(f.replace(/\r?\n/g,"")),this.kind=intval(this.info.get("kind")||0),this.rect=new d(intval(this.info.get("w")),intval(this.info.get("h")),intval(this.info.get("x")),intval(this.info.get("y")))}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=a.Utils;return a.BloodPoint=class{constructor(e){this.info=c.parseDataLine(e.replace(/\r?\n/g,"")),this.point=new b(intval(this.info.get("x")),intval(this.info.get("y")))}},a}(lf2||{});
'use strict';var lf2=function(a){const b=a.Utils,n=a.Body,o=a.ObjectPoint,p=a.BloodPoint,q=a.Interaction,r=Framework.Point,s=Framework.Point3D,t=a.KeyboardConfig;return a.Frame=class{constructor(v,w){this.sourceCode=v;let x=v.lines(),y=x[0].split(/\s+/);this._gameObj=w,this.id=intval(y[0]),this.name=y[1];let z=1;for(;z<x.length&&-1===x[z].indexOf('pic');)z++;this.data=b.parseDataLine(x[z]);let A=v.getStringBetween('opoint:','opoint_end:'),B=v.getStringBetween('bpoint:','bpoint_end:');this.opoint=A?new o(A):void 0,this.bpoint=B?new p(B):void 0,this.mp=intval(this.data.get('mp')||0);let C=v.getStringBetweenMulti('itr:','itr_end:');0<C.length?(this.itr=[],C.forEach(E=>{let F=E.trim();F&&this.itr.push(new q(F))})):this.itr=void 0;let D=v.getStringBetween('bdy:','bdy_end:');D=D?D.trim():D,this.bdy=D?new n(D):void 0,this.soundPath=function(){let E;for(let F=0;F<x.length;F++){const G=x[F].trim();if(G.startsWith('sound:')){E=b.parseDataLine(G).get('sound');break}}return void 0===E?void 0:(E=define.MUSIC_PATH+E,E)}(),this.hit=(()=>{let E={};return t.HIT_KEY.HIT_LIST.forEach(F=>{const G=intval(this.data.get('hit_'+F)||0);E[t.HIT_KEY[F]]=E[F]=G}),E})(),this._velocity=new s(intval(this.data.get('dvx')||0),intval(this.data.get('dvy')||0),intval(this.data.get('dvz')||0)),this._center=new r(intval(this.data.get('centerx')),intval(this.data.get('centery')))}get pictureIndex(){return intval(this.data.get('pic')||0)}get state(){return intval(this.data.get('state')||0)}get wait(){return intval(this.data.get('wait')||0)+1}get nextFrameId(){return intval(this.data.get('next')||0)}get velocity(){return this._velocity}get center(){return this._center}get size(){if(void 0===this._sizeCache){const v=this._gameObj.bmpInfo.imageNormal[this.pic];this._sizeCache=new r(v.rect.width,v.rect.height)}return this._sizeCache}},a}(lf2||{});
'use strict';var lf2=function(a){const b=a.BmpInfo,c=Framework.ResourceManager,d=a.Effect,e=a.Frame;return a.GameObject=class{constructor(g,h){this.fileInfo=g,this.sourceCode=h,this.id=intval(g.id),this.bmpInfo=new b(h),this.frames=a.GameObject._parseFrames(h),this._audio=new Framework.Audio}done(){let g=[].concat(this.bmpInfo._bmpLoad);return Promise.all(g)}addPreloadResource(g){return this.bmpInfo.addPreloadResource(g)}static _parseFrames(g){const h='<frame>';let k=[],l=[];for(let m=g.indexOf(h);-1!==m;m=g.indexOf(h,m+1))k.push(m);return k.forEach(m=>{let n=g.getStringBetween(h,'<frame_end>',m).trim(),o=new e(n,this);l[o.id]=o}),l}getSoundList(){let g=new Set;return d.allSound.forEach(h=>{g.add(h)}),this.frames.forEach(h=>{void 0!==h.soundPath&&g.add(h.soundPath)}),g}_preLoadSound(){let g={};return this.getSoundList().forEach(h=>{'undefined'==typeof g[h]&&(g[h]=h)}),this.addPreloadResource(this._audio.addSongs(g))}getPlayList(){return this._audio.playlist}},a}(lf2||{});
"use strict";var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction,e="_hitSoundUrl _dropSoundUrl _brokenSoundUrl".split(" ");return a.GameObjectBall=class extends a.GameObject{constructor(g,h){super(g,h);const i=this.bmpInfo._data;this._hitSoundUrl=i.get("weapon_hit_sound"),this._dropSoundUrl=i.get("weapon_drop_sound"),this._brokenSoundUrl=i.get("weapon_broken_sound")}playHitSound(){this._hitSoundUrl&&this._audio.play(define.MUSIC_PATH+this._hitSoundUrl)}playDropSound(){this._dropSoundUrl&&this._audio.play(define.MUSIC_PATH+this._dropSoundUrl)}playBrokenSound(){this._brokenSoundUrl&&this._audio.play(define.MUSIC_PATH+this._brokenSoundUrl)}getSoundList(){let g=super.getSoundList();return e.forEach(h=>{this[h]&&g.add(define.MUSIC_PATH+this[h])}),g}},a}(lf2||{});
"use strict";var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction;return a.GameObjectWeapon=class extends a.GameObjectBall{constructor(f,g){super(f,g);const h=this.bmpInfo._data;this.hp=intval(h.get("weapon_hp")),this.hurt=intval(h.get("weapon_hp"))}},a}(lf2||{});
'use strict';var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction,e=Framework.ResourceManager;return a.GameObjectCharacter=class extends a.GameObject{constructor(g,h){super(g,h);const i=this.bmpInfo._data;this.head,this.small,this.addPreloadResource(e.loadResource(define.IMG_PATH+i.get('head'),{method:'GET'}).then(j=>j.blob()).then(j=>{this.head=new Image,this.head.src=URL.createObjectURL(j)})),this.addPreloadResource(e.loadResource(define.IMG_PATH+i.get('small'),{method:'GET'}).then(j=>j.blob()).then(j=>{this.small=new Image,this.small.src=URL.createObjectURL(j)})),this.name=i.get('name')||0,this.walking_frame_rate=i.get('walking_frame_rate')||0,this.walking_speed=i.get('walking_speed')||0,this.walking_speedz=i.get('walking_speedz')||0,this.running_frame_rate=i.get('running_frame_rate')||0,this.running_speed=i.get('running_speed')||0,this.running_speedz=i.get('running_speedz')||0,this.heavy_walking_speed=i.get('heavy_walking_speed')||0,this.heavy_walking_speedz=i.get('heavy_walking_speedz')||0,this.heavy_running_speed=i.get('heavy_running_speed')||0,this.heavy_running_speedz=i.get('heavy_running_speedz')||0,this.jump_height=i.get('jump_height')||0,this.jump_distance=i.get('jump_distance')||0,this.jump_distancez=i.get('jump_distancez')||0,this.dash_height=i.get('dash_height')||0,this.dash_distance=i.get('dash_distance')||0,this.dash_distancez=i.get('dash_distancez')||0,this.rowing_height=i.get('rowing_height')||0,this.rowing_distance=i.get('rowing_distance')||0}},a}(lf2||{});
"use strict";var lf2=function(a){class b extends Map{constructor(){super()}set(c,d){if(c=intval(c),isNaN(c))throw"Key must be an integer";return super.set(c,d),this}}return a.GameObjectPool=new b,a}(lf2||{});
"use strict";var lf2=function(a){const c=Framework.ResourceManager,d=Framework.Point;return a.GameMapLayer=class e{constructor(f,h){this.sourceCode=f,this.imgUrl=f.trim().lines()[0].trim(),this.img=null,this._imgLoader=c.loadImage({url:define.IMG_PATH+this.imgUrl}).then(j=>{return this.img=j.response,j});let i=a.Utils.parseDataLine(f);this.transparency="0"!=i.get("transparency"),this.width=intval(i.get("width")),this.height=intval(i.get("height")),this.position=new d(intval(i.get("x")||0),intval(i.get("y")||0)),this.loop=intval(i.get("loop")||0),this.cc=intval(i.get("cc")||0),this.c1=intval(i.get("c1")||0),this.c2=intval(i.get("c2")||0),this.rect=intval(i.get("rect")||-1),this.rect=-1===this.rect?void 0:e.GetColorFromRect(this.rect),this._map=h,this.radio=-1,this.counter=0,this.startX=0}done(){return this._imgLoader}initialize(){this.radio=-1,this.counter=0}load(){}update(){(!isFinite(this.radio)||0>this.radio)&&(this.radio=(this.width-this._map.widthShow)/(this._map.width-this._map.widthShow)),this.cc&&(this.counter++,this.counter>=this.cc&&(this.counter=0));const f=this._map.cameraX;this.rect||(this.startX=(0|-f*this.radio)+this.position.x)}draw(f){if(this.img){let h=!0;if(this.cc&&(this.counter>this.c2||this.counter<this.c1)&&(h=!1),h)if(this.rect)f.fillStyle=this.rect,f.fillRect(this.position.x,this.position.y,this.width,this.height);else{let i=this.startX;const j=this.img.width,k=this.img.height;do f.drawImage(this.img,0,0,j,k,i,this.position.y,j,k),i+=this.loop;while(this.loop&&i<this._map.widthShow)}}}static _parseLayers(){}static GetColorFromRect(f){const h=l=>l.toString(16).padStart(2,"0");f%=65536,0>f&&(f+=65536);let i,j,k;return k=8*(f%32+1)-1,j=(4*Math.floor(f/32)+7)%256,i=(7*(Math.floor(f/2048)+1)+Math.floor((f+32)/2048))%256,"#"+h(i)+h(j)+h(k)}},a}(lf2||{});
'use strict';var lf2=function(a){const b='layer:',d=Framework.Point,e=Framework.ResourceManager,f=a.GameMapLayer,g=a.Bound;return a.GameMap=class{constructor(j,k){this._promiseList=[],this.fileInfo=j,this.sourceCode=k,this.id=intval(j.id);const n=k.getStringBetween('',b);let o=a.Utils.parseDataLine(n);this.name=o.get('name').replace(/_/g,' '),this.width=intval(o.get('width')),this.zBoundary=a.GameMap._parseSizeByKey('zboundary',n),this.shadowSize=a.GameMap._parseSizeByKey('shadowsize',n),this.shadowUrl=o.get('shadow'),this.shadow,this._promiseList.push(e.loadImage({url:define.IMG_PATH+this.shadowUrl}).then(q=>{this.shadow=q.response})),this.haveCC=!1,this.layers=this._parseLayers(k),this.layers.forEach(q=>{this._promiseList.push(q.done())}),this.canvas=document.createElement('canvas'),this.canvas.width=Framework.Config.canvasWidth,this.canvas.height=Framework.Config.canvasHeight,this.mapCtx=this.canvas.getContext('2d'),this.widthShow=this.canvas.width,this.lastCameraX=-1,this.cameraX=0}done(){return Promise.all(this._promiseList)}initialize(j){!j instanceof a.WorldScene||(this._world=j,this.layers.forEach(k=>k.initialize()))}load(){}get isCameraChanged(){return this.haveCC||this.cameraX!==this.lastCameraX}update(){this.cameraX=this._world._getCameraPositionAsPoint().x,this.layers.forEach(j=>j.update())}draw(j){this.isCameraChanged&&(this.mapCtx.clearRect(0,0,this.canvas.width,this.canvas.height),this.layers.forEach(k=>k.draw(this.mapCtx)),this.lastCameraX=this.cameraX),j.drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height)}getBound(j){let k=g.NONE;return 0>j.x&&(k|=g.LEFT),j.x>this.width&&(k|=g.RIGHT),j.y<this.zBoundary.first&&(k|=g.TOP),j.y>this.zBoundary.second&&(k|=g.BOTTOM),k}_parseLayers(j){let k=[],n=[];for(let o=j.indexOf(b);-1!==o;o=j.indexOf(b,o+1))k.push(o);return k.forEach(o=>{let q=j.getStringBetween(b,'layer_end',o).trim(),s=new f(q,this);n.push(s),s.cc&&(this.haveCC=!0)}),n}static _parseSizeByKey(j,k){let n=k.indexOf(j);if(-1===n)return null;k=k.substr(n+j.length);let o=k.match(/:\s+?(\d+)\s+(\d+)/),q=intval(o[1]),s=intval(o[2]);return new d(q,s)}},a}(lf2||{});
"use strict";var lf2=function(a){class b extends Map{constructor(){super()}set(c,d){if(c=intval(c),isNaN(c))throw"Key must be an integer";return super.set(c,d),this}}return a.GameMapPool=new b,a}(lf2||{});
"use strict";var lf2=function(a){return a.ColorBar=class extends Framework.GameObject{constructor(c,d,e){super(),this._color=c,this._width=d,this._height=e}load(){}update(){}draw(c){c.fillStyle=this.color,c.fillRect(this.position.x,this.position.y,this.width,this.height)}get width(){return this._width}set width(c){this._width=c}get height(){return this._height}set height(c){this._height=c}get color(){return this._color}set color(c){this._color=c}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Config.canvasWidth>>1,c=Framework.Point,d=Framework.Point3D,e=Framework.Audio,g=a.Bezier,h=a.Body,j=a.Interaction,k=a.FrameStage,l=a.GameObject,m=a.GameObjectPool,n=a.Bound,q=a.ItrKind,r=a.Rectangle,s=a.Cube,t=1e3,u=-1,w=550,y=0.25,A=1,B=1.7,C=[0.895,0.03,0.685,0.22],D=100;const G=(J,K)=>{const L=J.currentFrame.center.x;return(0|J.position.x)+(J._direction===I.RIGHT?-L+K.position.x:L-K.position.x-K.width)},H=(J,K)=>{return J.position.z-J.currentFrame.center.y+K.position.y},I={RIGHT:!0,LEFT:!1};return Object.freeze(I),a.GameItem=class J extends Framework.GameObject{constructor(K,L){if(super(),!(L instanceof a.Player))throw TypeError("player argument must be a instance of lf2.Player");this.obj=m.get(K),this.position=new d(0,0,0),this.absolutePosition=new d(0,0,0),this.relativePosition=new d(0,0,0),this._velocity=new d(0,0,0),this._previousFrameIndex=0,this._currentFrameIndex=0,this._lastFrameSetTime=Date.now(),this._config=Framework.Config,this._direction=I.RIGHT,this._lastFrameId=u,this.belongTo=L,this._frameForceChange=!1,this._frameForceChangeId=u,this._createTime=Date.now(),this._allowDraw=!0,this._updateCounter=0,this._affectByFriction=!0,this._bdyItems=[],this._itrItem=null,this._itrItr=null,this._itrItemFrame=null,this._arestCounter=0,this._vrestCounter=0,this._flashing=!1,this._flashCounter=!1,this._isNew=!0,this.alive=!0,this._world=null,this._audio=new Framework.Audio(this.obj.getPlayList()),this._nextDirection=null,this._prevVelocity=this._velocity.clone(),this.pushSelfToLevel()}set world(K){this._world=K}get world(){return this._world}get currentFrame(){return this.obj.frames[this._currentFrameIndex]}get previousFrame(){return this.obj.frames[this._previousFrameIndex]}load(){}initialize(){}update(){if(this._isNew)return void(this._isNew=!1);const K=this.currentFrame;this._updateCounter++,this.applyFriction();let L=this._getFrameOffset();switch(this.position.z+=L.y,this.position.y+=L.z,this._direction===I.RIGHT?this.position.x+=L.x:this.position.x-=L.x,0<this.position.z&&(this.position.z=0,this._velocity.y=0),K.state){case k.CLOSED_BAD_GUY:if(this.world){let N=this.world.getEnemy(this.belongTo);N&&this.setPosition(N.position)}break;case k.CLOSED_TEAMMATE:if(this.world){let N=this.world.getFriend(this.belongTo);N&&this.setPosition(N.position)}}(this._frameForceChange||this._updateCounter>=this.currentFrame.wait)&&(this.setFrameById(this._getNextFrameId()),this._frameForceChange=!1,this._frameForceChangeId=u,null!==this._nextDirection&&(this._direction=this._nextDirection),this._nextDirection=null,this.updateVelocity()),0<this._arestCounter?this._arestCounter--:this._arestCounter=0,0<this._vrestCounter?this._vrestCounter--:this._vrestCounter=0,this._flashing&&(this._flashCounter=!this._flashCounter)}setBdyItems(K){this._bdyItems=K}_getFrameOffset(){this.currentFrame.wait;this._frameOffset=this._frameOffset||new d(0,0,0);let L=this._frameOffset;return this._frameOffset.x=this._velocity.x,this._frameOffset.y=this._velocity.y,this._frameOffset.z=this._velocity.z,L.x===w&&(L.x=0),L.y===w&&(L.y=0),L.z===w&&(L.z=0),this._frameOffset=L,L}_getVelocity(){return this.currentFrame.velocity}updateVelocity(){const K=(M,N)=>{return 0===N?M:N};this._velocity.writeTo(this._prevVelocity);const L=this._getVelocity();this._velocity.x=K(this._velocity.x,L.x),this._velocity.y=K(this._velocity.y,L.y),this._velocity.z=K(this._velocity.z,L.z)}applyFriction(){if(this._affectByFriction){const K=J.ApplyFriction(this._velocity.x),L=J.ApplyFriction(this._velocity.z);0===this.position.z&&(K&&this._velocity.x&&(this._velocity.x+=0<this._velocity.x?-K:K),L&&this._velocity.z&&(this._velocity.z+=0<this._velocity.z?-L:L)),0>this.position.z&&(this._velocity.y+=B),0<this.position.z&&(this.position.z=0,this._velocity.y=0),Math.abs(this._velocity.x)<A&&(this._velocity.x=0),Math.abs(this._velocity.y)<A&&(this._velocity.y=0),Math.abs(this._velocity.z)<A&&(this._velocity.z=0)}}setFrameById(K){if(0>K&&this.frameExist(-K))return this._direction=!this._direction,this.setFrameById(-K);if(!this.frameExist(K))throw new RangeError(`Object (${this.obj.id}) Frame (${K}) not found`);return K===t?void this.onDestroy():void(this._previousFrameIndex=this._currentFrameIndex,this._currentFrameIndex=K,this._lastFrameSetTime=Date.now(),this._updateCounter=0)}getFrameIdByName(K){let L=this.obj.frames.filter(M=>M.name===K)[0];if(!L)throw new RangeError(`Object (${this.obj.id}) Frame (${K}) not found`);return L.id}canDamageBy(K,L){const M=K.currentFrame.state;if(M===k.FIRE&&211!==K.obj.id)return!0;if(L.kind===q.THREE_D_OBJECTS)return!0;switch(L.kind){case q.CATCH:case q.PICK_WEAPON:case q.CATCH_BDY:case q.FALLING:case q.WEAPON_STRENGTH:case q.SUPER_PUNCH:case q.PICK_WEAPON_2:return!1;}return!this.isSameTeam(this,K)}frameExist(K){return K===t||!!this.obj.frames[K]}setFrameByName(K){this.setFrameById(this.getFrameIdByName(K))}draw(K){const L=this.ImgInfo,M=this.leftTopPoint,N=this.obj.frames[this._currentFrameIndex],O=0|M._x,P=0|M._y+M._z;if(this._allowDraw&&(!this._flashing||this._flashing&&this._flashCounter)){const Q=L._rect;K.drawImage(L._img,0|Q.position._x,0|Q.position._y,Q.width,Q.height,O,P,Q.width,Q.height)}if(this.isFrameChanged){if(N.soundPath){if(this.world instanceof a.WorldScene){const Q=this.world.getDistanceBetweenCameraAndItem(this);let R=Q/b;if(1<R&&(R=1),-1>R&&(R=-1),this._audio.balance=R,Q>b){let S=(Q-b)/D;1<S&&(S=1),S=1-g(C,S),0>S&&(S=0),this._audio.rightVolume=S}if(Q<-b){let S=(-Q-b)/D;1<S&&(S=1),S=1-g(C,S),0>S&&(S=0),this._audio.leftVolume=S}}this._audio.play(N.soundPath)}if(N.opoint){let Q=N.opoint;switch(Q.kind){case 4100:break;case 1:default:this.belongTo.addBall(Q,this);}}}if(this._lastFrameId=this._currentFrameIndex,define.DEBUG){K.lineWidth=2,K.strokeStyle="#FF00FF",K.strokeRect(O,P,L.rect.width,L.rect.height);const Q=this.getBdyRect();Q&&(K.strokeStyle="#FF0000",Q.draw(K,M.z));const R=this.getItrBox();R&&(K.strokeStyle="#0000FF",R.forEach(T=>T.draw(K,M.z)));let S=[];S.push(`ID: ${this.obj.id}`),S.push(`CurrentFrameId: ${this._currentFrameIndex} / wait: ${this.currentFrame.wait}`),S.push(`position: (${0|this.position.x}, ${0|this.position.y}, ${0|this.position.z}) / ${this._direction?"RIGHT":"LEFT"}`),S.push(`velocity: (${0|this._velocity.x}, ${0|this._velocity.y}, ${0|this._velocity.z})`),S.push(`VrestCounter: ${this._vrestCounter}`),this instanceof a.Character&&S.push(`Fall: ${0|this._fall}`),this instanceof a.Ball&&this._behavior&&S.push(`Behavior: ${this._behavior.toString()}`),K.font="200 12px Arial",K.textAlign="start",K.textBaseline="top",K.fillStyle="#FFF",K.strokeStyle="#000",K.lineWidth=2;for(let T=0;T<S.length;T++){const U=P+12*T;K.strokeText(S[T],O,U),K.fillText(S[T],O,U)}}}getItrBox(){const K=this.currentFrame.itr;return K?K.map(L=>{let M=this._transferRect(L.rect);return new s(M.width,M.height,K.zwidth,M.position.x,M.position.y)}):null}getBdyRect(){return this.currentFrame.bdy&&this._allowDraw?this._transferRect(this.currentFrame.bdy.rect):null}_transferRect(K){if(!K)return null;const L=this.leftTopPoint;return this._direction===I.RIGHT?new r(K.width,K.height,L.x+K.position.x,L.y+K.position.y):this._direction===I.LEFT?new r(K.width,K.height,L.x+this.width-K.position.x-K.width,L.y+K.position.y):void 0}transferPoint(K){if(!K)return null;const L=this.leftTopPoint;return this._direction===I.RIGHT?new c(L.x+K.x,L.y+K.y):this._direction===I.LEFT?new c(L.x+this.width-K.x,L.y+K.y):void 0}getAttackItems(){const K=this.currentFrame.itr;if(!K)return[];let L=[];return K.forEach(M=>{if(4===M.kind)return[];if(6===M.kind)return[];const N=G(this,M.rect),O=N+M.rect.width,P=this.position.y-(M.zwidth>>1),Q=P+M.zwidth,R=H(this,M.rect),S=R+M.rect.height,T=U=>{const V=U.currentFrame.bdy;if(!V||U._flashing)return!1;const X=G(U,V.rect),Y=X+V.rect.width,Z=U.position.y-6,_=H(U,V.rect),aa=_+V.rect.height;return N<=Y&&O>=X&&P<=Z+12&&Q>=Z&&R<=aa&&S>=_};for(let U=0;U<this._bdyItems.length&&0===this._vrestCounter;U++){const V=this._bdyItems[U];if(0<this._arestCounter)break;this!==V&&T(V)&&null===V._itrItem&&V!==this&&(L.push({item:V,itr:M}),(M.hasArest||!M.hasVrest)&&V instanceof a.Character&&-1!==q.ITR_ALLOW_FALL.binarySearch(M.kind)&&(this._arestCounter=M.arest))}}),L}cleanUpItr(){this._itrItem=null,this._itrItr=null,this._itrItemFrame=null}notifyDamageBy(K,L){return this._itrItem=K,this._itrItr=L,this._itrItemFrame=K.currentFrame,!0}postDamageItems(K){this.currentFrame.itr.forEach(L=>{L&&!L.hasArest&&L.hasVrest&&0<K.length&&K.some(M=>M instanceof a.Character)&&(this._vrestCounter=L.vrest)})}setNextFrame(K){this._frameForceChangeId=K,this._frameForceChange=!0}onOutOfBound(){}onDestroy(){throw"METHOD NOT IMPLEMENT"}get ImgInfo(){const K=this._direction?this.obj.bmpInfo.imageNormal:this.obj.bmpInfo.imageMirror,L=this.currentFrame;let M=K[L.pictureIndex];return M instanceof a.ImageInformation?M:K[-1]}get leftTopPoint(){const K=this.currentFrame.center;let L=this._leftTopPointRef||new d(0,0,0);return L.x=this.position.x-K.x,L.y=this.position.y-K.y,L.z=this.position.z,this._direction===I.LEFT&&(L.x=this.position.x-(this.width-K.x)),this._leftTopPointRef=L,L}_getNextFrameId(){if(this._frameForceChangeId!==u)return this._frameForceChangeId;let K=this.currentFrame.nextFrameId;return 0===K?this.currentFrame.id:999===K?0:K}freeze(){this._velocity.x=this._velocity.y=this._velocity.z=0}isSameTeam(K,L){return K.belongTo.team.equalsTo(L.belongTo.team)}get isFrameChanged(){return this._currentFrameIndex!==this._lastFrameId}get isObjectChanged(){return!0}get width(){return this.ImgInfo.rect.width}get height(){return this.ImgInfo.rect.height}get isStopping(){return this._velocity.x===this._velocity.y&&this._velocity.y===this._velocity.z&&0===this._velocity.x}get velocity(){return this._velocity.clone()}set velocity(K){this._velocity.x=K.x,this._velocity.y=K.y,this._velocity.z=K.z}isFront(K){let L=!0;return L=this._direction===I.RIGHT?this.position.x<K.position.x:this.position.x>K.position.x,L}setPosition(K){this.position.x=K.x,this.position.y=K.y,void 0!==K.z&&(this.position.z=K.z)}setNextDirection(K){this._nextDirection=K}static GetFriction(K){const L={3:1,5:2,6:4,9:5,13:7,25:9};0>K&&(K=-K);for(var M in L)if(K<=M)return L[M];return L[M]}static ApplyFriction(K,L){return void 0===L&&(L=J.GetFriction(K)),0===K?0:K===w?0:y*L}},a.GameItem.prototype.DIRECTION=a.GameItem.DIRECTION=I,a.GameItem.prototype.DESTROY_ID=a.GameItem.DESTROY_ID=t,a.GameItem.prototype.NONE=a.GameItem.NONE=u,a.GameItem.prototype.MIN_V=a.GameItem.MIN_V=A,a.GameItem.prototype.FRICTION=a.GameItem.FRICTION=y,a.GameItem.prototype.GRAVITY=a.GameItem.GRAVITY=B,a.GameItem.prototype.STOP_ALL_MOVE_DV=a.GameItem.STOP_ALL_MOVE_DV=w,a}(lf2||{});
"use strict";var lf2=function(c){const d=c.Utils,e=c.Bound,f=c.ItrKind,g=c.Body,h=c.Interaction,i=c.GameObject,j=c.Effect,l=c.GameItem,m=c.GameObjectPool,n=Framework.Point3D,p=c.KeyboardConfig,q=c.FrameStage,r=l.DIRECTION,s=l.NONE,w=60,A={min:0,max:4};Object.freeze(A);const B={min:5,max:8};Object.freeze(B);const C={min:9,max:11};Object.freeze(C);const D={min:180,max:185};Object.freeze(D);const E={min:186,max:191};Object.freeze(E);const F={min:1100,max:1299};Object.freeze(F);const G=[q.STAND,q.WALK,q.RUN];G.sort((Z,$)=>Z-$),Object.freeze(G);const K=210,L=212,M=110,N=218,R=230,S=231,T=Z=>{let $=0|Z.length*Math.random();return Z[$]},U=()=>T([60,65]),V=()=>T([R,S]),W={};let X=[];for(let Z in W[q.STAND]={d:M,j:K,a:U},W[q.WALK]={d:M,j:K,a:W[q.STAND].a},W[q.RUN]={d:102,j:K,a:85},W[q.JUMP]={a:80},W){let $=W[Z];p.HIT_KEY.HIT_LIST.forEach(_=>{$[_]&&($[p.HIT_KEY[_]]=$[_])}),X.push(intval(Z)),Object.freeze(W[Z])}Object.freeze(W),X.sort((Z,$)=>Z-$);const Y={HP:{value:10,interval:5e3},MP:{value:Z=>1+(0|Z.hp/100),interval:500},FALL:{value:-0.45},BDEFEND:{value:-0.5}};for(let Z in Y)Object.freeze(Y[Z]);return Object.freeze(Y),c.Character=class extends c.GameItem{constructor($,_){super($,_),this.charId=$,this.head=this.obj.head,this.small=this.obj.small,this._lastFuncKey=0,this._walk_dir=r.RIGHT,this._run_dir=r.RIGHT,this._punch_dir=r.RIGHT,this._hideRemainderTime=0,this._fall=0,this._godModeTime=0,this._upKey=-1,this._lastRecoverHPTime=-1,this._lastRecoverMPTime=-1}_getNextFrameId(){if(this._frameForceChangeId!==s)return this._frameForceChangeId;const $=this.currentFrame.state;let _=this.currentFrame.nextFrameId;const ba=this._curFuncKey&~((p.KEY_MAP.LEFT|p.KEY_MAP.RIGHT)&~p.KEY_MAP.FRONT),ca=-1!==X.binarySearch($);if(205===_&&this._currentFrameIndex===_+1&&(_=R),203===_&&this._currentFrameIndex===_+1&&(_+=2),(ca||0===_||999===_)&&W[$]){const ea=W[$][ba];ea&&("function"==typeof ea?_=ea():_=ea)}const da=this._isArrowKeyOnly();if(ca&&0!==_&&_.inRange(A.min,A.max)&&da&&(_=999),_.inRange(F.min,F.max)&&(this._hideRemainderTime=_-1e3,this._allowDraw=!1,_=0),$===q.LYING&&(this._fall=0,this.belongTo.isAlive&&(this._godModeTime=40)),0>=this.belongTo.hp)this._allowDraw=!0,this._hideRemainderTime=0,_=$===q.LYING?this.currentFrame.id:V();else if(0>this.position.z&&-1!==G.binarySearch($)&&(_=L),0===_)switch($){case q.RUN:case q.BURN_RUN:this._run_dir===r.RIGHT?(_=this.currentFrame.id+1,_>C.max&&(_-=2,this._run_dir=r.LEFT)):(_=this.currentFrame.id-1,_<C.min&&(_+=2,this._run_dir=r.RIGHT)),(this.containsKey(p.KEY_MAP.LEFT)&&this._direction===r.RIGHT||this.containsKey(p.KEY_MAP.RIGHT)&&this._direction===r.LEFT)&&(_=N,this._nextDirection=null);break;case q.FALL:{let ea=-1;this._currentFrameIndex.inRange(D.min,D.max)?(ea=!0,_=this._currentFrameIndex+1,_>D.max?_=D.max:_<D.min&&(_=D.min)):this._currentFrameIndex.inRange(E.min,E.max)&&(ea=!1,_=this._currentFrameIndex+1,_>E.max?_=E.max:_<E.min&&(_=E.min)),this.isStopping&&(ea?_=R:_=S)}break;default:_=0,0>this.position.z&&(_=L);}else 999===_&&($===q.STAND?da&&(_=B.min,this._walk_dir=r.RIGHT):$===q.WALK?(da||this.belongTo._isHoldingLastKey())&&(this._walk_dir===r.RIGHT?(_=this.currentFrame.id+1,_>B.max&&(_-=2,this._walk_dir=r.LEFT)):(_=this.currentFrame.id-1,_<B.min&&(_+=2,this._walk_dir=r.RIGHT))):(_=0,0>this.position.z&&(_=L)),999==_&&(_=0));return _}_getVelocity(){let $,_,aa;switch($=_=aa=0,this.currentFrame.state){default:$=this.currentFrame.velocity.x,_=this.currentFrame.velocity.y,aa=this.currentFrame.velocity.z;}if(this._itrItem){let ba=this._itrItemFrame.itr;if(!ba)throw"Some wrong";switch(ba=ba[0],ba.kind){case f.THREE_D_OBJECTS:$=aa=0;}}return this._charVel=this._charVel||new Framework.Point3D(0,0,0),this._charVel.x=$,this._charVel.y=_,this._charVel.z=aa,this._charVel}_getFrameOffset(){const $=super._getFrameOffset();let _,aa,ba;switch(_=$.x,aa=$.y,ba=0,this.currentFrame.state){case q.WALK:this.containsKey(p.KEY_MAP.DOWN)?ba=this.obj.walking_speedz:this.containsKey(p.KEY_MAP.UP)&&(ba=-this.obj.walking_speedz),(this.containsKey(p.KEY_MAP.RIGHT)||this.containsKey(p.KEY_MAP.LEFT))&&(_=this.obj.walking_speed);break;case q.RUN:case q.BURN_RUN:this.containsKey(p.KEY_MAP.DOWN)?ba=this.obj.running_speedz:this.containsKey(p.KEY_MAP.UP)&&(ba=-this.obj.running_speedz),_=this.obj.running_speed;break;case q.JUMP:this._currentFrameIndex!==L&&(aa=this.obj.jump_height);break;default:{const ca=this._getVelocity();0!==ca.z&&ca.z!==this.STOP_ALL_MOVE_DV&&(this.containsKey(p.KEY_MAP.DOWN)?ba=ca.z:this.containsKey(p.KEY_MAP.UP)&&(ba=-ca.z))}}return void 0!==_&&(this._velocity.x=_),void 0!==aa&&(this._velocity.y=aa),void 0!==ba&&(this._velocity.z=ba),new n(_,aa,ba)}draw($){super.draw($);const _=this.currentFrame;if(this._allowDraw&&this.belongTo&&this.belongTo.status){const aa=this.belongTo.status;if(_.bpoint&&aa.HPRadio<=100/3){const ba=this.transferPoint(_.bpoint.point);$.fillStyle="#FF3333",$.fillRect(ba.x-1,ba.y,2,5)}}}startRun(){const $=this.currentFrame.state;this._currentFrameIndex.inRange(C.min,C.max)||-1!==X.binarySearch($)&&this.setFrameById(C.min)}_isArrowKeyOnly(){return this.containsKey(p.KEY_MAP.UP)||this.containsKey(p.KEY_MAP.DOWN)||this.containsKey(p.KEY_MAP.LEFT)||this.containsKey(p.KEY_MAP.RIGHT)}containsKey($){return this.belongTo.containsKey($)}onDestroy(){if(this.spriteParent)this.spriteParent.detach(this);else throw"Cannot destroy character"}get isFuncKeyChanged(){return this._curFuncKey!==this._lastFuncKey}onOutOfBound($,_){0<($&e.LEFT)&&(this.position.x=0),0<($&e.RIGHT)&&(this.position.x=_.width),0<($&e.TOP)&&(this.position.y=_.zBoundary.first),0<($&e.BOTTOM)&&(this.position.y=_.zBoundary.second)}update(){super.update();const $=Date.now(),_=this.currentFrame.state;if(this.isFuncKeyChanged&&-1!==X.binarySearch(_)&&(this._lastFuncKey=this._curFuncKey,this._frameForceChange=!0),this.belongTo.isAlive&&$-this._lastRecoverHPTime>=Y.HP.interval&&(this.belongTo.addHp(Y.HP.value),this._lastRecoverHPTime=$),$-this._lastRecoverMPTime>=Y.MP.interval&&(this.belongTo.addMp(Y.MP.value(this.belongTo)),this._lastRecoverMPTime=$),this.addFall(Y.FALL.value),_===q.ICE&&this.freeze(),this.currentFrame.mp&&this.previousFrame&&this.currentFrame&&this.previousFrame.nextFrameId===this._currentFrameIndex&&!this.belongTo.requestMp(-this.currentFrame.mp)&&this.setNextFrame(this.currentFrame.hit.d),_===q.CURE_SELF&&this.belongTo.addHp(100),80==(0|_/100)||9995===_){let ba=_%1e3;9995===_&&(ba=50),this.belongTo.charId=ba,this.obj=m.get(ba),this.head=this.obj.head,this.small=this.obj.small,this._currentFrameIndex=0}this._allowDraw||(this._hideRemainderTime--,this._hideRemainderTime<=w&&(this._hideRemainderTime=0,this._allowDraw=!0,this._godModeTime=w)),0<this._godModeTime&&(this._flashing=!0,this._godModeTime--,0===this._godModeTime&&(this._flashing=!1,this._flashCounter=!1))}freeze(){this._velocity.x=this._velocity.z=0}setFrameById($){super.setFrameById($);const _=-1!==X.binarySearch(this.currentFrame.state);if(_){const aa=this._curFuncKey&~p.KEY_MAP.FRONT;this._previousFrameIndex===N?this.belongTo._currentKey&=~p.KEY_MAP.FRONT:0==(aa&p.KEY_MAP.LEFT)?0!=(aa&p.KEY_MAP.RIGHT)&&this.setNextDirection(r.RIGHT):this.setNextDirection(r.LEFT)}}canDamageBy($,_){const aa=super.canDamageBy($,_);return aa?this.currentFrame.state===q.BURN_RUN&&_.kind===f.NORMAL_HIT&&(_.effect===j.FIRE||_.effect===j.FIXED_FIRE_0||_.effect===j.FIXED_FIRE_1||_.effect===j.FIXED_FIRE_2)?!1:aa:aa}notifyDamageBy($,_){super.notifyDamageBy($,_);const aa=_,ba=aa.dv,ca=this.currentFrame.state,da=this.canDamageBy($,aa);if(aa.kind===f.HEAL_BALL)return!da&&($.setNextFrame(40),this.belongTo.addHp(aa.injury),!0);if(!da)return!1;switch(aa.kind){case f.NORMAL_HIT:case f.REFLECTIVE_SHIELD:case f.SONATA_OF_DEATH_1:case f.SONATA_OF_DEATH_2:case f.WHIRLWIND_WIND:case f.WHIRLWIND_ICE:this.belongTo.hurtPlayer(aa.injury),$.belongTo.addAttackCount(aa.injury);break;case f.THREE_D_OBJECTS:return this._velocity.x=this._velocity.y=0,!1;break;default:return this._arestCounter=this._vrestCounter=0,!1;}if(-1!==f.ITR_ALLOW_FALL.binarySearch(aa.kind)&&(this._velocity.x=ba.x,this._velocity.y=ba.y,this.addFall(aa.fall)),aa.kind===f.WHIRLWIND_WIND){this._velocity.y=ba.y;const ha=1;this._velocity.y-=2/ha;const ia=la=>0<la?1:-1,ja=aa.rect.position.x+ba.x+(aa.rect.width>>1),ka=ba.y;this._velocity.x-=2*ia(this.position.x-ja)/ha,void 0,this._velocity.y+=0.5*ia(this.position.y-ka)/ha}let ea=this._direction!==$._direction;ea&&(this._velocity.x=-1*this._velocity.x);let fa=0>=this.belongTo.hp;const ga=()=>{ea?this.setNextFrame(D.min):this.setNextFrame(E.min),fa=!0};switch(ca===q.ICE?ga():this._fall.inRange(1,20)?this.setNextFrame(220):this._fall.inRange(21,30)?this.setNextFrame(222):this._fall.inRange(31,40)?this.setNextFrame(224):this._fall.inRange(41,60)?this.setNextFrame(226):60<=this._fall&&ga(),aa.kind){case f.NORMAL_HIT:switch(aa.effect){case j.FIXED_FIRE_0:case j.FIXED_FIRE_1:case j.FIXED_FIRE_2:this.freeze();case j.FIRE:this.setNextFrame(203);break;case j.FIXED_ICE:this.freeze();case j.ICE:this.setNextFrame(200);}this.playEffectSound(aa.effect,fa);break;case f.WHIRLWIND_ICE:case f.WHIRLWIND_WIND:this.setNextFrame(200),this.playEffectSound(j.ICE,fa);break;case f.THREE_D_OBJECTS:this.freeze();}if(ca===q.ICE)this.playEffectSound(j.ICE,fa);else switch(aa.kind){case f.NORMAL_HIT:this.playEffectSound(aa.effect,fa);break;case f.WHIRLWIND_ICE:case f.WHIRLWIND_WIND:this.playEffectSound(j.ICE,fa);}return!0}postDamageItems($){super.postDamageItems($)}playEffectSound($,_){const aa=j.sound.getSoundPath($,_);aa&&this._audio.play(aa)}addFall($){this._fall+=$,0>this._fall?this._fall=0:100<this._fall&&(this._fall=100)}get _curFuncKey(){return this.belongTo._currentKey}setUpKey($){this._upKey=$}},c}(lf2||{});
"use strict";var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction,e=a.ItrKind,f=a.GameObject,g=a.GameObjectPool,h=Framework.ResourceManager,j=Framework.Point3D,k=a.FrameStage,l=a.Effect,m=a.KeyboardConfig,n=a.Bound,p=500,q=a.GameItem.DIRECTION,r=a.GameItem.NONE,s=[220,221,222];return a.Ball=class extends a.GameItem{constructor(u,w){super(u,w),this._remainderTime=p,this._isOut=!1,this._affectByFriction=!1,this._behavior=null}_getNextFrameId(){if(this._frameForceChangeId!==r)return this._frameForceChangeId;if(this._isOut)return a.GameItem.DESTROY_ID;const u=this.currentFrame;let w=u.nextFrameId;const x=u.hit;switch(0>=this._remainderTime&&0!==x.a&&0!==x.d&&(w=x.d),0===w&&(w=this._currentFrameIndex),x.Fa){case 7:w!==this.DESTROY_ID&&-10<=this.position.z&&-1!==s.indexOf(this.obj.id)&&(w=60);}return 999===w?0:w}onOutOfBound(u,w){(u&n.LEFT||u&n.RIGHT)&&(this._isOut=!0),u&n.TOP&&(this.position.y=w.zBoundary.first),u&n.BOTTOM&&(this.position.y=w.zBoundary.second)}update(){const u=this.currentFrame.hit;super.update(),this._behavior&&0<this._remainderTime&&this._behavior.update(),this.isFrameChanged&&0<u.a&&(this._remainderTime-=u.a)}onDestroy(){if(this.spriteParent)this.spriteParent.detach(this);else throw"Cannot destroy ball"}_getVelocity(){let u=super._getVelocity();const w=this.currentFrame.hit;if(this._ballVel=this._ballVel||new j(0,0,0),u.writeTo(this._ballVel),u=this._ballVel,w.j&&(u.z=w.j-50),!this.world)return u;if(0!==w.Fa){if(this._behavior){if(0>=this._remainderTime)if(this.velocity=this._behavior._maxVelocity,this._behavior.FA!==w.Fa)this._behavior=null,this._remainderTime=p;else return this._behavior._maxVelocity;if(this._behavior&&this._behavior.FA===w.Fa)return this._behavior.getVelocity()}switch(w.Fa){case 1:this._behavior=new a.CenterTrackerBehavior(this,this.spriteParent);break;case 14:this._behavior=new a.JulianBallTrackerBehavior(this,this.spriteParent);break;case 2:this._behavior=new a.HorizontalTrackerBehavior(this,this.spriteParent);break;case 3:this._behavior=new a.SpeedUpTrackerBehavior(this,this.spriteParent);break;case 10:this._behavior=new a.FasterTrackerBehavior(this,this.spriteParent);break;case 7:this._behavior=new a.FirzenDisasterFallDownBehavior(this,this.spriteParent);break;case 9:this._behavior=new a.FirzenDisasterFallDownBeginBehavior(this,this.spriteParent);break;case 13:this._behavior=new a.JulianBallBeginBehavior(this,this.spriteParent);break;default:return new Framework.Point3D(10,0,0);}if(this._behavior.update(),this._behavior)return this._behavior.getVelocity()}else this._behavior=null;return u}updateVelocity(){const u=(x,y)=>{return 0===y?x:y};this._velocity.writeTo(this._prevVelocity);const w=this._getVelocity();this._velocity.x=u(this._velocity.x,w.x),this._velocity.y=u(this._velocity.y,w.y),this._velocity.z=u(this._velocity.z,w.z)}_getFrameOffset(){let u=super._getFrameOffset().clone();return u.z-=a.GameItem.ApplyFriction(this._velocity.z),this._velocity.z=u.z,u}notifyDamageBy(u,w){super.notifyDamageBy(u,w);const x=w,y=x.dv,z=this.currentFrame.state,A=u.currentFrame.state,B=()=>{this._velocity.x=-x.dv.x,this.setNextFrame(30),this.obj.playHitSound(),this.update(),this.belongTo=u.belongTo};if(z===k.BALL_FLYING&&(x.kind===e.REFLECTIVE_SHIELD||u instanceof a.Character&&A===k.PUNCH))return B(),!0;if(x.kind===e.REFLECTIVE_SHIELD)return B(),!0;if(x.kind===e.THREE_D_OBJECTS&&this.currentFrame.itr&&this.currentFrame.itr.some(D=>D.kind===e.THREE_D_OBJECTS))return!1;const C=this.canDamageBy(u,x);if(!C)return!1;switch(z){case k.BALL_WIND_FLYING:this.obj.playHitSound(),A===k.BALL_WIND_FLYING&&(this.setNextFrame(20),this.freeze());break;case k.BALL_HIT_HEART:this.obj.playHitSound(),(A===k.BALL_WIND_FLYING||A===k.BALL_HIT_HEART)&&(this.setNextFrame(20),this.freeze());break;case k.DISAPPEAR_WHEN_HIT:if(x.kind===e.THREE_D_OBJECTS&&this.currentFrame.itr&&this.currentFrame.itr.some(D=>D.kind===e.NORMAL_HIT&&D.effect===l.FIXED_ICE))return!1;break;default:A!==k.FROZEN&&A!==k.FIRE&&A!==k.BALL_WIND_FLYING&&A!==k.BALL_HIT_HEART&&(this.setNextFrame(20),this.freeze());}return!0}postDamageItems(u){super.postDamageItems(u);const w=this.currentFrame,x=w.state,y=w.itr[0],z=w.hit,A=u.some(D=>D.belongTo!==this.belongTo),B=u.some(D=>D.belongTo===this.belongTo),C=u.some(D=>D instanceof a.Character);if(y&&y.kind===e.REFLECTIVE_SHIELD)A&&C&&(this.obj.playHitSound(),this.setNextFrame(z.d));else switch(x){case k.BALL_FLYING:A?(this.setNextFrame(20),this.obj.playHitSound(),this.freeze()):B&&(this.setNextFrame(10),this.obj.playHitSound(),this.freeze());break;case k.BALL_HITTING:A&&(this.obj.playHitSound(),this.setNextFrame(20),this.freeze());break;case k.BALL_CANCELED:A&&(this.obj.playHitSound(),this.setNextFrame(20),this.freeze());break;case k.BALL_WIND_FLYING:A&&(this.obj.playHitSound(),u[0].currentFrame.state===k.BALL_WIND_FLYING&&(this.setNextFrame(20),this.freeze()));break;case k.BALL_HIT_HEART:A&&(this.obj.playHitSound(),(u[0].currentFrame.state===k.BALL_WIND_FLYING||u[0].currentFrame.state===k.BALL_HIT_HEART)&&(this.setNextFrame(20),this.freeze()));break;default:}}get __leftTopPoint__lol(){const u=this.currentFrame.center;let w=new j(this.position.x-u.x,this.position.y-this.height+u.y,this.position.z);return this._direction===q.LEFT&&(w.x=this.position.x-(this.width-u.x)),w}},a}(lf2||{});
"use strict";var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction,e=a.GameItem.NONE,f=a.GameObject,g=a.GameObjectPool,h=Framework.ResourceManager,i=a.FrameStage,j=a.KeyboardConfig,k=a.Bound,l=70;return a.Weapon=class extends a.Ball{constructor(n,o){super(n,o),this._affectByFriction=!0}_getNextFrameId(){if(this._isOut)return a.GameItem.DESTROY_ID;if(this._frameForceChangeId!==e)return this._frameForceChangeId;const n=this.currentFrame;let o=n.nextFrameId;switch(n.state){case i.WEAPON_IN_THE_SKY:case i.WEAPON_THROWING:0===this.position.z&&(o=l);}if(0===o)switch(n.state){case i.WEAPON_THROWING:0===this.position.z&&(o=l);break;case i.DELETE_MESSAGE:o=a.GameItem.DESTROY_ID;break;default:o=0;}return 999===o?0:o}update(){super.update();const n=this.currentFrame;n.state===i.DELETE_MESSAGE&&(this._allowDraw=!1)}},a}(lf2||{});
"use strict";var lf2=function(a){const b="Method Not Implemented";return a.AbstractBehavior=class{constructor(d,e){this._ball=d,this.belongTo=d.belongTo,this._world=e}getVelocity(){throw b}update(){this._ball&&!this._ball.alive&&(this._ball._behavior=null,this._ball=null)}getTarget(){throw b}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.GameItem,f=e.MIN_V,g=e.GRAVITY,h=a.Utils;return a.CenterTrackerBehavior=class extends a.AbstractBehavior{constructor(k,l){super(k,l),this._maxVelocity=new Framework.Point3D(10,0,5),this._targetCatched=!1,this._radius=0}update(){super.update(),this._radius<this._maxVelocity.x?this._radius+=g:this._radius>this._maxVelocity.x&&(this._radius=this._maxVelocity.x)}getVelocity(){const k=this.getTarget();let l,m,n;if(l=m=n=0,null!==k){let o=this._ball.isFront(k);if(o){const q=new b(this._ball.position.x,this._ball.position.y),r=new b(k.position.x,k.position.y),s=h.GetRadBasedOnPoints(q,r);l=this._radius*Math.cos(s),n=.5*this._radius*Math.sin(s),this._ball._direction===e.DIRECTION.LEFT&&(l*=-1)}else this._ball._direction=!this._ball._direction,this._radius=-this._maxVelocity.x,l=this._radius;const p=this._ball.position.z-k.position.z;Math.abs(p)<f?m=0:(m=0==p?0:0<p?-1:1,m*=g),Math.abs(m)>this._maxVelocity.y&&0!==this._maxVelocity.y&&(m=Math.sign(m)*this._maxVelocity.y)}return new c(l,m,n)}getTarget(){if(!this._world)return null;let k=this._world.getEnemy(this.belongTo);return this._targetCatched||(this._maxVelocity=this._ball._prevVelocity.clone(),this._maxVelocity.x=Math.abs(this._maxVelocity.x),this._maxVelocity.y=Math.abs(this._maxVelocity.y),this._maxVelocity.z=Math.abs(this._maxVelocity.z),Object.freeze(this._maxVelocity),this._radius=this._maxVelocity.x),this._targetCatched=!0,k}get FA(){return 1}toString(){return"lf2.CenterTrackerBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.Utils,f=a.GameItem,g=f.MIN_V,h=f.GRAVITY,i=f.FRICTION;return a.FasterTrackerBehavior=class extends a.AbstractBehavior{constructor(k,l){super(k,l),this._maxVelocity=new Framework.Point3D(12,0,0),this._target=null}update(){super.update()}getVelocity(){let k=this._ball._velocity.x;return k+=k*i,new c(k,0,0)}getTarget(){return(this._target&&!this._target.alive&&(this._target=null),null!==this._target)?this._target:(this._target=this._world.getEnemy(this.belongTo),this._maxVelocity=this._ball._prevVelocity.clone(),this._target)}get FA(){return 10}toString(){return"lf2.FasterTrackerBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.GameItem,f=e.MIN_V,g=e.GRAVITY,h=e.FRICTION,i=a.Utils;return a.HorizontalTrackerBehavior=class extends a.CenterTrackerBehavior{constructor(k,l){super(k,l)}getVelocity(){let k=super.getVelocity();return k.y=0,k}get FA(){return 2}toString(){return"lf2.HorizontalTrackerBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.GameItem,f=e.MIN_V,g=e.GRAVITY,h=e.FRICTION,i=a.Utils;return a.SpeedUpTrackerBehavior=class extends a.HorizontalTrackerBehavior{constructor(k,l){super(k,l)}get FA(){return 3}toString(){return"lf2.SpeedUpTrackerBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const c=Framework.Point3D;return a.JulianBallBeginBehavior=class extends a.AbstractBehavior{constructor(e,f){super(e,f),this._attached=!1}getVelocity(){return new c(0,0,0)}update(){if(super.update(),!this._attached){let e=new a.ObjectPoint(`kind: 1  x: 0  y: 5  action: 0  dvx: 15  dvy: 0  oid: 228  facing: 0`);this.belongTo.addBall(e,this._ball),this._attached=!0}}getTarget(){return null}get FA(){return 13}toString(){return"lf2.JulianBallBeginBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.GameItem,f=e.MIN_V,g=e.GRAVITY,h=a.Utils;return a.JulianBallTrackerBehavior=class extends a.CenterTrackerBehavior{constructor(k,l){super(k,l)}get FA(){return 14}toString(){return"lf2.JulianBallTrackerBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){const c=Framework.Point3D;return a.FirzenDisasterFallDownBeginBehavior=class extends a.AbstractBehavior{constructor(e,f){super(e,f),this._attached=!1}getVelocity(){return new c(0,0,0)}update(){if(this._ball&&!this._ball.alive&&this._attached&&(this._ball._behavior=null,this._ball=null),!this._attached){let e=this._world.attachArray.filter(g=>g instanceof a.Character).length,f=[new a.ObjectPoint(`kind: 1  x: 0  y: 0  action: 0  dvx: 15  dvy: -8  oid: 221  facing: ${e}0`),new a.ObjectPoint(`kind: 1  x: 0  y: 0  action: 0  dvx: 13  dvy: -10  oid: 222  facing: ${e}0`)];f.forEach(g=>{this.belongTo.addBall(g,this._ball)}),this._attached=!0}}getTarget(){return null}get FA(){return 9}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Point,c=Framework.Point3D,e=a.GameItem,f=e.MIN_V,g=e.GRAVITY,h=e.FRICTION,i=a.Utils;return a.FirzenDisasterFallDownBehavior=class extends a.AbstractBehavior{constructor(l,m){super(l,m),this._maxVelocity=new Framework.Point3D(10,0,5),this._targetCatched=!1,this._radiusX=0,this._counter=0}update(){super.update(),this._counter++}getVelocity(){const l=this.getTarget();let m,n,o;if(m=n=o=0,null!==l){const p=this._ball.isFront(l);if(p){const s=new b(this._ball.position.x,-this._ball.position.z),t=new b(l.position.x,-l.position.z);let u=this._counter,v=Math.exp(-u*u/1e3);m=this._radiusX*v,n=this._maxVelocity.y*(1-Math.exp(-u*u/50))}else this._ball._direction=!this._ball._direction,m=this._radiusX;const q=this._ball.position.y-l.position.y;o=0==q?0:0<q?-1:1,Math.abs(q)<8||(o*=2)}return new c(m,n,o)}getTarget(){if(!this._world)return null;let l=this._world.getEnemy(this.belongTo);return this._targetCatched||(this._maxVelocity=this._ball._prevVelocity.clone(),this._maxVelocity.x=Math.abs(this._maxVelocity.x)+((0|4*Math.random())-2),this._maxVelocity.y=Math.abs(this._maxVelocity.y),this._maxVelocity.z=Math.abs(this._maxVelocity.z),this._radiusX=Math.abs(this._maxVelocity.x),this._radiusY=Math.abs(this._maxVelocity.y)),this._targetCatched=!0,l}get FA(){return 7}toString(){return"lf2.FirzenDisasterFallDownBehavior"}},a}(lf2||{});
"use strict";var lf2=function(a){a.Utils;let c=new Map,d=new Map;const e={0:"#fbfbfb",1:"#4f9bff",2:"#ff4f4f",3:"#3cad0f",4:"#ff4cec",5:"#ffd34c"};Object.freeze(e);const f={0:"#444444",1:"#001e46",2:"#460000",3:"#154103",4:"#8c009a",5:"#9a5700"};return Object.freeze(f),a.Team=class g{constructor(h){h*=1,this._teamId=h,0<h?(this._teamSymbol=d.get(h)||Symbol(`team_${h}`),d.set(h,this._teamSymbol)):this._teamSymbol=Symbol("team_independent")}equalsTo(h){return this._teamSymbol===h._teamSymbol}toString(){return 0<this._teamId?`Team ${this._teamId}`:"Independent"}getColor(){return 0<this._teamId?e[`${this._teamId}`]:e[0]}getDarkColor(){return 0<this._teamId?f[`${this._teamId}`]:f[0]}get id(){return 0<this._teamId?this._teamId:0}static EqualsTo(h,i){return h.equalsTo(i)}static GetTeamInstance(h){h*=1;let i=c.get(h);return i?i:(i=new g(h),0<h&&c.set(h,i),i)}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Sprite,c=Framework.Point,d=new c(198,53),e=Math.floor(Framework.Config.canvasWidth/d.x),g=a.ColorBar,h=a.Utils,m=new c(7,4),n=new c(124,10),o=new c(57,15),p=new c(57,35),q=r=>{return"translateX("+(r-100)+"%)"};return a.PlayerStatusPanel=class{constructor(s){this._player=s;const t=this._player.playerId;this.panelPosition=new c(t%e*d.x,(0|t/e)*d.y),this._hpRatio=1,this._mpRatio=1,this._elem=void 0,this._lastTeam=void 0}setElem(s){s&&s.hp&&s.mp&&s.small&&(this._elem=s,s.setAttribute("attached","1"),this._flagIcon=s.flag,this._hpValueBar=s.hp.querySelector(".value"),this._mpValueBar=s.mp.querySelector(".value"))}load(){}update(){this._hpRatio=this._player.hp/a.Player.prototype.DEFAULT_HP,this._mpRatio=this._player.mp/a.Player.prototype.DEFAULT_HP,this._hpRatio=0|100*h.returnInRangeValue(this._hpRatio,0,1),this._mpRatio=0|100*h.returnInRangeValue(this._mpRatio,0,1)}draw(){if(this._elem){const t=this._elem;t.small.src!==this._player.character.small.src&&(t.small.src=this._player.character.small.src),this._lastTeam!==this._player.team&&(this._elem.setAttribute("data-team",this._player.team.id),this._elem.setAttribute("data-team-str",this._player.team),this._flagIcon.style.color=this._player.team.getColor(),this._lastTeam=this._player.team),this._hpValueBar.style.transform=q(this._hpRatio),this._mpValueBar.style.transform=q(this._mpRatio)}}getRealPosition(s){let t=s.x+this.panelPosition.x,u=s.y+this.panelPosition.y;return new c(t,u)}get HPRadio(){return this._hpRatio}get MPRadio(){return this._mpRatio}},a.PlayerStatusPanel.prototype.PANEL_SIZE=a.PlayerStatusPanel.PANEL_SIZE=d,a.PlayerStatusPanel.prototype.PANEL_PER_ROW_COUNT=a.PlayerStatusPanel.PANEL_PER_ROW_COUNT=e,a.PlayerStatusPanel.prototype.PANEL_COL_COUNT=a.PlayerStatusPanel.PANEL_COL_COUNT=2,a}(lf2||{});
'use strict';var lf2=function(a){const b=a.Utils,c=a.Body,d=a.Interaction,f=a.GameObject,g=a.GameItem,h=a.Team,l=a.GameObjectPool,m=a.PlayerStatusPanel,n=a.KeyboardConfig,p=a.Bound,q=a.KeyEventPool,r=Framework.KeyBoardManager,s=a.Character,t=a.Ball,u=a.Weapon,v=a.GameItem.DIRECTION,w=500,x=500,y=200,A=200,B=20;return a.Player=class{constructor(D,E,F){void 0,this.playerId=D,this.charId=E,this.status=new m(this),this.keyboardConfig=new n(D),this.keyEventPool=new q,this.name=this.keyboardConfig.NAME,this._currentKey=0,this.mpCost=0,this.hpLost=0,this.attackSum=0,void 0!==this.charId&&(F=F||0,F*=1,this.character=new s(E,this),this.hp=w,this.mp=x,this._godMode=!1,this._infMp=!1,this._playerNameCache=void 0,this.spriteParent=null,this._upKeyTimer=!1,this.team=F)}keydown(D){const E=this._parseKeyDownCode(D),F=Date.now();if(0!==E){let G={lf2Key:E,event:D,time:F};this.allowCombineKey?this.keyEventPool.push(G):this.keyEventPool[0]=G}else return!1;if(this._updateCurrentKey(F),this.character){if(!this.character.world._allowUpdate)return!1;const G=this._currentKey&~((n.KEY_MAP.LEFT|n.KEY_MAP.RIGHT)&~n.KEY_MAP.FRONT),H=this.character.currentFrame.hit;let I=void 0===this.keyEventPool[0]?void 0:this.keyEventPool[0].lf2Key,J=void 0===this.keyEventPool[1]?void 0:this.keyEventPool[1].lf2Key;this.allowCombineKey&&void 0!==J&&I===J&&(I&n.KEY_MAP.FRONT)===n.KEY_MAP.FRONT&&(this.character.startRun(),define.DEBUG&&void 0);const K=H[G],L=this.character.obj.frames[K];K&&L&&this.requestMp(L.mp)&&((this._currentKey&n.KEY_MAP.LEFT)===n.KEY_MAP.LEFT?this.character.setNextDirection(v.LEFT):(this._currentKey&n.KEY_MAP.RIGHT)===n.KEY_MAP.RIGHT&&this.character.setNextDirection(v.RIGHT),this.character.setNextFrame(K))}return!0}keyup(D,E,F){}set team(D){this._team=h.GetTeamInstance(D),this._playerNameCache=void 0}get team(){return this._team}_parseKeyDownCode(D){return this.keyboardConfig.keyMap.get(D.keyCode)||0}_parseHitKey(D){let E=0;for(let I,F=n.HIT_KEY.HIT_LIST,G=0,H=F.length;G<H&&0==E;G++)if(I=F[G],(D&n.HIT_KEY[I])===n.HIT_KEY[I]){E=n.HIT_KEY[I];break}return E|=D&(n.KEY_MAP.LEFT|n.KEY_MAP.RIGHT),E}_getFuncKeyCodeByEvent(D){const E=this.keyboardConfig.config;let F=0;return n.KEY_MAP.KEY_LIST.forEach(G=>{D.keyCode===E[G]&&(F|=n.KEY_MAP[G])}),this._parseHitKey(F)}_updateCurrentKey(D){let E=0;for(let G,F=q.KEY_KEEP_COUNT;1<=F&&0==E;F--){G=0;for(let H=0;H<F&&void 0!==this.keyEventPool[H];H++){if(D-this.keyEventPool[H].time>y){0!==H&&(this.keyEventPool[H]=void 0);continue}G|=this.keyEventPool[H].lf2Key}E=this._parseHitKey(G)}return this._currentKey=E,E}load(){}update(){const D=Date.now();this._updateCurrentKey(D)}draw(D){if(this.character&&this.character._allowDraw){const E=this.getPlayerNameImage();D.drawImage(E,0,0,A,B,this.character.position.x-(A>>1),this.character.position.y,A,B)}}getPlayerNameImage(){if(this._playerNameCache)return this._playerNameCache;this._playerNameCache=document.createElement('canvas'),this._playerNameCache.width=A,this._playerNameCache.height=B;let D=this._playerNameCache.getContext('2d');const E={x:A>>1,y:0};return D.font='12px \'Microsoft YaHei\'',D.fillStyle=this.team.getColor(),D.strokeStyle=this.team.getDarkColor(),D.lineWidth=2,D.textAlign='center',D.textBaseline='top',D.strokeText(this.keyboardConfig.config.NAME,E.x,E.y),D.fillText(this.keyboardConfig.config.NAME,E.x,E.y),this._playerNameCache}addHp(D){const E=b.returnInRangeValue(this.hp+D,0,w);0>D&&(this.hpLost+=-D),this.hp=E}addMp(D){const E=b.returnInRangeValue(this.mp+D,0,x);0>D&&(this.mpCost+=-D),this.mp=E}requestMp(D){const E=1e3;if(define.INF_MP||this._infMp||0===D)return!0;let F=Math.sign(D);D=Math.abs(D);let G=F*(D%E),H=F*(0|10*(D/E));return this.mp>=G&&this.hp>=H&&(this.addMp(-G),this.addHp(-H),!0)}isKeyPressed(D){return(this._currentKey&D)===D}hurtPlayer(D){return this._godMode||0===D||(D=intval(D),this.addHp(-D),!0)}setGodMode(D){this._godMode=D}addAttackCount(D){this.attackSum+=D}setInfMp(D){this._infMp=D}addBall(D,E){if(!(E instanceof a.GameItem))throw TypeError('caller is not an instance of lf2.GameItem');let F=[];for(let M=0;M<D.count;M++){const N=l.get(D.objectId);if(N){let O=null;switch(N.fileInfo.type){case 0:O=new s(D.objectId,this),void 0;break;case 1:O=new u(D.objectId,this);break;default:O=new t(D.objectId,this);}null!==O&&F.push(O)}}const G=D.appearPoint.x,I=Math.toRad(45),J=I/F.length,L=M=>{if(1===F.length)return{x:D.appearPoint.x,y:E.position.y};const N=-(I/2)+M*J;return{x:G*Math.cos(N),y:G*Math.sin(N)+E.position.y}};return F.forEach((M,N)=>{M.setFrameById(D.action),M._direction=D.dir===v.RIGHT?E._direction:!E._direction;const O=E._direction===v.RIGHT?1:-1;let P=E.position.z-E.currentFrame.center.y+D.appearPoint.y,Q=L(N);M.position=new Framework.Point3D(E.position.x-O*(E.currentFrame.center.x-Q.x),Q.y,P),M._getVelocity().isZero&&!D.dv.isZero&&(M._velocity.x=D.dv.x,M._velocity.y=D.dv.y),this.spriteParent.addNewItem(M)}),F}containsKey(D){const E=this.keyboardConfig.KEY_MAP.REVERT_MAP[D],F=this.keyboardConfig.config[E];return r.isKeyDown(F)}_isHoldingLastKey(){return void 0!==this.keyEventPool[0]&&r.isKeyDown(this.keyEventPool[0].event.keyCode)}get isObjectChanged(){return!0}get allowCombineKey(){return!!this.character}get isAlive(){return 0<this.hp}},a.Player.prototype.DEFAULT_HP=w,a.Player.prototype.DEFAULT_MP=x,a}(lf2||{});
'use strict';var lf2=function(a){const b=a.GameMapPool,c=a.GameItem,d=Framework.Point,e=Framework.ResourceManager,f=Framework.Config.fps,g=a.Bound,i=500/1e3*f,j=Framework.Config.canvasWidth>>1,k=l=>{return l instanceof a.Character||l instanceof a.Ball||!1};return a.WorldScene=class extends Framework.Scene{constructor(m){super(),this.config=m,this.cameraPosition=0,this.players=this.config.players,this._stepByStep=!1,this._allowUpdate=!0,this.addPlayers(this.players),this._targetCameraX=0,this._cameraCounter=0,this._cameraDiff=0,this._startMoveCameraPos=0,this._cameraPositionCache=new d(0,0),this._cameraChanged=!1,this._waitForAdd=[],this.setMapById(this.config.mapId)}addPlayers(m){m.forEach(n=>{this.attach(n),this.attach(n.character)})}update(){let m=0,n=0;if(this.config.players.forEach(q=>{m+=q.character.position.x,n++}),this._setCameraPositionByX(m/n),define.MAP_SMOOTHLY&&this._cameraCounter<i?(this._cameraCounter++,this.cameraPosition=this._startMoveCameraPos+this._cameraDiff*(this._cameraCounter/i)):this.cameraPosition=this._targetCameraX,this._cameraChanged=!0,this.map.update(),!!this._allowUpdate){0<this._waitForAdd.length&&(this._waitForAdd.forEach(q=>this.attach(q)),this._waitForAdd.length=0);let o=this._getAllBdyItem();this.attachArray.forEach(q=>{q instanceof a.GameItem&&q.setBdyItems(o)}),this.attachArray.forEach(q=>{if(q instanceof a.GameItem){let s=q.getAttackItems(),t=[];s.forEach(v=>{const w=v.item.notifyDamageBy(q,v.itr);w&&(define.DEBUG&&void 0,t.push(v))}),q.postDamageItems(t.map(v=>v.item));let u=this.map.getBound(q.position);u!==g.NONE&&q.onOutOfBound(u,this.map)}}),this.attachArray.forEach(q=>{q.update()}),this.attachArray.forEach(q=>{q instanceof a.GameItem&&q.cleanUpItr()}),this._stepByStep&&(this._allowUpdate=!1)}}addNewItem(m){this.attachArray.length-define.PLAYER_COUNT>define.MAX_ITEM_COUNT||this._waitForAdd.push(m)}_getAllBdyItem(){let m=[];return this.attachArray.forEach(n=>{n instanceof a.GameItem&&n.currentFrame.bdy&&n._allowDraw&&m.push(n)}),m}attach(m){super.attach(m),void 0!==m.world&&(m.world=this)}_setCameraPositionByX(m){const n=this.map.width-Framework.Config.canvasWidth,o=j;let q=0;q=m<=o?0:m>=this.map.width-o?1:(m-o)/n,q===this._targetCameraX||(this._startMoveCameraPos=this.cameraPosition,this._cameraCounter=0),this._targetCameraX=q,this._cameraDiff=q-this._startMoveCameraPos}_getCameraPositionAsPoint(){if(!this._cameraChanged)return this._cameraPositionCache;let m=this.map.width-Framework.Config.canvasWidth;return m*=this.cameraPosition,this._cameraPositionCache.x=0|m,this._cameraChanged=!1,this._cameraPositionCache}getDistanceBetweenCameraAndItem(m){const n=this._getCameraPositionAsPoint();return m.position.x-(n.x+j)}draw(m){m.setTransform(1,0,0,1,0,0),this.map.draw(m),m.save();let n=this._getCameraPositionAsPoint();if(m.translate(-n.x,-n.y),this.attachArray.sort((o,q)=>{if(!k(o))return-1;if(!k(q))return 1;const s=o.position,t=q.position,u=s.y-t.y;return 0==u?o._createTime-q._createTime:u}),this.attachArray.forEach(function(o){o.draw(m)},this),m.restore(),!this._allowUpdate){const o=m.canvas.width>>1,q=(m.canvas.height-120>>1)+60;m.fillStyle='#FFF',m.strokeStyle='#09123b',m.lineWidth=5,m.textAlign='center',m.textBaseline='middle',m.font='32px bold Arial',m.strokeText('PAUSE',o,q),m.fillText('PAUSE',o,q)}}getEnemy(m){let n=null;return this.players.forEach(o=>{null==n&&(m.team.equalsTo(o.team)||(n=o.character,(!n._allowDraw||0>=o.hp)&&(n=null)))}),n}getFriend(m){let n=null;return this.players.forEach(o=>{null!=n||m.team.equalsTo(o.team)&&o!==m&&(n=o.character)}),null===n&&(n=m.character),n}detach(m){super.detach(m),m.alive=!1}keydown(m){m.keyCode===Framework.KeyBoardManager.getKeyCodeByString('F2')?(this._stepByStep=!0,this._allowUpdate=!0):m.keyCode===Framework.KeyBoardManager.getKeyCodeByString('F1')&&(this._stepByStep=!1,this._allowUpdate=!this._allowUpdate)}setMapById(m){this.map=b.get(m),this.map.initialize(this)}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.ResourceManager,c=Framework.Game,d="__main_menu",f=a.Prefetch;return a.LaunchMenu=class extends Framework.Level{constructor(){super(),this.loadResLoadStart=!1}loadingProgress(g,h){super.loadingProgress(g,h)}load(){super.load(),this.audio=new Framework.Audio({ok:define.MUSIC_PATH+"m_ok.m4a",join:define.MUSIC_PATH+"m_join.m4a",cancel:define.MUSIC_PATH+"m_cancel.m4a",pass:define.MUSIC_PATH+"m_pass.m4a",end:define.MUSIC_PATH+"m_end.m4a"}),this.html="",this._menuAttached=!1,this._menuContainer=void 0,b.loadResource(define.DATA_PATH+"LaunchScreen.html",{method:"GET"}).then(g=>{return g.text()}).then(g=>{this.html=g,this.showLaunchMenu()})}initialize(){}update(){super.update(),this._menuAttached&&!this.loadResLoadStart&&(a["!MainGame"].playBgm(),this.loadResLoadStart=!0,this.preload())}preload(){f.start(),a.LoadingLevel.PreloadLoadingVideo()}draw(g){super.draw(g),!this._menuAttached}click(){this._fullScreenGame()}_fullScreenGame(){if(!define.DEBUG){const g=document.documentElement;g.requestFullscreen?g.requestFullscreen():g.mozRequestFullScreen?g.mozRequestFullScreen():g.webkitRequestFullscreen?g.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):g.msRequestFullscreen&&g.msRequestFullscreen()}}showLaunchMenu(){this.isCurrentLevel&&(""===this.html||this._menuAttached||($("#"+d).remove(),this._menuContainer=$(this.html),this._menuContainer.attr("id",d),this._menuContainer.find("#start_game_btn").click(()=>{this._fullScreenGame(),this.audio.play("ok"),c.goToLevel("loading")}),this._menuContainer.find("#control_set_btn").click(()=>{this.audio.play("ok"),c.goToLevel("control")}),this._menuContainer.find("#help_btn").click(()=>{this.audio.play("ok"),c.goToLevel("help")}),$("body").append(this._menuContainer),this._menuAttached=!0,c.resizeEvent()))}autodelete(){this._menuContainer&&(this._menuContainer.remove(),this._menuContainer=void 0),super.autodelete()}},a}(lf2||{});
"use strict";var lf2=function(d){const f=Framework.Game,g=Framework.ResourceManager,h=Framework.KeyBoardManager,j="__setting_container",l="cur",m=o=>{$(`.${l}`).removeClass(l),o&&o.classList.add(l)},n=["Esc","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"];for(let o=0;o<n.length;o++)n[o]=h.getKeyCodeByString(n[o]);return n.sort((o,q)=>o-q),d.MySettingLevel=class extends Framework.Level{constructor(){super()}load(){this.audio=new Framework.Audio({ok:define.MUSIC_PATH+"m_ok.m4a",cancel:define.MUSIC_PATH+"m_cancel.m4a"}),this.config=JSON.parse(localStorage.getItem(define.KEYBOARD_CONFIG_KEY))||JSON.parse(JSON.stringify(d.KeyboardConfig.DEFAULT_CONFIG)),this.html="",this.players=[],this._attached=!1,this._settingContainer=void 0,g.loadResource(define.DATA_PATH+"SettingScreen.html",{method:"GET"}).then(o=>{return o.text()}).then(o=>{this.html=o,this.showSettingMenu()})}getConfigByPlayerId(o){let q=this.config[o];return q||(q=this.config[o]={}),q}initialize(){}update(){super.update()}draw(o){super.draw(o);const q=d.KeyboardConfig.prototype.KEY_MAP.KEY_LIST;for(let r=0;r<define.PLAYER_COUNT;r++){const s=this.players[r],t=this.getConfigByPlayerId(r);void 0===t||(q.forEach(v=>{s.find(".keys."+v).text(h.mappingTable()[t[v]])}),s.find(".name").val(t.NAME))}}keydown(o,q,r){super.keydown(o,q,r),void 0;let s=$(".cur"),t=s.parent().data("player");if(0<s.length){const u=s[0];if(u.classList.contains("keys")){let v=s.data("key");this.getConfigByPlayerId(t)[v]=-1===n.binarySearch(r.keyCode)?r.keyCode:void 0,m(null)}}this.forceDraw()}showSettingMenu(){if(this.isCurrentLevel&&""!==this.html&&!this._settingContainer){$("#"+j).remove(),this._settingContainer=$(this.html),this._settingContainer.attr("id",j),this._settingContainer.bind("mousedown",function(){m(null)}),this._settingContainer.find(".btn_ok").click(()=>{this.audio.play("ok"),this.saveConfig(),f.popLevelHistory()}),this._settingContainer.find(".btn_cancel").click(()=>{this.audio.play("cancel"),f.popLevelHistory()}),this.forceDraw();let o=this._settingContainer.find(".player:first"),q=this._settingContainer.find(".players");for(let r=0;r<define.PLAYER_COUNT;r++)this.players[r]=o.clone(),this.players[r].attr("data-player",r),this.bindPlayerEvent(this.players[r]),q.append(this.players[r]);o.remove(),$("body").append(this._settingContainer),this._attached=!0,f.resizeEvent()}}bindPlayerEvent(o){const q=this;o.find(".name").bind("keydown",function(r){r.stopImmediatePropagation()}).bind("mousedown",function(r){m(r.target),r.stopImmediatePropagation()}).bind("keyup",function(){let s=$(this.parentNode).data("player");q.getConfigByPlayerId(s).NAME=this.value}),o.find(".keys").bind("mousedown",function(r){m(r.target),r.stopImmediatePropagation()})}click(){}autodelete(){this._settingContainer&&(this._settingContainer.remove(),this._settingContainer=void 0)}saveConfig(){localStorage.setItem(define.KEYBOARD_CONFIG_KEY,JSON.stringify(this.config)),d.KeyboardConfig.clearConfigCache()}},d}(lf2||{});
"use strict";var lf2=function(c){const d="__loading_container",f=Framework.Game,g=c.Effect,h=Framework.ResourceManager,j=Framework.Level,k=Framework.AnimationSprite,l=Framework.Point,m=c.GameObjectPool,n=c.GameMapPool,o=c.GameObject,p=c.GameObjectCharacter,q=c.GameObjectBall,s=c.GameObjectWeapon,t=c.GameMap,w=c.Prefetch;let x=define.IMG_PATH+"loading_video.mp4",y=0;return c.LoadingLevel=class z extends Framework.Level{constructor(){if(super(),void 0===z.prototype.Instance)z.prototype.Instance=this;else throw"Only One instance of Loading Level allowed";this.html="",this._htmlLoader=h.loadResource(define.DATA_PATH+"LoadingScreen.html",{method:"GET"}).then(A=>{return A.text()}).then(A=>{this.html=A}),this.zip={}}initializeProgressResource(){super.initializeProgressResource(),this._htmlLoader.then(()=>{this.showLoadingVideo()}),c.LoadingLevel.PreloadLoadingVideo()}loadingProgress(){}load(){this.allDone=!1,this._startLoadingTime=Date.now(),this.promiseList=[],this.objInfo=[],this.bgInfo=[],new Promise(A=>{return Promise.all([w.get("DATA_LIST"),w.get("DATA").then(C=>this.zip=C).catch(()=>{})]).then(C=>{return C[0]}).then(C=>{const D=C.object,E=this;return new Promise(F=>{let I=function*(){for(let K=0;K<D.length;)yield D[K++];return null}(),J=function(){let K=I.next();const L=K.value;null===L?F(C):(E._showLoadFile(L.file),E.loadDataResource(L.file).then(M=>{const N=E.parseObj(L,M);N instanceof o?(E.objInfo.push(N),N.done().then(()=>{void 0,J()})):J()}))};J()})}).then(C=>{return C}).then(C=>{const D=C.background,E=this;return new Promise(F=>{let I=function*(){for(let K=0;K<D.length;)yield D[K++];return null}(),J=function(){let K=I.next();const L=K.value;null===L?F(C):(E._showLoadFile(L.file),E.loadDataResource(L.file).then(M=>{const N=E.parseMap(L,M);N instanceof t?(E.bgInfo.push(N),N.done().then(()=>{void 0,J()})):J()}))};J()})}).then(A)}).then(A=>{return A}).then(()=>{let C=[define.IMG_PATH+"player_status_panel.png",define.IMG_PATH+"countdown_1.png",define.IMG_PATH+"countdown_2.png",define.IMG_PATH+"countdown_3.png",define.IMG_PATH+"countdown_4.png",define.IMG_PATH+"countdown_5.png",define.IMG_PATH+"join_char_1.png",define.IMG_PATH+"join_char_2.png",define.IMG_PATH+"selection_panel.png",define.IMG_PATH+"random_char.png"],D=[];return C.forEach(E=>{void 0,D.push(h.loadImage({url:E}))}),Promise.all(D)}).then(A=>{return A}).then(()=>{let C=[define.DATA_PATH+"SelectionScreen.html",define.DATA_PATH+"FightScreen.html"],D=[];return C.forEach(E=>{void 0,D.push(h.loadResource(E))}),Promise.all(D)}).then(A=>{return A}).then(()=>{void 0,void 0,void 0,this.allDone=!0})}loadDataResource(A){A=A.replace(/\\/g,"/").replace(/\/\//,"/");const B=this.zip.files?this.zip.files[A]:void 0;return!define.DEBUG&&B?B.async("text"):h.loadResource(define.DATA_PATH+A).then(C=>C.text())}update(){this.allDone&&Date.now()-this._startLoadingTime>=define.LOADING_MIN_TIME&&f.goToLevel("selection")}draw(A){super.draw(A)}parseObj(A,B){let C;switch(A.type){case 0:C=new p(A,B);break;case 1:C=new s(A,B);break;case 3:C=new q(A,B);break;default:C=new o(A,B);}return m.set(A.id,C),C._preLoadSound(),C}parseMap(A,B){let C;return C=new t(A,B),n.set(A.id,C),C}showLoadingVideo(){this.isCurrentLevel&&(""!==this.html&&!this._loadingContainer&&($("#"+d).remove(),this._loadingContainer=$(this.html),this._loadingContainer.attr("id",d),this._loadingContainer.find("#loadProcess").attr("src",c.LoadingLevel.LOADING_RESOURCE_SRC),this._loadPath=this._loadingContainer.find("#loadDatPath")),!this._attached&&this._loadingContainer&&($("body").append(this._loadingContainer),this._attached=!0,this._startLoadingTime=Date.now(),f.resizeEvent()))}autodelete(){this._loadingContainer&&(this._loadingContainer.remove(),this._loadingContainer=void 0)}_showLoadFile(A){const B=A.replace(/\\/g,"/");void 0,this._loadPath.text("\u6B63\u5728\u8B80\u53D6: "+B)}static get LOADING_RESOURCE_SRC(){return x}static PreloadLoadingVideo(){0<y||(y=1,w.get("LOADING_VIDEO").then(A=>{x=A,y=4}))}},c}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Game,f=Framework.ResourceManager,g=Framework.KeyBoardManager,j=a.Prefetch,k="__help_container";class l{constructor(m,n){this.id=m.id,a.LoadingLevel.prototype.Instance.loadDataResource(m.file).then(o=>{const p=o.lines();let q=0;const r=2;for(let u,t=0;t<p.length&&q<r;t++)u=p[t].trim(),u.startsWith("name:")?(this.name=u.substr(5).trim(),q++):u.startsWith("head:")&&(this.headPath=u.substr(5).trim(),q++);if(q<r)throw"Parser Error"}).catch(()=>{void 0,this.name="???",this.headPath="sprite/template1/face.png"}).then(()=>{let o=n[this.name];o?this.skill=o:void 0})}}return a.HelpLevel=class extends Framework.Level{constructor(){super()}load(){this.audio=new Framework.Audio({ok:define.MUSIC_PATH+"m_ok.m4a",cancel:define.MUSIC_PATH+"m_cancel.m4a"}),this.html="",this._attached=!1,this._helpContainer=void 0,Promise.all([f.loadResource(define.DATA_PATH+"HelpScreen.html",{method:"GET"}).then(m=>m.text()),j.get("DATA_LIST"),j.get("SKILL_LIST")]).then(m=>{this.simInfo=m[1].object.filter(n=>0===n.type).map(n=>new l(n,m[2])),this.html=m[0]})}initialize(){}update(){super.update(),this._attached||(this._forceDraw=!0)}draw(m){super.draw(m),this._attached||this._showHelp()}_showHelp(){if(this.isCurrentLevel&&""!==this.html&&!this._helpContainer&&this.simInfo.every(m=>void 0!==m.name)){$("#"+k).remove(),this._helpContainer=$(this.html),this._helpContainer.attr("id",k),this._helpContainer.find(".btn_ok").click(()=>{this._backToMenu()}),this._helpContainer.find("#help-tab").tabs({});let m=this._helpContainer.find("#tabs-1 video");m.each(function(){this.loop=!0,this.parentNode.parentNode.video=this}),m.parent().parent().on("mouseover",function(){const p=this.video;p.play()}).on("mouseleave",function(){const p=this.video;p.pause(),p.currentTime=0});let n=this._helpContainer.find("#char-list");this.simInfo.filter(p=>void 0!==p.skill).forEach(p=>{let q=$("<div class='cover-s'></div>"),r=new Image;q.attr("data-id",p.id).attr("title",p.name).data("c",p),q.append(r),r.src=define.IMG_PATH+p.headPath,n.append(q)});let o=n.find(".cover-s");o.click(p=>{o.removeClass("active");const q=$(p.currentTarget),r=q.data("c");q.addClass("active");let t=this._helpContainer.find("#char-info").empty(),u=$(`
                    <div class="char-info">
                        <img src="${define.IMG_PATH+r.headPath}"/>
                        <div class="char-name"></div>
                    </div>
                    
                    <ul class="char-skill"></ul>
`);t.append(u),u.find(".char-name").text(r.name);let v=t.find("ul.char-skill");r.skill.forEach(w=>{let y=$("<li></li>");y.attr("skillName",w.skillName),y.attr("keyHint",w.keyHint),v.append(y)})}),$("body").append(this._helpContainer),this._attached=!0,b.resizeEvent()}}_backToMenu(){this.audio.play("cancel"),b.goToLevel("menu")}click(){}keydown(m,n,o){super.keydown(m,n,o),"Esc"===m.key&&this._backToMenu()}autodelete(){this._helpContainer&&(this._helpContainer.find("#help-tab").tabs("destroy"),this._helpContainer.remove(),this._helpContainer=void 0)}static _getFromWord(m){let n={},o=[],p="";return m.trim().split("\n").map(q=>q.trim()).forEach(q=>{if(q)if(q.match(/^\D+/))p&&(n[p]=o),p=q,o=[];else{q=q.replace(/\d+\.	/g,"");let r=q.indexOf(" ");o.push({skillName:q.substr(0,r),keyHint:q.substr(r+1)})}}),JSON.stringify(n)}},a}(lf2||{});
"use strict";var lf2=function(a){const b=Framework.Game,c=Framework.ResourceManager,d=Framework.KeyBoardManager,f=a.KeyboardConfig,g=a.GameObjectPool,h=a.GameMapPool,j=a.Team,k="__selection_container",l="data-player",n="data-char",o="data-team",q="counting-down",r="data-rt",s=a.Player,u={WAIT_JOIN:0,SELECT_CHARACTER:1,SELECT_TEAM:2,SELECT_DONE:3,ENTERING:4},v=-1,y=24,B=(E,F,G)=>{return 0===G?E:(E+F+G)%F},C=(E,F)=>{return E+(F._selectStage===u.SELECT_DONE?1:0)},D=(E,F)=>{const G=F._selectStage;return E+(G!==u.SELECT_DONE&&G!==u.WAIT_JOIN?1:0)};return a.SelectionLevel=class extends Framework.Level{constructor(){super(),this.html="",this._htmlLoader=c.loadResource(define.DATA_PATH+"SelectionScreen.html",{method:"GET"}).then(E=>{return E.text()}).then(E=>{this.html=E}),this._cheatMusicPlayed=!1}load(){this.audio=new Framework.Audio({ok:define.MUSIC_PATH+"m_ok.m4a",join:define.MUSIC_PATH+"m_join.m4a",cancel:define.MUSIC_PATH+"m_cancel.m4a"}),this._chectAudio=new Framework.Audio({pass:define.MUSIC_PATH+"m_pass.m4a"}),this.players=[],this.playersEle=[];for(let E=0;E<define.PLAYER_COUNT;E++){const F=new s(E);F.setSelectStage=function(G){G|=0,this._selectStage=G,this.elem&&this.elem.attr("data-select-stage",this._selectStage)},F.setSelectStage(u.WAIT_JOIN),F._charIndex=0,F._teamId=0,this.players[E]=F}this._attached=!1,this._selectionContainer=void 0,this._htmlLoader.then(()=>{this.showSelectionPanel()}),this._charIdArray=[v],this._teamInsArray=Array(define.TEAM_COUNT+1),this._mapIdArray=[v],this._mapIndex=0,g.forEach(E=>{E instanceof a.GameObjectCharacter&&this._charIdArray.push(E.id)}),h.forEach(E=>{E instanceof a.GameMap&&this._mapIdArray.push(E.id)});for(let E=0;E<=define.TEAM_COUNT;E++)this._teamInsArray[E]=j.GetTeamInstance(E);this._isEnteringPanelShowed=!1,this._stopAllMusic(),this.checkCheat()}initialize(){}update(){super.update()}draw(E){if(this._selectionContainer){super.draw(E),void 0;for(let F=0;F<define.SHOW_PLAYER_COUNT;F++){const G=this.players[F]||{};let H=G.elem||this.playersEle[F],I=intval(G._selectStage||0);const J=H.find(".player-name"),K=H.find(".fighter-name"),L=H.find(".team-name");H.find(".flashing").removeClass("flashing"),I===u.WAIT_JOIN?(J.addClass("flashing"),H.removeAttr(n),H.removeAttr(o)):I===u.SELECT_CHARACTER?K.addClass("flashing"):I===u.SELECT_TEAM?(L.addClass("flashing"),L.text(this._teamInsArray[G._teamId].toString())):I===u.SELECT_DONE?void 0!==this._countDownTimer&&this._selectionPanel.attr(r,this._remainingTime):void 0}if(this._isEnteringPanelShowed){this._enteringPanelItems.removeClass("current"),this._enteringPanelItems[this._enteringIndex].classList.add("current");let F=this._mapIdArray[this._mapIndex],G="";G=F===v?"Random":h.get(F).name,$(this._enteringPanelItems[3]).find(".input").text(G)}}}keydown(E,F,G){super.keydown(E,F,G),this.players.forEach(H=>{H.keydown(G)&&this._handlePlayerKeypress(H)}),!this._isEnteringPanelShowed&&this._isMinPlayerEntered()&&(void 0,this._startCountDown()),this.forceDraw()}keyup(E,F,G){super.keyup(E,F,G),this.players.forEach(H=>{H.keyup(E,F,G)}),this.checkCheat()}_handlePlayerKeypress(E){let F=E.elem,G=intval(E._selectStage||0);const H=G;switch(void 0!==this._countDownTimer||this._isEnteringPanelShowed?void 0!==this._countDownTimer&&E.isKeyPressed(f.KEY_MAP.ATTACK)&&G===u.WAIT_JOIN&&(this._stopCountDown(),G++):E.isKeyPressed(f.KEY_MAP.ATTACK)?(void 0,G++):E.isKeyPressed(f.KEY_MAP.JUMP)&&(void 0,G--),G<u.WAIT_JOIN&&(G=u.WAIT_JOIN),G>u.SELECT_DONE&&(G=u.SELECT_DONE),this._isEnteringPanelShowed&&(G=u.ENTERING),G){case u.SELECT_CHARACTER:{let I=0;E.isKeyPressed(f.KEY_MAP.LEFT)?I=-1:E.isKeyPressed(f.KEY_MAP.RIGHT)?I=1:E.isKeyPressed(f.KEY_MAP.UP)&&(I=-E._charIndex),0!=I&&(E._charIndex=this.getCharIdInRange(E._charIndex,I)),E._isRandomChar=this._charIdArray[E._charIndex]===v,F.attr(n,this._charIdArray[E._charIndex])}break;case u.SELECT_TEAM:{let I=0;E.isKeyPressed(f.KEY_MAP.LEFT)?I=-1:E.isKeyPressed(f.KEY_MAP.RIGHT)&&(I=1),0!=I&&(E._teamId=this.getTeamIdInRange(E._teamId,I)),F.attr(o,E._teamId)}break;case u.SELECT_DONE:void 0!==this._remainingTime&&(this._timerTick(),this._selectionPanel.attr(r,this._remainingTime));break;case u.ENTERING:{let I=0;if(E.isKeyPressed(f.KEY_MAP.UP))I=-1;else if(E.isKeyPressed(f.KEY_MAP.DOWN))I=1;else if(E.isKeyPressed(f.KEY_MAP.ATTACK)){switch(this._enteringIndex){case 0:let J={players:[],mapId:v};if(this.players.forEach(K=>{K._selectStage!==u.ENTERING||(J.players[K.playerId]={charId:this._charIdArray[K._charIndex],teamId:K._teamId})}),J.mapId=this._mapIdArray[this._mapIndex],J.mapId===v){let K=this._mapIdArray.filter(L=>L!==v);J.mapId=K[0|Math.random()*K.length]}void 0,this._stopAllMusic(),b.goToLevel("fight",J);break;case 1:Framework.Game.goToLevel("selection");break;case 2:this._randomAllSelectChar();break;case 3:this._mapIndex=B(this._mapIndex,this._mapIdArray.length,1);break;case 4:window.open(atob(a.Egg._EGG_CONTENT._JOIN_APPLICATION_FORM_URL));}this.audio.play("ok")}0!=I&&(this._enteringIndex=B(this._enteringIndex,this._enteringIndexMax,I))}}H===G||this._isEnteringPanelShowed||(E.isKeyPressed(f.KEY_MAP.ATTACK)?this.audio.play("join"):E.isKeyPressed(f.KEY_MAP.JUMP)&&this.audio.play("cancel")),this._isEnteringPanelShowed||E.setSelectStage(G)}_randomSelectChar(E){let F=this._charIdArray[E._charIndex];if(E._isRandomChar){let G=this._charIdArray.filter(I=>I.inRange(1,y)),H=0|Math.random()*G.length;F=G[H],E._charIndex=this._charIdArray.indexOf(F)}E.elem.attr(n,F)}_randomAllSelectChar(){this.players.forEach(E=>{this._randomSelectChar(E)})}showSelectionPanel(){if(this.isCurrentLevel&&""!==this.html&&!this._selectionContainer){$("#"+k).remove(),this._selectionContainer=$(this.html),this._selectionContainer.attr("id",k),this.forceDraw(),this._selectionContainer.find("#selection_ctr_note").click(()=>{b.goToLevel("control")});let E=this._selectionContainer.find(".player:first"),F=this._selectionContainer.find(".players"),G="";for(let H=0;H<define.SHOW_PLAYER_COUNT;H++){this.playersEle[H]=E.clone(),this.playersEle[H].attr(l,H),this.players[H]&&(this.players[H].elem=this.playersEle[H]),F.append(this.playersEle[H]);const I=this.players[H]?this.players[H].keyboardConfig.config.NAME:"";G+=`.player[${l}="${H}"]\x20.player-name:before{content: "${I}";}\n`}this._charIdArray.forEach(H=>{if(H!==v){const I=g.get(H);G+=`.player[${n}="${I.id}"]\x20.player-cover{background-image: url(${I.head.src});}\n`,G+=`.player[${n}="${I.id}"]\x20.fighter-name:before{content: "${I.name}";}\n`}}),G="<style type=\"text/css\">"+G+"</style>",this._selectionContainer.append(G),E.remove(),$("body").append(this._selectionContainer),this._selectionPanel=this._selectionContainer.find("#selection_panel"),this._enteringPanel=this._selectionContainer.find("#selection_entering_panel"),this._enteringPanelItems=this._enteringPanel.find("li.item"),this._attached=!0,this._enteringIndexMax=this._enteringPanelItems.length,b.resizeEvent()}}_isMinPlayerEntered(){return this.players.reduce(C,0)>=2&&0===this.players.reduce(D,0)}_isAllPlayerEntered(){return 0===this.players.reduce(D,0)}_startCountDown(){void 0!==this._countDownTimer||(this._remainingTime=5,this._selectionPanel.attr(r,this._remainingTime),this._selectionPanel.addClass(q),this._countDownTimer=setInterval(()=>{this._timerTick()},1e3))}_stopCountDown(){this._selectionPanel.removeClass(q),clearInterval(this._countDownTimer),this._countDownTimer=void 0}_timerTick(){return void 0===this._countDownTimer?void 0:1>=this._remainingTime?(this._stopCountDown(),this._showEnteringPanel(),void this.forceDraw()):void(this.forceDraw(),this._remainingTime--)}_showEnteringPanel(){this._isEnteringPanelShowed=!0,this._selectionPanel.addClass("entering-shown"),this._enteringPanel.addClass("show"),this._randomAllSelectChar(),this.players.forEach(E=>{E._selectStage===u.WAIT_JOIN||(E._selectStage===u.SELECT_DONE?E.setSelectStage(u.ENTERING):void 0)}),this._enteringIndex=0}autodelete(){this._selectionContainer&&(this._stopCountDown(),this._selectionContainer.remove(),this._selectionContainer=void 0)}checkCheat(){return!!this._cheatMusicPlayed||!!a["!MainGame"].cheat&&(this._chectAudio.play("pass"),this._cheatMusicPlayed=!0,!0)}getCharIdInRange(E,F){if(0===F)return E;const G=B(E,this._charIdArray.length,F);return a["!MainGame"].cheat||this._charIdArray[G].inRange(-1,y)?G:this.getCharIdInRange(G,F)}getTeamIdInRange(E,F){return 0===F?E:B(E,this._teamInsArray.length,F)}_stopAllMusic(){a.Egg.stop()}},a}(lf2||{});
"use strict";var lf2=function(a){const b="__fight_container",c=60,d="data-player",f=Framework.Point,g=Framework.Game,h=Framework.Sprite,j=a.Character,l=a.Practice,m=a.GameMap,n=a.Fighter,o=a.KeyboardConfig,p=a.Player,q=a.WorldScene,r=Framework.ResourceManager,s=a.PlayerStatusPanel,w="draw";return a.FightLevel=class extends Framework.Level{constructor(){super(),this.html="",this._htmlLoader=r.loadResource(define.DATA_PATH+"FightScreen.html",{method:"GET"}).then(A=>{return A.text()}).then(A=>{this.html=A})}receiveExtraDataWhenLevelStart(A){for(let B in this.config={players:[],mapId:A.mapId},A.players)if(B=intval(B),!isNaN(B)){const D=A.players[B];this.config.players[B]=new p(B,D.charId,D.teamId)}}load(){super.load(),a["!MainGame"].playBgm(),this.world=new q(this.config),this.rootScene.attach(this.world),this.audio=new Framework.Audio({end:define.MUSIC_PATH+"m_end.m4a"}),this._statusPanels=Array(define.SHOW_PLAYER_COUNT);const A=this.world.map.width>>1,B=this.world.map.zBoundary.second-this.world.map.zBoundary.first,C=Framework.Config.canvasWidth>>1;this.config.players.forEach(D=>{D.character.position=new Framework.Point3D(A-C+(0|Math.random()*Framework.Config.canvasWidth),(0|Math.random()*B)+this.world.map.zBoundary.first,0)}),this._funcStatus={F6:0,F7:0},this._anyFuncPressed=!1,this._container=void 0,this._htmlLoader.then(()=>{this.showPanel()}),this._startTime=Date.now(),this._gameOver=!1,this._gameOverPanelShown=!1,this._teamInfoCache=void 0}initialize(){}update(){super.update(),this.config.players.forEach(A=>{A.update(),A.status.update()}),this.checkGameOver()&&(this._gameOver=!0,this._gameOverTime=Date.now(),setTimeout(()=>this.showGameOverPanel(),2e3))}draw(A){if(super.draw(A),this.config.players.forEach(B=>{B.status.draw(A)}),this._anyFuncPressed){let B="Function Keys Used: ";for(let C in this._funcStatus)this._funcStatus.hasOwnProperty(C)&&(B+=`${C}: ${this._funcStatus[C]}\x20time(s)`);this._funcBar.textContent=B}}keydown(A,B,C){super.keydown(A,B,C),this.config.players.forEach(E=>{E.keydown(C)});let D=void 0===this._funcStatus[A.key]?0:++this._funcStatus[A.key];switch(A.key){case"F4":Framework.Game.goToLevel("selection");break;case"F6":this.config.players.forEach(F=>{F.setInfMp(1==D%2)});break;case"F7":this.config.players.forEach(F=>{F.addHp(500),F.addMp(500)});break;default:}0!=D&&(this._anyFuncPressed=!0),this.world.keydown(C)}keyup(A,B,C){super.keyup(A,B,C)}keypress(){}click(){}autodelete(){super.autodelete(),this._container&&(this._container.remove(),this._container=void 0)}showPanel(){if(this.isCurrentLevel&&""!==this.html&&!this._container){$("#"+b).remove(),this._container=$(this.html),this._container.attr("id",b),this._funcBar=this._container.find("#funcKeyStatus")[0];const A=this._container.find("#statusPanels");let B=A.find(".status");for(let E=0;E<define.SHOW_PLAYER_COUNT;E++)this._statusPanels[E]=B.clone()[0],this._statusPanels[E].setAttribute(d,E.toString()),this._statusPanels[E].hp=this._statusPanels[E].querySelector(".hp"),this._statusPanels[E].mp=this._statusPanels[E].querySelector(".mp"),this._statusPanels[E].small=this._statusPanels[E].querySelector(".small"),this._statusPanels[E].flag=this._statusPanels[E].querySelector(".flag"),A.append(this._statusPanels[E]),this.config.players[E]&&this.config.players[E].status.setElem(this._statusPanels[E]);B.remove(),this._gameOverPanel=this._container.find("#gameOverPanel"),this._gameOverTimeVal=this._container.find(".time-value"),this._gameOverPanelPlayerRows=[];const C=this._gameOverPanel.find(".player-row"),D=C.parent();this.config.players.forEach((E,F)=>{let G=C.clone();G.attr(d,F),G.find("img.small").attr("src",E.character.obj.small.src),G.find(".player-text").text("P"+(F+1)),G[0]._attackVal=G.find(".cell-attack>.value"),G[0]._hpVal=G.find(".cell-hp>.value"),G[0]._mpVal=G.find(".cell-mp>.value"),G[0]._status=G.find(".cell-status"),this._gameOverPanelPlayerRows[F]=G[0],D.append(G)}),C.remove(),$("body").append(this._container),g.resizeEvent()}}checkGameOver(){if(this._gameOver)return!0;const A=this.getTeamInfo();let B=!1;return A.forEach(C=>{void 0!==C.status&&(B=!0)}),B}getTeamInfo(){let A=new Map,B=0;this.config.players.forEach(E=>{const G=E.team;let H=A.get(G);B++,void 0===H&&(H={alive:0,dead:0,total:0,status:void 0},A.set(G,H)),H.total++,0<E.hp?H.alive++:H.dead++});let C=[];A.forEach(E=>{C.push(E)}),C.sort((E,F)=>F.alive-E.alive);const D=C[0];return D.total===B?D.status=w:0===D.alive?C.forEach(E=>E.status=w):0<D.alive&&0===C[1].alive&&(C.forEach(E=>E.status="lose"),D.status="win"),A}clearTeamInfoCache(){this._teamInfoCache=void 0}showGameOverPanel(){if(!this._gameOverPanelShown){const A=this.getTeamInfo();this._gameOverPanel.removeAttr("hidden"),this.config.players.forEach((E,F)=>{const G=this._gameOverPanelPlayerRows[F];G._attackVal.text(E.attackSum),G._hpVal.text(E.hpLost),G._mpVal.text(E.mpCost),G._status.attr("data-game-status",A.get(E.team).status),G._status.attr("data-char-status",0<E.hp?"alive":"dead")});const B=0|(this._gameOverTime-this._startTime)/1e3,C=B%c;this._gameOverTimeVal.text(`${((B-C)/c).toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`),this.audio.play("end"),this._gameOverPanelShown=!0}}},a}(lf2||{});
"use strict";var lf2=function(a){const b="lf2.net".toUpperCase().split("").reverse(),c=a.FightLevel;class d{constructor(){Framework.Game.addNewLevel({menu:new a.LaunchMenu}),Framework.Game.addNewLevel({control:new a.MySettingLevel}),Framework.Game.addNewLevel({loading:new a.LoadingLevel}),Framework.Game.addNewLevel({selection:new a.SelectionLevel}),Framework.Game.addNewLevel({help:new a.HelpLevel}),Framework.Game.addNewLevel({fight:new c}),this._cheatStatus=!1,this.bgmStatus=!define.DEBUG,this._keyPool=new a.KeyEventPool(b.length),this.bgmParam={name:"bgm",loop:!0,stopPrevious:!0},Object.defineProperty(this.bgmParam,"volume",{configurable:!1,enumerable:!0,get:()=>{return this.bgmStatus?define.BGM_VOLUME:0}}),window.addEventListener("keydown",f=>{switch(this._keyPool.push(f.key.toUpperCase()),f.key){case"F10":this.bgmStatus=!this.bgmStatus,this.playBgm();}}),this.addCheatHandle(),this.addEggHandle()}start(){Framework.Game.start(),define.DEBUG?document.documentElement.classList.add("mode-debug"):document.documentElement.classList.add("mode-product")}keyInSequence(f){return!f.some((g,h)=>g!==this._keyPool[h])}addCheatHandle(){window.addEventListener("keydown",()=>{if(!(a.CurrentLevel instanceof c)&&!this._cheatStatus){let g=this.keyInSequence(b);g&&(this._cheatStatus=!0,define.DEBUG&&void 0)}})}addEggHandle(){window.addEventListener("keydown",()=>{for(let g=0,h=a.Egg.EGG_KEYWORD,k=h.length;g<k;g++){const l=h[g];if(l.hasOwnProperty("key")&&l.hasOwnProperty("sound")&&this.keyInSequence(l.key)){a.Egg.AddPlayQueue(l.sound);break}}})}playBgm(){this.bgmAudio=this.bgmAudio||new Framework.Audio({bgm:define.BGM_PATH+"main.m4a"}),this.bgmAudio.done().then(()=>{this.bgmAudio.play("bgm",this.bgmParam)})}get cheat(){return this._cheatStatus}}return a["!MainGame"]=new d,a["!MainGame"].start(),a}(lf2||{});
//# sourceMappingURL=load.js.map
